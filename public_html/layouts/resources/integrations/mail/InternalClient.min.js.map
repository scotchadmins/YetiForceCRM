{"version":3,"file":"InternalClient.min.js","sources":["InternalClient.js"],"sourcesContent":["/* {[The file is published on the basis of YetiForce Public License 5.0 that can be found in the following directory: licenses/LicenseEN.txt or yetiforce.com]} */\n'use strict';\nIntegrations_Mail_Base.driver = 'InternalClient';\n/**\n * @classdesc Internal client mail integrations class.\n * @class\n */\nwindow.Integrations_Mail_InternalClient = class Integrations_Mail_InternalClient extends Integrations_Mail_Base {\n\t/** @inheritdoc */\n\tsendMail(attr) {\n\t\tthis.log('|â–º| sendMail', attr);\n\t\tif (attr['record'] && app.getRecordId() && attr['record'] !== app.getRecordId()) {\n\t\t\tattr['crmModule'] = app.getModuleName();\n\t\t\tattr['crmRecord'] = app.getRecordId();\n\t\t}\n\t\tAppConnector.request({\n\t\t\tdataType: 'json',\n\t\t\tdata: {\n\t\t\t\tmodule: 'AppComponents',\n\t\t\t\taction: 'Mail',\n\t\t\t\tmode: 'sendMail',\n\t\t\t\t...attr\n\t\t\t}\n\t\t}).done(function (response) {\n\t\t\tif (response.result.status) {\n\t\t\t\tif (attr['record'] && app.getRecordId() && attr['record'] !== app.getRecordId()) {\n\t\t\t\t\tresponse.result.url += '&crmModule=' + attr['crmModule'] + '&crmRecord=' + attr['crmRecord'];\n\t\t\t\t}\n\t\t\t\tVtiger_Index_Js.sendMailWindow(response.result.url, response.result.popup);\n\t\t\t} else {\n\t\t\t\tapp.showError({ title: app.vtranslate('JS_UNEXPECTED_ERROR'), text: response.result.text });\n\t\t\t}\n\t\t});\n\t}\n};\n"],"names":["_typeof","obj","Symbol","iterator","constructor","prototype","ownKeys","object","enumerableOnly","keys","Object","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","target","source","i","arguments","length","forEach","key","_defineProperty","getOwnPropertyDescriptors","defineProperties","defineProperty","value","_toPropertyKey","configurable","writable","_classCallCheck","instance","Constructor","TypeError","_defineProperties","props","descriptor","_createClass","protoProps","staticProps","arg","_toPrimitive","String","input","hint","prim","toPrimitive","res","call","Number","_inherits","subClass","superClass","create","_setPrototypeOf","o","p","setPrototypeOf","bind","__proto__","_createSuper","Derived","hasNativeReflectConstruct","_isNativeReflectConstruct","result","Super","_getPrototypeOf","NewTarget","Reflect","construct","_possibleConstructorReturn","self","_assertThisInitialized","ReferenceError","sham","Proxy","Boolean","valueOf","e","getPrototypeOf","Integrations_Mail_Base","driver","window","Integrations_Mail_InternalClient","_Integrations_Mail_Ba","_super","sendMail","attr","log","record","app","getRecordId","crmModule","getModuleName","crmRecord","AppConnector","request","dataType","data","module","action","mode","done","response","status","url","Vtiger_Index_Js","sendMailWindow","popup","showError","title","vtranslate","text"],"mappings":";;AAAA,kKACA,YAAY,CAAC,SAAAA,OAAAA,CAAAC,GAAA,CAAAD,CAAAA,yBAAAA,CAAAA,OAAAA,OAAA,CAAAE,UAAAA,EAAAA,OAAAA,MAAA,mBAAAA,MAAA,CAAAC,QAAA,CAAA,SAAAF,GAAA,CAAAA,CAAAA,OAAAA,OAAAA,GAAA,CAAAA,CAAAA,SAAAA,GAAA,SAAAA,GAAA,EAAA,UAAA,EAAA,OAAAC,MAAA,EAAAD,GAAA,CAAAG,WAAA,GAAAF,MAAA,EAAAD,GAAA,GAAAC,MAAA,CAAAG,SAAA,CAAAJ,QAAAA,CAAAA,OAAAA,GAAA,CAAAD,CAAAA,OAAA,CAAAC,GAAA,CAAA,CAAA,SAAAK,OAAAC,CAAAA,MAAA,CAAAC,cAAA,CAAA,CAAA,IAAAC,IAAA,CAAAC,MAAA,CAAAD,IAAA,CAAAF,MAAA,KAAAG,MAAA,CAAAC,qBAAA,CAAA,CAAA,IAAAC,OAAA,CAAAF,MAAA,CAAAC,qBAAA,CAAAJ,MAAA,CAAA,CAAAC,cAAA,GAAAI,OAAA,CAAAA,OAAA,CAAAC,MAAA,UAAAC,GAAA,CAAA,CAAA,OAAAJ,MAAA,CAAAK,wBAAA,CAAAR,MAAA,CAAAO,GAAA,CAAAE,CAAAA,UAAA,CAAAP,CAAAA,CAAAA,CAAAA,IAAA,CAAAQ,IAAA,CAAAC,KAAA,CAAAT,IAAA,CAAAG,OAAA,EAAAH,CAAAA,OAAAA,IAAA,UAAAU,aAAAC,CAAAA,MAAA,CAAAC,CAAAA,IAAAA,IAAAA,MAAA,CAAAC,CAAA,CAAA,CAAA,CAAAA,CAAA,CAAAC,SAAA,CAAAC,MAAA,CAAAF,CAAA,GAAAD,MAAA,CAAA,IAAA,EAAAE,SAAA,CAAAD,CAAA,CAAAC,CAAAA,EAAAA,CAAAA,SAAA,CAAAD,CAAA,EAAAA,CAAA,CAAA,CAAA,CAAAhB,OAAA,CAAAI,MAAA,CAAAW,MAAA,CAAAI,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,OAAA,UAAAC,GAAA,CAAA,CAAAC,eAAA,CAAAP,MAAA,CAAAM,GAAA,CAAAL,MAAA,CAAAK,GAAA,CAAA,EAAA,CAAA,CAAA,CAAAhB,MAAA,CAAAkB,yBAAA,CAAAlB,MAAA,CAAAmB,gBAAA,CAAAT,MAAA,CAAAV,MAAA,CAAAkB,yBAAA,CAAAP,MAAA,CAAA,CAAA,CAAAf,OAAA,CAAAI,MAAA,CAAAW,MAAA,GAAAI,OAAA,CAAA,SAAAC,GAAA,CAAA,CAAAhB,MAAA,CAAAoB,cAAA,CAAAV,MAAA,CAAAM,GAAA,CAAAhB,MAAA,CAAAK,wBAAA,CAAAM,MAAA,CAAAK,GAAA,aAAAN,MAAA,CAAA,SAAAO,eAAA1B,CAAAA,GAAA,CAAAyB,GAAA,CAAAK,KAAA,CAAA,CAAA,OAAAL,GAAA,CAAAM,cAAA,CAAAN,GAAA,EAAAA,GAAA,IAAAzB,GAAA,CAAAS,MAAA,CAAAoB,cAAA,CAAA7B,GAAA,CAAAyB,GAAA,CAAA,CAAAK,KAAA,CAAAA,KAAA,CAAAf,UAAA,CAAAiB,CAAAA,CAAAA,CAAAA,YAAA,IAAAC,QAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAAjC,GAAA,CAAAyB,GAAA,CAAAK,CAAAA,KAAA,CAAA9B,GAAA,UAAAkC,eAAAC,CAAAA,QAAA,CAAAC,WAAA,CAAAD,CAAAA,GAAAA,EAAAA,QAAA,YAAAC,WAAA,YAAAC,SAAA,CAAA,mCAAA,CAAA,CAAA,SAAAC,iBAAAnB,CAAAA,MAAA,CAAAoB,KAAA,CAAA,CAAA,IAAA,IAAAC,UAAA,CAAAnB,CAAA,CAAAA,CAAAA,CAAAA,CAAA,CAAAkB,KAAA,CAAAhB,MAAA,CAAAF,CAAA,EAAA,CAAAmB,UAAA,CAAAD,KAAA,CAAAlB,CAAA,EAAAmB,UAAA,CAAAzB,UAAA,CAAAyB,UAAA,CAAAzB,UAAA,EAAAyB,CAAAA,CAAAA,CAAAA,UAAA,CAAAR,YAAA,CAAA,CAAA,CAAA,CAAA,OAAA,GAAAQ,UAAA,GAAAA,UAAA,CAAAP,QAAA,CAAAxB,CAAAA,CAAAA,CAAAA,CAAAA,MAAA,CAAAoB,cAAA,CAAAV,MAAA,CAAAY,cAAA,CAAAS,UAAA,CAAAf,GAAA,EAAAe,UAAA,EAAA,CAAA,SAAAC,YAAAL,CAAAA,WAAA,CAAAM,UAAA,CAAAC,WAAA,CAAA,CAAA,OAAAD,UAAA,EAAAJ,iBAAA,CAAAF,WAAA,CAAAhC,SAAA,CAAAsC,UAAA,CAAA,CAAAC,WAAA,EAAAL,iBAAA,CAAAF,WAAA,CAAAO,WAAA,CAAAlC,CAAAA,MAAA,CAAAoB,cAAA,CAAAO,WAAA,CAAA,WAAA,CAAA,CAAAH,QAAA,CAAAG,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,WAAA,CAAAL,SAAAA,cAAAA,CAAAa,GAAA,CAAAnB,CAAAA,IAAAA,GAAA,CAAAoB,YAAA,CAAAD,GAAA,CAAA,QAAA,CAAA,CAAA,OAAA,QAAA,GAAA7C,OAAA,CAAA0B,GAAA,CAAAA,CAAAA,GAAA,CAAAqB,MAAA,CAAArB,GAAA,CAAA,CAAA,SAAAoB,YAAAE,CAAAA,KAAA,CAAAC,IAAA,CAAA,CAAA,GAAA,QAAA,GAAAjD,OAAA,CAAAgD,KAAA,CAAAA,EAAAA,IAAAA,GAAAA,KAAA,CAAAA,OAAAA,KAAA,KAAAE,IAAA,CAAAF,KAAA,CAAA9C,MAAA,CAAAiD,WAAA,CAAAD,CAAAA,GAAAA,IAAA,eAAAE,GAAA,CAAAF,IAAA,CAAAG,IAAA,CAAAL,KAAA,CAAAC,IAAA,2BAAAjD,OAAA,CAAAoD,GAAA,CAAA,CAAA,OAAAA,GAAA,CAAAd,MAAAA,IAAAA,SAAA,CAAAW,8CAAAA,CAAAA,CAAAA,OAAAA,CAAAA,QAAAA,GAAAA,IAAA,CAAAF,MAAA,CAAAO,MAAA,EAAAN,KAAA,CAAA,CAAA,SAAAO,SAAAC,CAAAA,QAAA,CAAAC,UAAA,CAAA,CAAA,GAAA,UAAA,EAAA,OAAAA,UAAA,EAAA,IAAA,GAAAA,UAAA,CAAAnB,MAAAA,IAAAA,SAAA,CAAAkB,oDAAAA,CAAAA,CAAAA,QAAA,CAAAnD,SAAA,CAAAK,MAAA,CAAAgD,MAAA,CAAAD,UAAA,EAAAA,UAAA,CAAApD,SAAA,CAAA,CAAAD,WAAA,CAAA,CAAA2B,KAAA,CAAAyB,QAAA,CAAAtB,QAAA,IAAAD,YAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAAvB,MAAA,CAAAoB,cAAA,CAAA0B,QAAA,CAAAtB,WAAAA,CAAAA,CAAAA,QAAA,MAAAuB,UAAA,EAAAE,eAAA,CAAAH,QAAA,CAAAC,UAAA,EAAAE,CAAAA,SAAAA,eAAAA,CAAAC,CAAA,CAAAC,CAAA,CAAAF,CAAAA,OAAAA,eAAA,CAAAjD,MAAA,CAAAoD,cAAA,CAAApD,MAAA,CAAAoD,cAAA,CAAAC,IAAA,YAAAH,CAAA,CAAAC,CAAA,CAAA,CAAA,OAAAD,CAAA,CAAAI,SAAA,CAAAH,CAAA,CAAAD,CAAA,CAAAD,CAAAA,eAAA,CAAAC,CAAA,CAAAC,CAAA,CAAA,CAAA,SAAAI,aAAAC,OAAA,CAAA,CAAA,IAAAC,yBAAA,CAAAC,yBAAA,EAAAC,CAAAA,OAAAA,UAAAA,CAAAA,IAAAA,MAAA,CAAAC,KAAA,CAAAC,eAAA,CAAAL,OAAA,CAAA,CAAA,GAAAC,yBAAA,CAAAK,CAAAA,IAAAA,SAAA,CAAAD,eAAA,OAAAnE,WAAA,CAAAiE,MAAA,CAAAI,OAAA,CAAAC,SAAA,CAAAJ,KAAA,CAAA/C,SAAA,CAAAiD,SAAA,EAAA,CAAA,KAAAH,MAAA,CAAAC,KAAA,CAAApD,KAAA,MAAAK,SAAA,CAAA,CAAA,OAAAoD,0BAAA,CAAA,IAAA,CAAAN,MAAA,CAAAM,CAAAA,CAAAA,SAAAA,0BAAAA,CAAAC,IAAA,CAAAvB,IAAA,CAAAA,CAAAA,GAAAA,IAAA,GAAArD,QAAAA,GAAAA,OAAA,CAAAqD,IAAA,CAAA,EAAA,UAAA,EAAA,OAAAA,IAAA,CAAA,CAAA,OAAAA,IAAA,CAAAA,GAAAA,KAAAA,CAAAA,GAAAA,IAAA,CAAAf,MAAAA,IAAAA,SAAA,oEAAAuC,sBAAA,CAAAD,IAAA,CAAA,CAAA,SAAAC,uBAAAD,IAAA,CAAA,CAAA,GAAA,KAAA,CAAA,GAAAA,IAAA,CAAA,MAAA,IAAAE,cAAA,CAAAF,2DAAAA,CAAAA,CAAAA,OAAAA,IAAA,CAAAR,SAAAA,yBAAAA,0BAAAK,OAAA,EAAA,CAAAA,OAAA,CAAAC,SAAA,CAAAD,OAAAA,CAAAA,CAAAA,CAAAA,GAAAA,OAAA,CAAAC,SAAA,CAAAK,IAAA,CAAA,OAAA,CAAA,CAAA,CAAA,GAAA,UAAA,EAAA,OAAAC,KAAA,CAAA,OAAA,CAAA,CAAA,CAAA,GAAA,CAAA,OAAAC,OAAA,CAAA5E,SAAA,CAAA6E,OAAA,CAAA7B,IAAA,CAAAoB,OAAA,CAAAC,SAAA,CAAAO,OAAA,CAAAE,EAAAA,CAAAA,UAAAA,EAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,MAAAA,CAAA,sBAAAZ,eAAAX,CAAAA,CAAA,CAAAW,CAAAA,OAAAA,eAAA,CAAA7D,MAAA,CAAAoD,cAAA,CAAApD,MAAA,CAAA0E,cAAA,CAAArB,IAAA,YAAAH,CAAA,CAAA,CAAA,OAAAA,CAAA,CAAAI,SAAA,EAAAtD,MAAA,CAAA0E,cAAA,CAAAxB,CAAA,CAAA,CAAA,CAAAW,eAAA,CAAAX,CAAA,CAEb,CAAA;AACA;AACA;AACA,GAJAyB,sBAAsB,CAACC,MAAM,CAAG,gBAAgB,CAKhDC,MAAM,CAACC,gCAAgC,cAAA,SAAAC,qBAAA,CAAA,CAAA,SAAAD,kCAAArD,CAAAA,OAAAA,eAAA,CAAAqD,IAAAA,CAAAA,gCAAA,CAAAE,CAAAA,MAAA,CAAAxE,KAAA,CAAA,IAAA,CAAAK,SAAA,CAAA,CAAAgC,SAAA,CAAAiC,gCAAA,CAAAC,qBAAA,CAAAC,CAAAA,IAAAA,MAAA,CAAAzB,YAAA,CAAAuB,gCAAA,CAAA,CAAA,OAAA9C,YAAA,CAAA8C,gCAAA,CAAA,CAAA,CAAA9D,GAAA,CAAAK,UAAAA,CAAAA,KAAA,mBAEtC,SAAA4D,QAAAA,CAASC,IAAI,CAAE,CACd,IAAI,CAACC,GAAG,CAAC,mBAAc,CAAED,IAAI,CAAC,CAC1BA,IAAI,CAAAE,MAAU,EAAIC,GAAG,CAACC,WAAW,EAAE,EAAIJ,IAAI,CAAAE,MAAU,GAAKC,GAAG,CAACC,WAAW,EAAE,GAC9EJ,IAAI,CAAAK,SAAa,CAAGF,GAAG,CAACG,aAAa,EAAE,CACvCN,IAAI,CAAAO,SAAa,CAAGJ,GAAG,CAACC,WAAW,EAAE,EAEtCI,YAAY,CAACC,OAAO,CAAC,CACpBC,QAAQ,CAAE,MAAM,CAChBC,IAAI,CAAApF,aAAA,CACHqF,CAAAA,MAAM,CAAE,eAAe,CACvBC,MAAM,CAAE,MAAM,CACdC,IAAI,CAAE,UAAU,CACbd,CAAAA,IAAI,CAET,CAAC,CAAC,CAACe,IAAI,CAAC,SAAUC,QAAQ,CAAE,CACvBA,QAAQ,CAACvC,MAAM,CAACwC,MAAM,EACrBjB,IAAI,CAAAE,MAAU,EAAIC,GAAG,CAACC,WAAW,EAAE,EAAIJ,IAAI,CAAAE,MAAU,GAAKC,GAAG,CAACC,WAAW,EAAE,GAC9EY,QAAQ,CAACvC,MAAM,CAACyC,GAAG,EAAI,aAAa,CAAGlB,IAAI,CAAAK,SAAa,CAAG,aAAa,CAAGL,IAAI,CAAAO,SAAa,CAE7FY,CAAAA,eAAe,CAACC,cAAc,CAACJ,QAAQ,CAACvC,MAAM,CAACyC,GAAG,CAAEF,QAAQ,CAACvC,MAAM,CAAC4C,KAAK,CAAC,EAE1ElB,GAAG,CAACmB,SAAS,CAAC,CAAEC,KAAK,CAAEpB,GAAG,CAACqB,UAAU,CAAC,qBAAqB,CAAC,CAAEC,IAAI,CAAET,QAAQ,CAACvC,MAAM,CAACgD,IAAK,CAAC,EAE5F,CAAC,EACF,CAAC,CAAA7B,CAAAA,CAAAA,CAAAA,gCAAA,CA1BuFH,CAAAA,sBAAsB,CA2B9G;;"}