{"version":3,"file":"LayoutEditor.min.js","sources":["LayoutEditor.js"],"sourcesContent":["/*+***********************************************************************************\n * The contents of this file are subject to the vtiger CRM Public License Version 1.0\n * (\"License\"); You may not use this file except in compliance with the License\n * The Original Code is:  vtiger CRM Open Source\n * The Initial Developer of the Original Code is vtiger.\n * Portions created by vtiger are Copyright (C) vtiger.\n * All Rights Reserved.\n * Contributor(s): YetiForce S.A.\n *************************************************************************************/\n'use strict';\n\n$.Class(\n\t'Settings_LayoutEditor_Js',\n\t{},\n\t{\n\t\tcontainer: false,\n\t\tupdatedBlockSequence: {},\n\t\tinActiveFieldsList: false,\n\t\tupdatedBlockFieldsList: [],\n\t\tupdatedBlocksList: [],\n\t\tblockNamesList: [],\n\t\t/**\n\t\t * Function to set the inactive fields list used to show the inactive fields\n\t\t */\n\t\tsetInactiveFieldsList: function () {\n\t\t\tvar thisInstance = this;\n\t\t\tvar contents = this.container.find('.contents');\n\t\t\tvar json = contents.find('.inActiveFieldsArray');\n\t\t\tif (0 < json.length) {\n\t\t\t\tthisInstance.inActiveFieldsList = JSON.parse(json.val());\n\t\t\t}\n\t\t},\n\t\t/**\n\t\t * Function to regiser the event to make the blocks sortable\n\t\t */\n\t\tmakeBlocksListSortable: function () {\n\t\t\tvar thisInstance = this;\n\t\t\tvar contents = this.container.find('.contents');\n\t\t\tvar table = contents.find('.blockSortable');\n\t\t\tcontents.sortable({\n\t\t\t\tcontainment: contents,\n\t\t\t\titems: table,\n\t\t\t\trevert: true,\n\t\t\t\ttolerance: 'pointer',\n\t\t\t\tcursor: 'move',\n\t\t\t\tupdate: function (e, ui) {\n\t\t\t\t\tthisInstance.updateBlockSequence();\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Function which will update block sequence\n\t\t */\n\t\tupdateBlockSequence: function () {\n\t\t\tvar thisInstance = this;\n\t\t\tvar progressIndicatorElement = $.progressIndicator({\n\t\t\t\tposition: 'html',\n\t\t\t\tblockInfo: {\n\t\t\t\t\tenabled: true\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tvar sequence = JSON.stringify(thisInstance.updateBlocksListByOrder());\n\t\t\tvar params = {};\n\t\t\tparams['module'] = app.getModuleName();\n\t\t\tparams['parent'] = app.getParentModuleName();\n\t\t\tparams['action'] = 'Block';\n\t\t\tparams['mode'] = 'updateSequenceNumber';\n\t\t\tparams['sequence'] = sequence;\n\n\t\t\tAppConnector.request(params)\n\t\t\t\t.done(function (data) {\n\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\tvar params = {};\n\t\t\t\t\tparams['text'] = app.vtranslate('JS_BLOCK_SEQUENCE_UPDATED');\n\t\t\t\t\tSettings_Vtiger_Index_Js.showMessage(params);\n\t\t\t\t})\n\t\t\t\t.fail(function (error) {\n\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Function which will arrange the sequence number of blocks\n\t\t */\n\t\tupdateBlocksListByOrder: function () {\n\t\t\tvar thisInstance = this;\n\t\t\tvar contents = this.container.find('.contents');\n\t\t\tcontents.find('.editFieldsTable.blockSortable').each(function (index, domElement) {\n\t\t\t\tvar blockTable = $(domElement);\n\t\t\t\tvar blockId = blockTable.data('blockId');\n\t\t\t\tvar actualBlockSequence = blockTable.data('sequence');\n\t\t\t\tvar expectedBlockSequence = index + 1;\n\n\t\t\t\tif (expectedBlockSequence != actualBlockSequence) {\n\t\t\t\t\tblockTable.data('sequence', expectedBlockSequence);\n\t\t\t\t}\n\t\t\t\tthisInstance.updatedBlockSequence[blockId] = expectedBlockSequence;\n\t\t\t});\n\t\t\treturn thisInstance.updatedBlockSequence;\n\t\t},\n\t\t/**\n\t\t * Function to register all the relatedList Events\n\t\t */\n\t\tregisterRelatedListEvents: function () {\n\t\t\tconst thisInstance = this,\n\t\t\t\trelatedList = $('#relatedTabOrder');\n\t\t\tApp.Fields.Picklist.showSelect2ElementView(\n\t\t\t\trelatedList.find('.relatedTabModulesList .js-related-column-list-container .select2_container'),\n\t\t\t\t{\n\t\t\t\t\tsortable: true,\n\t\t\t\t\tsortableCb: (currentTarget) => {\n\t\t\t\t\t\tthisInstance.updateSelectedFields(currentTarget);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t);\n\t\t\tApp.Fields.Picklist.showSelect2ElementView(\n\t\t\t\trelatedList.find('.relatedTabModulesList .js-related-custom-view-container .select2_container'),\n\t\t\t\t{\n\t\t\t\t\tsortable: true,\n\t\t\t\t\tsortableCb: (currentTarget) => {\n\t\t\t\t\t\tthisInstance.updateCustomView(currentTarget);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t);\n\t\t\trelatedList.on('click', '.inActiveRelationModule', function (e) {\n\t\t\t\tlet currentTarget = $(e.currentTarget);\n\t\t\t\tvar relatedModule = currentTarget.closest('.relatedModule');\n\t\t\t\trelatedModule.find('.activeRelationModule').removeClass('d-none').show();\n\t\t\t\tcurrentTarget.hide();\n\t\t\t\tthisInstance.changeStatusRelatedModule(relatedModule.data('relation-id'), false);\n\t\t\t});\n\t\t\trelatedList.on('click', '.activeRelationModule', function (e) {\n\t\t\t\tlet currentTarget = $(e.currentTarget);\n\t\t\t\tvar relatedModule = currentTarget.closest('.relatedModule');\n\t\t\t\trelatedModule.find('.inActiveRelationModule').removeClass('d-none').show();\n\t\t\t\tcurrentTarget.hide();\n\t\t\t\tthisInstance.changeStatusRelatedModule(relatedModule.data('relation-id'), true);\n\t\t\t});\n\t\t\trelatedList.on('click', '.removeRelation', function (e) {\n\t\t\t\tlet currentTarget = $(e.currentTarget);\n\t\t\t\tvar relatedModule = currentTarget.closest('.relatedModule');\n\t\t\t\tthisInstance.removeRelation(relatedModule);\n\t\t\t});\n\t\t\trelatedList.on('click', '.addToFavorites', function (e) {\n\t\t\t\tlet currentTarget = $(e.currentTarget);\n\t\t\t\tthisInstance.changeStateFavorites(currentTarget);\n\t\t\t});\n\t\t\trelatedList.on('change', '.relatedViewType', function (e) {\n\t\t\t\tvar currentTarget = $(this);\n\t\t\t\tvar value = currentTarget.val();\n\t\t\t\tif (!value) {\n\t\t\t\t\tcurrentTarget.validationEngine('showPrompt', app.vtranslate('JS_PLEASE_SELECT_ATLEAST_ONE_OPTION'));\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tcurrentTarget.validationEngine('hide');\n\t\t\t\tthisInstance.changeRelatedViewType(currentTarget);\n\t\t\t});\n\t\t\trelatedList.find('.js-related-column-list').on('change', function (e) {\n\t\t\t\tthisInstance.updateSelectedFields($(e.currentTarget));\n\t\t\t});\n\t\t\trelatedList.find('.js-related-custom-view').on('change', function (e) {\n\t\t\t\tthisInstance.updateCustomView($(e.currentTarget));\n\t\t\t});\n\t\t\trelatedList.find('.js-related-custom-view-orderby').on('change', function (e) {\n\t\t\t\tthisInstance.updateCustomViewOrderBy($(e.currentTarget));\n\t\t\t});\n\t\t\trelatedList.on('click', '.addRelation', function (e) {\n\t\t\t\tlet currentTarget = $(e.currentTarget);\n\t\t\t\tconst container = currentTarget.closest('#relatedTabOrder'),\n\t\t\t\t\tcontentsDiv = container.closest('.contentsDiv'),\n\t\t\t\t\taddRelationContainer = relatedList.find('.addRelationContainer').clone(true, true);\n\t\t\t\tlet callBackFunction = function (data) {\n\t\t\t\t\tconst labelElement = data.find('.relLabel');\n\t\t\t\t\tdata.find('[name=\"multi_reference_field\"]').attr('disabled', true);\n\t\t\t\t\tApp.Fields.Picklist.showSelect2ElementView(data.find('select'));\n\t\t\t\t\tlabelElement.val(data.find('.target option:selected').val());\n\t\t\t\t\tdata.on('change', '.target', function (e) {\n\t\t\t\t\t\tlet currentTarget = $(e.currentTarget);\n\t\t\t\t\t\tswitch ($(this).val()) {\n\t\t\t\t\t\t\tcase 'getMultiReference':\n\t\t\t\t\t\t\t\tdata.find('[name=\"multi_reference_field\"]').attr('disabled', false);\n\t\t\t\t\t\t\t\tdata.find('[name=\"actions\"]').attr('disabled', true);\n\t\t\t\t\t\t\t\tdata.find('[name=\"target\"]').attr('readonly', true);\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\t\tlabel.val(currentTarget.find('option:selected').val());\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\tdata.find('[name=\"type\"]').on('change', function () {\n\t\t\t\t\t\tdata.find('.actionsBlock').removeClass('d-none');\n\t\t\t\t\t\tdata.find('.targetBlock').removeClass('d-none');\n\t\t\t\t\t\tlet label = data.find('.target option:selected').val();\n\t\t\t\t\t\tswitch ($(this).val()) {\n\t\t\t\t\t\t\tcase 'getAttachments':\n\t\t\t\t\t\t\t\tdata.find('[name=\"target\"] option').not('[value=\"Documents\"]').addClass('d-none');\n\t\t\t\t\t\t\t\tdata.find('[name=\"actions\"]').attr('disabled', false);\n\t\t\t\t\t\t\t\tdata.find('[name=\"target\"]').attr('readonly', false);\n\t\t\t\t\t\t\t\tdata.find('[name=\"multi_reference_field\"]').attr('disabled', true);\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\tcase 'getMultiReference':\n\t\t\t\t\t\t\t\tdata.find('[name=\"multi_reference_field\"]').attr('disabled', false);\n\t\t\t\t\t\t\t\tdata.find('[name=\"actions\"]').attr('disabled', true);\n\t\t\t\t\t\t\t\tdata.find('[name=\"target\"]').attr('readonly', true);\n\t\t\t\t\t\t\t\tdata.find('.actionsBlock').addClass('d-none');\n\t\t\t\t\t\t\t\tdata.find('.targetBlock').addClass('d-none');\n\t\t\t\t\t\t\t\tlabel = data.find('.multiReferenceField option:selected').data('module');\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\t\tdata.find('[name=\"multi_reference_field\"]').attr('disabled', true);\n\t\t\t\t\t\t\t\tdata.find('[name=\"actions\"]').attr('disabled', false);\n\t\t\t\t\t\t\t\tdata.find('[name=\"target\"]').attr('readonly', false);\n\t\t\t\t\t\t\t\tdata.find('[name=\"target\"] option').removeClass('d-none');\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tlabelElement.val(label);\n\t\t\t\t\t\tApp.Fields.Picklist.showSelect2ElementView(data.find('[name=\"target\"]'));\n\t\t\t\t\t});\n\t\t\t\t\tdata.on('click', '.addButton', function (e) {\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\tdata.find('[name=\"type\"]').val() === 'getMultiReference' &&\n\t\t\t\t\t\t\tdata.find('[name=\"multi_reference_field\"]').val() === null\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\tdata\n\t\t\t\t\t\t\t\t.find('[name=\"multi_reference_field\"]')\n\t\t\t\t\t\t\t\t.validationEngine('showPrompt', app.vtranslate('JS_REQUIRED_FIELD'), 'error', 'topRight', true);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tconst form = data.find('form').serializeFormData();\n\t\t\t\t\t\t\tlet params = {};\n\t\t\t\t\t\t\tparams['module'] = app.getModuleName();\n\t\t\t\t\t\t\tparams['parent'] = app.getParentModuleName();\n\t\t\t\t\t\t\tparams['action'] = 'Relation';\n\t\t\t\t\t\t\tparams['mode'] = 'addRelation';\n\t\t\t\t\t\t\t$.extend(params, form);\n\t\t\t\t\t\t\tAppConnector.request(params).done(function (data) {\n\t\t\t\t\t\t\t\tlet response = data.result;\n\t\t\t\t\t\t\t\tif (response && response.success) {\n\t\t\t\t\t\t\t\t\tthisInstance\n\t\t\t\t\t\t\t\t\t\t.getRelModuleLayoutEditor(container.find('[name=\"layoutEditorRelModules\"]').val())\n\t\t\t\t\t\t\t\t\t\t.done(function (data) {\n\t\t\t\t\t\t\t\t\t\t\tcontentsDiv.html(data);\n\t\t\t\t\t\t\t\t\t\t\tthisInstance.registerEvents();\n\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t} else if (response && response.message) {\n\t\t\t\t\t\t\t\t\tSettings_Vtiger_Index_Js.showMessage({ type: 'error', text: response.message });\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tapp.hideModalWindow();\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t};\n\t\t\t\tapp.showModalWindow(addRelationContainer, function (data) {\n\t\t\t\t\tif (typeof callBackFunction == 'function') {\n\t\t\t\t\t\tcallBackFunction(data);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\t\tgetSelectedFields: function (target) {\n\t\t\tvar selectedFields = [];\n\t\t\ttarget.find(':selected').each(function (e) {\n\t\t\t\tselectedFields.push({\n\t\t\t\t\tid: $(this).val(),\n\t\t\t\t\tname: $(this).data('field-name') ? $(this).data('field-name') : $(this).data('name')\n\t\t\t\t});\n\t\t\t});\n\t\t\treturn selectedFields;\n\t\t},\n\t\t/**\n\t\t * Function to regiser the event to make the related modules sortable\n\t\t */\n\t\tmakeRelatedModuleSortable: function () {\n\t\t\tvar thisInstance = this;\n\t\t\tvar relatedModulesContainer = $('.relatedModulesList');\n\t\t\tvar modulesList = relatedModulesContainer.find('.relatedModule');\n\t\t\trelatedModulesContainer.sortable({\n\t\t\t\tcontainment: relatedModulesContainer,\n\t\t\t\titems: modulesList,\n\t\t\t\thandle: '.mainBlockTableLabel',\n\t\t\t\trevert: true,\n\t\t\t\ttolerance: 'pointer',\n\t\t\t\tcursor: 'move',\n\t\t\t\tupdate: function (e, ui) {\n\t\t\t\t\tthisInstance.updateSequenceRelatedModule();\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\tchangeRelatedViewType: function (currentTarget) {\n\t\t\tvar relatedModule = currentTarget.closest('.relatedModule');\n\t\t\tAppConnector.request({\n\t\t\t\tmodule: app.getModuleName(),\n\t\t\t\tparent: app.getParentModuleName(),\n\t\t\t\taction: 'Relation',\n\t\t\t\tmode: 'updateRelatedViewType',\n\t\t\t\trelationId: relatedModule.data('relation-id'),\n\t\t\t\ttypes: currentTarget.val()\n\t\t\t})\n\t\t\t\t.done(function (data) {\n\t\t\t\t\tif (data.success) {\n\t\t\t\t\t\tSettings_Vtiger_Index_Js.showMessage({\n\t\t\t\t\t\t\ttext: data.result.text\n\t\t\t\t\t\t});\n\t\t\t\t\t} else {\n\t\t\t\t\t\tSettings_Vtiger_Index_Js.showMessage({\n\t\t\t\t\t\t\ttype: 'error',\n\t\t\t\t\t\t\ttext: data.error.message\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.fail(function (error) {\n\t\t\t\t\tSettings_Vtiger_Index_Js.showMessage({\n\t\t\t\t\t\ttextTrusted: false,\n\t\t\t\t\t\ttext: error.message\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t},\n\t\tchangeStateFavorites: function (currentTarget) {\n\t\t\tvar relatedModule = currentTarget.closest('.relatedModule');\n\t\t\tvar status = currentTarget.data('state') == 1 ? 0 : 1;\n\t\t\tvar params = {};\n\t\t\tparams['module'] = app.getModuleName();\n\t\t\tparams['parent'] = app.getParentModuleName();\n\t\t\tparams['action'] = 'Relation';\n\t\t\tparams['mode'] = 'updateStateFavorites';\n\t\t\tparams['relationId'] = relatedModule.data('relation-id');\n\t\t\tparams['status'] = status;\n\n\t\t\tAppConnector.request(params)\n\t\t\t\t.done(function (data) {\n\t\t\t\t\tcurrentTarget.data('state', status);\n\t\t\t\t\tif (status) {\n\t\t\t\t\t\tcurrentTarget.find('.far').addClass('d-none');\n\t\t\t\t\t\tcurrentTarget.find('.fas').removeClass('d-none');\n\t\t\t\t\t} else {\n\t\t\t\t\t\tcurrentTarget.find('.fas').addClass('d-none');\n\t\t\t\t\t\tcurrentTarget.find('.far').removeClass('d-none');\n\t\t\t\t\t}\n\t\t\t\t\tSettings_Vtiger_Index_Js.showMessage({ text: app.vtranslate('JS_SAVE_NOTIFY_OK') });\n\t\t\t\t})\n\t\t\t\t.fail(function (error) {\n\t\t\t\t\tvar params = {};\n\t\t\t\t\tparams['text'] = error;\n\t\t\t\t\tSettings_Vtiger_Index_Js.showMessage(params);\n\t\t\t\t});\n\t\t},\n\t\tchangeStatusRelatedModule: function (relationId, status) {\n\t\t\tvar params = {};\n\t\t\tparams['module'] = app.getModuleName();\n\t\t\tparams['parent'] = app.getParentModuleName();\n\t\t\tparams['action'] = 'Relation';\n\t\t\tparams['mode'] = 'changeStatusRelation';\n\t\t\tparams['relationId'] = relationId;\n\t\t\tparams['status'] = status;\n\t\t\tAppConnector.request(params)\n\t\t\t\t.done(function (data) {\n\t\t\t\t\tvar params = {};\n\t\t\t\t\tif (status) {\n\t\t\t\t\t\tparams['text'] = app.vtranslate('JS_SAVED_CHANGE_STATUS_1');\n\t\t\t\t\t} else {\n\t\t\t\t\t\tparams['text'] = app.vtranslate('JS_SAVED_CHANGE_STATUS_0');\n\t\t\t\t\t}\n\t\t\t\t\tSettings_Vtiger_Index_Js.showMessage(params);\n\t\t\t\t})\n\t\t\t\t.fail(function (error) {\n\t\t\t\t\tvar params = {};\n\t\t\t\t\tparams['text'] = error;\n\t\t\t\t\tparams['type'] = 'error';\n\t\t\t\t\tSettings_Vtiger_Index_Js.showMessage(params);\n\t\t\t\t});\n\t\t},\n\t\tremoveRelation: function (relatedModule) {\n\t\t\tlet message = app.vtranslate('JS_DELETE_RELATION_CONFIRMATION');\n\t\t\tapp.showConfirmModal({\n\t\t\t\ttext: message,\n\t\t\t\tconfirmedCallback: () => {\n\t\t\t\t\tlet params = {};\n\t\t\t\t\tparams['module'] = app.getModuleName();\n\t\t\t\t\tparams['parent'] = app.getParentModuleName();\n\t\t\t\t\tparams['action'] = 'Relation';\n\t\t\t\t\tparams['mode'] = 'removeRelation';\n\t\t\t\t\tparams['relationId'] = relatedModule.data('relation-id');\n\n\t\t\t\t\tAppConnector.request(params)\n\t\t\t\t\t\t.done(function (data) {\n\t\t\t\t\t\t\trelatedModule.remove();\n\t\t\t\t\t\t\tSettings_Vtiger_Index_Js.showMessage({\n\t\t\t\t\t\t\t\ttext: app.vtranslate('JS_REMOVE_RELATION_OK')\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.fail(function (error) {\n\t\t\t\t\t\t\tSettings_Vtiger_Index_Js.showMessage({\n\t\t\t\t\t\t\t\ttext: message,\n\t\t\t\t\t\t\t\ttype: 'error'\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\tupdateSequenceRelatedModule: function () {\n\t\t\tvar modules = [];\n\t\t\tvar relatedModulesContainer = $('.relatedModulesList');\n\t\t\tvar params = {};\n\t\t\tvar progressIndicatorElement = $.progressIndicator({\n\t\t\t\tposition: 'html',\n\t\t\t\tblockInfo: {\n\t\t\t\t\tenabled: true\n\t\t\t\t}\n\t\t\t});\n\t\t\trelatedModulesContainer.find('.relatedModule').each(function (index, domElement) {\n\t\t\t\tvar relationId = $(domElement).data('relationId');\n\t\t\t\tmodules.push({ relationId: relationId, index: index });\n\t\t\t});\n\n\t\t\tparams['module'] = app.getModuleName();\n\t\t\tparams['parent'] = app.getParentModuleName();\n\t\t\tparams['action'] = 'Relation';\n\t\t\tparams['mode'] = 'updateSequenceRelatedModule';\n\t\t\tparams['modules'] = modules;\n\n\t\t\tAppConnector.request(params)\n\t\t\t\t.done(function (data) {\n\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\tvar params = {};\n\t\t\t\t\tparams['text'] = app.vtranslate('JS_UPDATE_SEQUENCE');\n\t\t\t\t\tSettings_Vtiger_Index_Js.showMessage(params);\n\t\t\t\t})\n\t\t\t\t.fail(function (error) {\n\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\tvar params = {};\n\t\t\t\t\tparams['text'] = error;\n\t\t\t\t\tSettings_Vtiger_Index_Js.showMessage(params);\n\t\t\t\t});\n\t\t},\n\t\tupdateSelectedFields: function (target) {\n\t\t\tconst thisInstance = this;\n\t\t\tlet params = {},\n\t\t\t\trelatedModule = $(target).closest('.relatedModule'),\n\t\t\t\tprogressIndicatorElement = $.progressIndicator({\n\t\t\t\t\tposition: 'html',\n\t\t\t\t\tblockInfo: {\n\t\t\t\t\t\tenabled: true\n\t\t\t\t\t}\n\t\t\t\t}),\n\t\t\t\tselectedFields;\n\t\t\tif ($(target).data('type') == 'inventory') {\n\t\t\t\tparams['inventory'] = true;\n\t\t\t\tselectedFields = $(target).val();\n\t\t\t} else {\n\t\t\t\tselectedFields = thisInstance.getSelectedFields($(target));\n\t\t\t}\n\t\t\tparams['module'] = app.getModuleName();\n\t\t\tparams['parent'] = app.getParentModuleName();\n\t\t\tparams['action'] = 'Relation';\n\t\t\tparams['mode'] = 'updateSelectedFields';\n\t\t\tparams['relationId'] = relatedModule.data('relation-id');\n\t\t\tparams['fields'] = selectedFields;\n\t\t\tAppConnector.request(params)\n\t\t\t\t.done(function () {\n\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\tlet params = {};\n\t\t\t\t\tparams['text'] = app.vtranslate('JS_UPDATED_FIELD_LIST_MODULE_RELATED');\n\t\t\t\t\tSettings_Vtiger_Index_Js.showMessage(params);\n\t\t\t\t})\n\t\t\t\t.fail(function (error) {\n\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\tlet params = {};\n\t\t\t\t\tparams['text'] = error;\n\t\t\t\t\tSettings_Vtiger_Index_Js.showMessage(params);\n\t\t\t\t});\n\t\t},\n\t\tupdateCustomView: function (target) {\n\t\t\tconst thisInstance = this;\n\t\t\tlet params = {},\n\t\t\t\trelatedModule = $(target).closest('.relatedModule'),\n\t\t\t\tprogressIndicatorElement = $.progressIndicator({\n\t\t\t\t\tposition: 'html',\n\t\t\t\t\tblockInfo: {\n\t\t\t\t\t\tenabled: true\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\tparams['module'] = app.getModuleName();\n\t\t\tparams['parent'] = app.getParentModuleName();\n\t\t\tparams['action'] = 'Relation';\n\t\t\tparams['mode'] = 'updateCustomView';\n\t\t\tparams['relationId'] = relatedModule.data('relation-id');\n\t\t\tparams['cv'] = target.val();\n\t\t\tAppConnector.request(params)\n\t\t\t\t.done(function () {\n\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t})\n\t\t\t\t.fail(function (error) {\n\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\tapp.showNotify({\n\t\t\t\t\t\ttext: app.vtranslate('JS_ERROR'),\n\t\t\t\t\t\ttype: 'error'\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Set custom view order by\n\t\t * (jQuery) target\n\t\t */\n\t\tupdateCustomViewOrderBy: function (target) {\n\t\t\tlet params = {},\n\t\t\t\trelatedModule = $(target).closest('.relatedModule'),\n\t\t\t\tprogressIndicatorElement = $.progressIndicator({\n\t\t\t\t\tposition: 'html',\n\t\t\t\t\tblockInfo: {\n\t\t\t\t\t\tenabled: true\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\tparams['module'] = app.getModuleName();\n\t\t\tparams['parent'] = app.getParentModuleName();\n\t\t\tparams['action'] = 'Relation';\n\t\t\tparams['mode'] = 'updateCustomViewOrderBy';\n\t\t\tparams['relationId'] = relatedModule.data('relation-id');\n\t\t\tparams['orderby'] = target.prop('checked');\n\t\t\tAppConnector.request(params)\n\t\t\t\t.done(function (result) {\n\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\tapp.showNotify({\n\t\t\t\t\t\ttext: result.result.message,\n\t\t\t\t\t\ttype: 'success'\n\t\t\t\t\t});\n\t\t\t\t})\n\t\t\t\t.fail(function (error) {\n\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\tapp.showNotify({\n\t\t\t\t\t\ttext: app.vtranslate('JS_ERROR'),\n\t\t\t\t\t\ttype: 'error',\n\t\t\t\t\t\ttextTrusted: false\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Function to regiser the event to make the fields sortable\n\t\t */\n\t\tmakeFieldsListSortable: function () {\n\t\t\tvar thisInstance = this;\n\t\t\tvar contents = this.container.find('.contents');\n\t\t\tvar table = contents.find('.editFieldsTable');\n\t\t\ttable.each(function () {\n\t\t\t\tvar containment = $(this).closest('.moduleBlocks');\n\t\t\t\t$(this)\n\t\t\t\t\t.find('ul[name=sortable1], ul[name=sortable2]')\n\t\t\t\t\t.sortable({\n\t\t\t\t\t\tcontainment: containment,\n\t\t\t\t\t\ttolerance: 'pointer',\n\t\t\t\t\t\tcursor: 'move',\n\t\t\t\t\t\tconnectWith: containment.find('.connectedSortable'),\n\t\t\t\t\t\tupdate: function (e, ui) {\n\t\t\t\t\t\t\tvar currentField = ui['item'];\n\t\t\t\t\t\t\tif (currentField.closest('.moduleBlocks').hasClass('inventoryBlock')) {\n\t\t\t\t\t\t\t\tthisInstance.showSaveFieldSequenceButton(currentField.closest('.editFieldsTable'));\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tthisInstance.showSaveFieldSequenceButton(thisInstance.getDetailViewLayout());\n\t\t\t\t\t\t\t\tthisInstance.createUpdatedBlocksList(currentField);\n\t\t\t\t\t\t\t\t// rearrange the older block fields\n\t\t\t\t\t\t\t\tif (ui.sender) {\n\t\t\t\t\t\t\t\t\tvar olderBlock = ui.sender.closest('.editFieldsTable');\n\t\t\t\t\t\t\t\t\tthisInstance.reArrangeBlockFields(olderBlock);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t});\n\t\t},\n\t\tgetDetailViewLayout: function () {\n\t\t\treturn $('#detailViewLayout');\n\t\t},\n\t\tgetInventoryViewLayout: function () {\n\t\t\treturn $('#inventoryViewLayout');\n\t\t},\n\t\t/**\n\t\t * Function to show the save button of fieldSequence\n\t\t */\n\t\tshowSaveFieldSequenceButton: function (layout) {\n\t\t\tvar thisInstance = this;\n\t\t\tvar saveButton = layout.find('.saveFieldSequence');\n\t\t\tif (app.isHidden(saveButton) || app.isInvisible(saveButton)) {\n\t\t\t\tif (!saveButton.hasClass('inventorySequence')) {\n\t\t\t\t\tthisInstance.updatedBlocksList = [];\n\t\t\t\t\tthisInstance.updatedBlockFieldsList = [];\n\t\t\t\t}\n\t\t\t\tsaveButton.removeClass('d-none');\n\t\t\t\tsaveButton.removeClass('invisible');\n\t\t\t\tvar params = {};\n\t\t\t\tparams['text'] = app.vtranslate('JS_SAVE_THE_CHANGES_TO_UPDATE_FIELD_SEQUENCE');\n\t\t\t\tSettings_Vtiger_Index_Js.showMessage(params);\n\t\t\t}\n\t\t},\n\t\t/**\n\t\t * Function which will hide the saveFieldSequence button\n\t\t */\n\t\thideSaveFieldSequenceButton: function () {\n\t\t\tvar layout = $('#detailViewLayout');\n\t\t\tvar saveButton = layout.find('.saveFieldSequence');\n\t\t\tsaveButton.addClass('d-none');\n\t\t},\n\t\t/**\n\t\t * Function to create the blocks list which are updated while sorting\n\t\t */\n\t\tcreateUpdatedBlocksList: function (currentField) {\n\t\t\tvar thisInstance = this;\n\t\t\tvar block = currentField.closest('.editFieldsTable');\n\t\t\tvar updatedBlockId = block.data('blockId');\n\t\t\tif ($.inArray(updatedBlockId, thisInstance.updatedBlocksList) == -1) {\n\t\t\t\tthisInstance.updatedBlocksList.push(updatedBlockId);\n\t\t\t}\n\t\t\tthisInstance.reArrangeBlockFields(block);\n\t\t},\n\t\t/**\n\t\t * Function that rearranges fields in the block when the fields are moved\n\t\t * @param <jQuery object> block\n\t\t */\n\t\treArrangeBlockFields: function (block) {\n\t\t\t// 1.get the containers, 2.compare the length, 3.if uneven then move the last element\n\t\t\tvar leftSideContainer = block.find('ul[name=sortable1]');\n\t\t\tvar rightSideContainer = block.find('ul[name=sortable2]');\n\t\t\tif (leftSideContainer.children().length < rightSideContainer.children().length) {\n\t\t\t\tvar lastElementInRightContainer = rightSideContainer.children(':last');\n\t\t\t\tleftSideContainer.append(lastElementInRightContainer);\n\t\t\t} else if (leftSideContainer.children().length > rightSideContainer.children().length + 1) {\n\t\t\t\t//greater than 1\n\t\t\t\tvar lastElementInLeftContainer = leftSideContainer.children(':last');\n\t\t\t\trightSideContainer.append(lastElementInLeftContainer);\n\t\t\t}\n\t\t},\n\t\t/**\n\t\t * Function to create the list of updated blocks with all the fields and their sequences\n\t\t */\n\t\tcreateUpdatedBlockFieldsList: function () {\n\t\t\tvar thisInstance = this;\n\t\t\tvar contents = this.container.find('.contents');\n\n\t\t\tfor (var index in thisInstance.updatedBlocksList) {\n\t\t\t\tvar updatedBlockId = thisInstance.updatedBlocksList[index];\n\t\t\t\tvar updatedBlock = contents.find('.block_' + updatedBlockId);\n\t\t\t\tvar firstBlockSortFields = updatedBlock.find('ul[name=sortable1]');\n\t\t\t\tvar editFields = firstBlockSortFields.find('.editFields');\n\t\t\t\tvar expectedFieldSequence = 1;\n\t\t\t\teditFields.each(function (i, domElement) {\n\t\t\t\t\tvar fieldEle = $(domElement);\n\t\t\t\t\tvar fieldId = fieldEle.data('fieldId');\n\t\t\t\t\tthisInstance.updatedBlockFieldsList.push({\n\t\t\t\t\t\tfieldid: fieldId,\n\t\t\t\t\t\tsequence: expectedFieldSequence,\n\t\t\t\t\t\tblock: updatedBlockId\n\t\t\t\t\t});\n\t\t\t\t\texpectedFieldSequence = expectedFieldSequence + 2;\n\t\t\t\t});\n\t\t\t\tvar secondBlockSortFields = updatedBlock.find('ul[name=sortable2]');\n\t\t\t\tvar secondEditFields = secondBlockSortFields.find('.editFields');\n\t\t\t\tvar sequenceValue = 2;\n\t\t\t\tsecondEditFields.each(function (i, domElement) {\n\t\t\t\t\tvar fieldEle = $(domElement);\n\t\t\t\t\tvar fieldId = fieldEle.data('fieldId');\n\t\t\t\t\tthisInstance.updatedBlockFieldsList.push({\n\t\t\t\t\t\tfieldid: fieldId,\n\t\t\t\t\t\tsequence: sequenceValue,\n\t\t\t\t\t\tblock: updatedBlockId\n\t\t\t\t\t});\n\t\t\t\t\tsequenceValue = sequenceValue + 2;\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\t\t/**\n\t\t * Function to register click event for save button of fields sequence\n\t\t */\n\t\tregisterFieldSequenceSaveClick: function () {\n\t\t\tthis.getDetailViewLayout()\n\t\t\t\t.find('.saveFieldSequence')\n\t\t\t\t.on('click', () => {\n\t\t\t\t\tthis.hideSaveFieldSequenceButton();\n\t\t\t\t\tthis.createUpdatedBlockFieldsList();\n\t\t\t\t\tthis.updateFieldSequence();\n\t\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Function will save the field sequences\n\t\t */\n\t\tupdateFieldSequence: function () {\n\t\t\tlet progress = $.progressIndicator({ position: 'html', blockInfo: { enabled: true } });\n\t\t\tAppConnector.request({\n\t\t\t\tmodule: app.getModuleName(),\n\t\t\t\tparent: app.getParentModuleName(),\n\t\t\t\taction: 'Field',\n\t\t\t\tmode: 'move',\n\t\t\t\tupdatedFields: this.updatedBlockFieldsList\n\t\t\t})\n\t\t\t\t.done(function () {\n\t\t\t\t\tprogress.progressIndicator({ mode: 'hide' });\n\t\t\t\t\twindow.location.reload();\n\t\t\t\t\tSettings_Vtiger_Index_Js.showMessage({ text: app.vtranslate('JS_FIELD_SEQUENCE_UPDATED') });\n\t\t\t\t})\n\t\t\t\t.fail(function (error) {\n\t\t\t\t\tprogress.progressIndicator({ mode: 'hide' });\n\t\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Function to check if picklist exist\n\t\t */\n\t\tcheckPicklistExist(fieldNameValue) {\n\t\t\tlet aDeferred = $.Deferred();\n\t\t\tAppConnector.request({\n\t\t\t\tmodule: app.getModuleName(),\n\t\t\t\tparent: app.getParentModuleName(),\n\t\t\t\taction: 'Field',\n\t\t\t\tmode: 'checkPicklistExist',\n\t\t\t\tfieldName: fieldNameValue.toLowerCase()\n\t\t\t}).done(function (data) {\n\t\t\t\tif (data.result) {\n\t\t\t\t\tapp.showConfirmModal({\n\t\t\t\t\t\ttext: app.vtranslate('JS_EXIST_PICKLIST_NAME'),\n\t\t\t\t\t\tconfirmedCallback: () => {\n\t\t\t\t\t\t\taDeferred.resolve(true);\n\t\t\t\t\t\t},\n\t\t\t\t\t\trejectedCallback: () => {\n\t\t\t\t\t\t\taDeferred.resolve(false);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\taDeferred.resolve(true);\n\t\t\t\t}\n\t\t\t});\n\t\t\treturn aDeferred.promise();\n\t\t},\n\t\t/**\n\t\t * Function to register click event add system field button\n\t\t */\n\t\tregisterAddSystemFieldEvent() {\n\t\t\tlet contents = this.container.find('.contents');\n\t\t\tcontents.find('.js-add-system-field').on('click', (e) => {\n\t\t\t\tlet blockId = $(e.currentTarget).closest('.editFieldsTable').data('blockId');\n\t\t\t\tlet selectedModule = this.container.find('[name=\"layoutEditorModules\"]').val();\n\t\t\t\tapp.showModalWindow(\n\t\t\t\t\tnull,\n\t\t\t\t\t'index.php?module=LayoutEditor&parent=Settings&view=CreateSystemFields&sourceModule=' + selectedModule,\n\t\t\t\t\t(modalContainer) => {\n\t\t\t\t\t\tmodalContainer.find('.js-modal__save').on('click', () => {\n\t\t\t\t\t\t\tlet progress = $.progressIndicator({ position: 'html', blockInfo: { enabled: true } });\n\t\t\t\t\t\t\tAppConnector.request({\n\t\t\t\t\t\t\t\tmodule: app.getModuleName(),\n\t\t\t\t\t\t\t\tparent: app.getParentModuleName(),\n\t\t\t\t\t\t\t\taction: 'Field',\n\t\t\t\t\t\t\t\tmode: 'createSystemField',\n\t\t\t\t\t\t\t\tsourceModule: selectedModule,\n\t\t\t\t\t\t\t\tblockId: blockId,\n\t\t\t\t\t\t\t\tfield: modalContainer.find('.js-system-fields').val()\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t.done(function () {\n\t\t\t\t\t\t\t\t\tprogress.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t\t\t\t\twindow.location.reload();\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t.fail(function () {\n\t\t\t\t\t\t\t\t\tprogress.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t);\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Function to register click event add custom field button\n\t\t */\n\t\tregisterAddCustomFieldEvent() {\n\t\t\tconst thisInstance = this;\n\t\t\tlet contents = this.container.find('.contents');\n\t\t\tcontents.find('.addCustomField').on('click', (e) => {\n\t\t\t\tlet blockId = $(e.currentTarget).closest('.editFieldsTable').data('blockId'),\n\t\t\t\t\taddFieldContainer = this.container.find('.createFieldModal').clone(true, true);\n\t\t\t\taddFieldContainer.removeClass('d-none').show();\n\t\t\t\tlet callBackFunction = (data) => {\n\t\t\t\t\tApp.Fields.Picklist.showSelect2ElementView(data.find('select'), { width: '100%' });\n\t\t\t\t\tlet form = data.find('.createCustomFieldForm');\n\t\t\t\t\tform.attr('id', 'createFieldForm');\n\t\t\t\t\tApp.Fields.Picklist.showSelect2ElementView(form.find('[name=\"pickListValues\"]'), {\n\t\t\t\t\t\ttags: true,\n\t\t\t\t\t\ttokenSeparators: [',']\n\t\t\t\t\t});\n\t\t\t\t\tthis.registerFieldTypeChangeEvent(form);\n\t\t\t\t\tthis.registerMultiReferenceFieldsChangeEvent(form);\n\t\t\t\t\tthis.registerMultiReferenceFilterFieldChangeEvent(form);\n\t\t\t\t\tlet params = app.getvalidationEngineOptions(true);\n\t\t\t\t\tparams.onValidationComplete = (form, valid) => {\n\t\t\t\t\t\tif (valid) {\n\t\t\t\t\t\t\tlet saveButton = form.find(':submit'),\n\t\t\t\t\t\t\t\tfieldNameValue = $('[name=\"fieldName\"]', form).val(),\n\t\t\t\t\t\t\t\tfieldTypeValue = $('[name=\"fieldType\"]', form).val();\n\t\t\t\t\t\t\tsaveButton.attr('disabled', 'disabled');\n\t\t\t\t\t\t\tthisInstance.validateFieldsValue(form).done((response) => {\n\t\t\t\t\t\t\t\tif (!response) {\n\t\t\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\t\t\tfieldTypeValue == 'Picklist' ||\n\t\t\t\t\t\t\t\t\t\tfieldTypeValue == 'MultiSelectCombo' ||\n\t\t\t\t\t\t\t\t\t\tfieldTypeValue == 'MultipicklistTags'\n\t\t\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\t\t\tthisInstance.checkPicklistExist(fieldNameValue).done((result) => {\n\t\t\t\t\t\t\t\t\t\t\tif (result) {\n\t\t\t\t\t\t\t\t\t\t\t\tthisInstance.saveCustomField(blockId, form);\n\t\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\t\tsaveButton.removeAttr('disabled');\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\tthisInstance.saveCustomField(blockId, form);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tfor (let index in response) {\n\t\t\t\t\t\t\t\t\t\tlet field = form.find(`[name=\"${index}\"]`);\n\t\t\t\t\t\t\t\t\t\tfield.validationEngine('showPrompt', response[index], 'error', 'bottomLeft', true);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tsaveButton.removeAttr('disabled');\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t};\n\t\t\t\t\tform.validationEngine(params);\n\t\t\t\t};\n\t\t\t\tapp.showModalWindow(\n\t\t\t\t\taddFieldContainer,\n\t\t\t\t\t(data) => {\n\t\t\t\t\t\tif (typeof callBackFunction == 'function') {\n\t\t\t\t\t\t\tcallBackFunction(data);\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\t{ width: '1000px' }\n\t\t\t\t);\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Function to validate fields value\n\t\t */\n\t\tvalidateFieldsValue: function (form) {\n\t\t\tlet aDeferred = $.Deferred();\n\t\t\tlet params = form.serializeFormData();\n\t\t\tparams['module'] = app.getModuleName();\n\t\t\tparams['parent'] = app.getParentModuleName();\n\t\t\tparams['action'] = 'Field';\n\t\t\tparams['mode'] = 'validate';\n\t\t\tparams['sourceModule'] = $('#selectedModuleName').val();\n\t\t\tAppConnector.request(params)\n\t\t\t\t.done(function (data) {\n\t\t\t\t\taDeferred.resolve(data.result);\n\t\t\t\t})\n\t\t\t\t.fail(function (error, err) {\n\t\t\t\t\tapp.errorLog(error, err);\n\t\t\t\t\taDeferred.resolve(true);\n\t\t\t\t});\n\t\t\treturn aDeferred.promise();\n\t\t},\n\t\t/**\n\t\t * Function to save field and show message\n\t\t */\n\t\tsaveCustomField: function (blockId, form) {\n\t\t\tlet saveButton = form.find(':submit');\n\t\t\tthis.addCustomField(blockId, form).done((data) => {\n\t\t\t\tif (data['success']) {\n\t\t\t\t\tapp.hideModalWindow();\n\t\t\t\t\tlet params = {};\n\t\t\t\t\tparams['text'] = app.vtranslate('JS_CUSTOM_FIELD_ADDED');\n\t\t\t\t\tSettings_Vtiger_Index_Js.showMessage(params);\n\t\t\t\t\twindow.location.reload();\n\t\t\t\t} else {\n\t\t\t\t\tapp.showNotify({\n\t\t\t\t\t\ttitle:\n\t\t\t\t\t\t\tdata['error']['code'] != 513 ? form.find('.fieldNameForm').text() : form.find('.fieldLabelForm').text(),\n\t\t\t\t\t\ttype: 'error',\n\t\t\t\t\t\ttext: data['error']['message']\n\t\t\t\t\t});\n\t\t\t\t\tsaveButton.removeAttr('disabled');\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Function to create the array of block names list\n\t\t */\n\t\tsetBlocksListArray: function (form) {\n\t\t\tvar thisInstance = this;\n\t\t\tthisInstance.blockNamesList = [];\n\t\t\tvar blocksListSelect = form.find('[name=\"beforeBlockId\"]');\n\t\t\tblocksListSelect.find('option').each(function (index, ele) {\n\t\t\t\tvar option = $(ele);\n\t\t\t\tvar label = option.data('label');\n\t\t\t\tthisInstance.blockNamesList.push(label.toLowerCase());\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Function to save the custom field details\n\t\t */\n\t\taddCustomField: function (blockId, form) {\n\t\t\tvar modalHeader = form.closest('#' + Window.lastModalId).find('.modal-header h3');\n\t\t\tvar aDeferred = $.Deferred();\n\n\t\t\tmodalHeader.progressIndicator({\n\t\t\t\tsmallLoadingImage: true,\n\t\t\t\timageContainerCss: { display: 'inline', 'margin-left': '18%', position: 'absolute' }\n\t\t\t});\n\n\t\t\tvar params = form.serializeFormData();\n\t\t\tparams['module'] = app.getModuleName();\n\t\t\tparams['parent'] = app.getParentModuleName();\n\t\t\tparams['action'] = 'Field';\n\t\t\tparams['mode'] = 'add';\n\t\t\tparams['blockid'] = blockId;\n\t\t\tparams['sourceModule'] = $('#selectedModuleName').val();\n\n\t\t\tAppConnector.request(params)\n\t\t\t\t.done(function (data) {\n\t\t\t\t\tmodalHeader.progressIndicator({ mode: 'hide' });\n\t\t\t\t\taDeferred.resolve(data);\n\t\t\t\t})\n\t\t\t\t.fail(function (err, error, errorObj) {\n\t\t\t\t\tmodalHeader.progressIndicator({ mode: 'hide' });\n\t\t\t\t\tif (errorObj.responseText !== undefined) {\n\t\t\t\t\t\tapp.showNotify({\n\t\t\t\t\t\t\ttitle: JSON.parse(errorObj.responseText).error.message,\n\t\t\t\t\t\t\ttype: 'error'\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\taDeferred.reject(error);\n\t\t\t\t});\n\t\t\treturn aDeferred.promise();\n\t\t},\n\t\t/**\n\t\t * Function to register change event for fieldType while adding custom field\n\t\t */\n\t\tregisterFieldTypeChangeEvent(form) {\n\t\t\tvar thisInstance = this;\n\t\t\tvar lengthInput = form.find('[name=\"fieldLength\"]');\n\n\t\t\t//special validators while adding new field\n\t\t\tvar lengthValidator = [{ name: 'DecimalMaxLength' }];\n\t\t\tvar maxLengthValidator = [{ name: 'MaxLength' }];\n\t\t\tvar decimalValidator = [{ name: 'FloatingDigits' }];\n\n\t\t\t//By default add the max length validator\n\t\t\tlengthInput.data('validator', maxLengthValidator);\n\n\t\t\t//register the change event for field types\n\t\t\tform.find('[name=\"fieldType\"]').on('change', function (e) {\n\t\t\t\tlet currentTarget = $(e.currentTarget);\n\t\t\t\tvar lengthInput = form.find('[name=\"fieldLength\"]');\n\t\t\t\tvar selectedOption = currentTarget.find('option:selected');\n\n\t\t\t\t//hide all the elements like length, decimal,picklist\n\t\t\t\tform.find('.supportedType').addClass('d-none');\n\t\t\t\tif (selectedOption.data('lengthsupported')) {\n\t\t\t\t\tform.find('.lengthsupported').removeClass('d-none');\n\t\t\t\t\tif (!selectedOption.data('nolimitforlength')) {\n\t\t\t\t\t\tlengthInput.data('validator', maxLengthValidator);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tlengthInput.data('validator', [{ name: 'WholeNumberGreaterThanZero' }]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (selectedOption.data('decimalsupported')) {\n\t\t\t\t\tvar decimalFieldUi = form.find('.decimalsupported');\n\t\t\t\t\tdecimalFieldUi.removeClass('d-none');\n\n\t\t\t\t\tvar decimalInput = decimalFieldUi.find('[name=\"decimal\"]');\n\t\t\t\t\tvar maxFloatingDigits = selectedOption.data('maxfloatingdigits');\n\n\t\t\t\t\tif (typeof maxFloatingDigits !== 'undefined') {\n\t\t\t\t\t\tdecimalInput.data('validator', decimalValidator);\n\t\t\t\t\t\tlengthInput.data('validator', lengthValidator);\n\t\t\t\t\t}\n\n\t\t\t\t\tif (selectedOption.data('decimalreadonly')) {\n\t\t\t\t\t\tdecimalInput.val(maxFloatingDigits).attr('readonly', true);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tdecimalInput.removeAttr('readonly').val('');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (selectedOption.data('predefinedvalueexists')) {\n\t\t\t\t\tform.find('.preDefinedValueExists').removeClass('d-none');\n\t\t\t\t}\n\t\t\t\tif (selectedOption.data('picklistoption')) {\n\t\t\t\t\tform.find('.picklistOption').removeClass('d-none');\n\t\t\t\t}\n\t\t\t\tconst type = selectedOption.val();\n\t\t\t\tswitch (type) {\n\t\t\t\t\tcase 'Related1M':\n\t\t\t\t\tcase 'MultiReference':\n\t\t\t\t\t\tconst moduleList = form.find('.preDefinedModuleList .referenceModule');\n\t\t\t\t\t\tform.find('.preDefinedModuleList').removeClass('d-none');\n\t\t\t\t\t\tmoduleList.select2('destroy');\n\t\t\t\t\t\tif (type === 'MultiReference') {\n\t\t\t\t\t\t\tmoduleList.removeAttr('multiple');\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tmoduleList.attr('multiple', '');\n\t\t\t\t\t\t}\n\t\t\t\t\t\tApp.Fields.Picklist.showSelect2ElementView(moduleList);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'Tree':\n\t\t\t\t\tcase 'CategoryMultipicklist':\n\t\t\t\t\t\tform.find('.preDefinedTreeList').removeClass('d-none');\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'ServerAccess':\n\t\t\t\t\t\tform.find('.js-server-access-list').removeClass('d-none');\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'MultiReferenceValue':\n\t\t\t\t\t\tform.find('.preMultiReferenceValue').removeClass('d-none');\n\t\t\t\t\t\tthisInstance.loadMultiReferenceFields(form);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'MapCoordinates':\n\t\t\t\t\t\tform.find('.coordinateOption').removeClass('d-none');\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'MultipicklistTags':\n\t\t\t\t\t\tlet picklistTags = form.find('.preDefinedValueExists');\n\t\t\t\t\t\tpicklistTags.find('.redColor').remove();\n\t\t\t\t\t\tlet pickListValues = picklistTags.find('#pickListValues');\n\t\t\t\t\t\tpickListValues.attr(\n\t\t\t\t\t\t\t'data-validation-engine',\n\t\t\t\t\t\t\tpickListValues.data('validation-engine').replace('required, ', '')\n\t\t\t\t\t\t);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'Group':\n\t\t\t\t\t\tform.find('.js-group-module-option').removeClass('d-none');\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Function to register click event for add custom block button\n\t\t */\n\t\tregisterAddCustomBlockEvent: function () {\n\t\t\tconst thisInstance = this;\n\t\t\tlet contents = this.container.find('.contents');\n\t\t\tcontents.find('.addCustomBlock').on('click', function (e) {\n\t\t\t\tlet addBlockContainer = contents.find('.addBlockModal').clone(true, true),\n\t\t\t\t\tcallBackFunction = function (data) {\n\t\t\t\t\t\tdata.find('.addBlockModal').removeClass('d-none').show();\n\t\t\t\t\t\tApp.Fields.Picklist.showSelect2ElementView(data.find('select'));\n\t\t\t\t\t\tlet form = data.find('.addCustomBlockForm');\n\t\t\t\t\t\tthisInstance.setBlocksListArray(form);\n\t\t\t\t\t\tlet fieldLabel = form.find('[name=\"label\"]'),\n\t\t\t\t\t\t\tparams = Object.create(app.validationEngineOptions);\n\t\t\t\t\t\tparams.onValidationComplete = function (form, valid) {\n\t\t\t\t\t\t\tif (valid) {\n\t\t\t\t\t\t\t\tlet formData = form.serializeFormData();\n\t\t\t\t\t\t\t\tif ($.inArray(formData['label'].toLowerCase(), thisInstance.blockNamesList) == -1) {\n\t\t\t\t\t\t\t\t\tthisInstance.saveBlockDetails(form).done(function (data) {\n\t\t\t\t\t\t\t\t\t\tif (data['success']) {\n\t\t\t\t\t\t\t\t\t\t\tlet result = data['result'];\n\t\t\t\t\t\t\t\t\t\t\tthisInstance.displayNewCustomBlock(result);\n\t\t\t\t\t\t\t\t\t\t\tthisInstance.updateNewSequenceForBlocks(result['sequenceList']);\n\t\t\t\t\t\t\t\t\t\t\tthisInstance.appendNewBlockToBlocksList(result, form);\n\t\t\t\t\t\t\t\t\t\t\tthisInstance.makeFieldsListSortable();\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\tapp.hideModalWindow();\n\t\t\t\t\t\t\t\t\treturn valid;\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tlet result = app.vtranslate('JS_BLOCK_NAME_EXISTS');\n\t\t\t\t\t\t\t\t\tfieldLabel.validationEngine('showPrompt', result, 'error', 'topLeft', true);\n\t\t\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t};\n\t\t\t\t\t\tform.validationEngine(params);\n\t\t\t\t\t\tform.on('submit', function (e) {\n\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t});\n\t\t\t\t\t};\n\t\t\t\tapp.showModalWindow(\n\t\t\t\t\taddBlockContainer,\n\t\t\t\t\tfunction (data) {\n\t\t\t\t\t\tcallBackFunction(data);\n\t\t\t\t\t},\n\t\t\t\t\t{ width: '1000px' }\n\t\t\t\t);\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Function to save the new custom block details\n\t\t */\n\t\tsaveBlockDetails: function (form) {\n\t\t\tvar aDeferred = $.Deferred();\n\t\t\tvar progressIndicatorElement = $.progressIndicator({\n\t\t\t\tposition: 'html',\n\t\t\t\tblockInfo: {\n\t\t\t\t\tenabled: true\n\t\t\t\t}\n\t\t\t});\n\t\t\tvar params = form.serializeFormData();\n\t\t\tparams['module'] = app.getModuleName();\n\t\t\tparams['parent'] = app.getParentModuleName();\n\t\t\tparams['sourceModule'] = $('#selectedModuleName').val();\n\t\t\tparams['action'] = 'Block';\n\t\t\tparams['mode'] = 'save';\n\n\t\t\tAppConnector.request(params)\n\t\t\t\t.done(function (data) {\n\t\t\t\t\tlet response = data.result;\n\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\tif (response && response.success) {\n\t\t\t\t\t\tapp.showNotify({\n\t\t\t\t\t\t\ttype: 'success',\n\t\t\t\t\t\t\ttext: app.vtranslate('JS_CUSTOM_BLOCK_ADDED')\n\t\t\t\t\t\t});\n\t\t\t\t\t\taDeferred.resolve(data);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tapp.showNotify({\n\t\t\t\t\t\t\ttype: 'error',\n\t\t\t\t\t\t\ttext: response.message\n\t\t\t\t\t\t});\n\t\t\t\t\t\taDeferred.reject(false);\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.fail(function (error) {\n\t\t\t\t\taDeferred.reject(error);\n\t\t\t\t});\n\t\t\treturn aDeferred.promise();\n\t\t},\n\t\t/**\n\t\t * Function used to display the new custom block ui after save\n\t\t */\n\t\tdisplayNewCustomBlock: function (result) {\n\t\t\tvar contents = this.container.find('.contents');\n\t\t\tvar beforeBlockId = result['beforeBlockId'];\n\t\t\tvar beforeBlock = contents.find('.block_' + beforeBlockId);\n\n\t\t\tvar newBlockCloneCopy = contents.find('.newCustomBlockCopy').clone(true, true);\n\t\t\tnewBlockCloneCopy\n\t\t\t\t.data('blockId', result['id'])\n\t\t\t\t.find('.blockLabel')\n\t\t\t\t.append($('<strong class=\"align-middle\">' + result['label'] + '</strong>'));\n\t\t\tnewBlockCloneCopy.find('.js-block-visibility').data('blockId', result['id']);\n\t\t\tif (result['isAddCustomFieldEnabled']) {\n\t\t\t\tnewBlockCloneCopy.find('.addCustomField').removeClass('d-none');\n\t\t\t}\n\t\t\tbeforeBlock.after(\n\t\t\t\tnewBlockCloneCopy.removeClass('d-none newCustomBlockCopy').addClass('editFieldsTable block_' + result['id'])\n\t\t\t);\n\n\t\t\tnewBlockCloneCopy.find('.blockFieldsList').sortable({ connectWith: '.blockFieldsList' });\n\t\t},\n\t\t/**\n\t\t * Function to update the sequence for all blocks after adding new Block\n\t\t */\n\t\tupdateNewSequenceForBlocks: function (sequenceList) {\n\t\t\tvar contents = this.container.find('.contents');\n\t\t\t$.each(sequenceList, function (blockId, sequence) {\n\t\t\t\tcontents.find('.block_' + blockId).data('sequence', sequence);\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Function to update the block list with the new block label in the clone container\n\t\t */\n\t\tappendNewBlockToBlocksList: function (result, form) {\n\t\t\tvar contents = this.container.find('.contents');\n\t\t\tvar hiddenAddBlockModel = contents.find('.addBlockModal');\n\t\t\tvar blocksListSelect = hiddenAddBlockModel.find('[name=\"beforeBlockId\"]');\n\t\t\tvar option = $('<option>', {\n\t\t\t\tvalue: result['id'],\n\t\t\t\ttext: result['label']\n\t\t\t});\n\t\t\tblocksListSelect.append(option.attr('data-label', result['label']));\n\t\t},\n\t\t/**\n\t\t * Function to update the block list to remove the deleted custom block label in the clone container\n\t\t */\n\t\tremoveBlockFromBlocksList: function (blockId) {\n\t\t\tvar contents = this.container.find('.contents');\n\t\t\tvar hiddenAddBlockModel = contents.find('.addBlockModal');\n\t\t\tvar blocksListSelect = hiddenAddBlockModel.find('[name=\"beforeBlockId\"]');\n\t\t\tblocksListSelect.find('option[value=\"' + blockId + '\"]').remove();\n\t\t},\n\t\t/**\n\t\t * Function to register the change event for block visibility\n\t\t */\n\t\tregisterBlockVisibilityEvent: function () {\n\t\t\tvar thisInstance = this;\n\t\t\tvar contents = this.container.find('.contents');\n\t\t\tcontents.on('click', '.js-block-visibility', function (e) {\n\t\t\t\tlet currentTarget = $(e.currentTarget);\n\t\t\t\tthisInstance.updateBlockStatus(currentTarget);\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Function to save the changed visibility for the block\n\t\t */\n\t\tupdateBlockStatus: function (currentTarget) {\n\t\t\tvar blockStatus = currentTarget.data('visible');\n\t\t\tvar progressIndicatorElement = $.progressIndicator({\n\t\t\t\tposition: 'html',\n\t\t\t\tblockInfo: {\n\t\t\t\t\tenabled: true\n\t\t\t\t}\n\t\t\t});\n\t\t\tvar params = {};\n\t\t\tparams['module'] = app.getModuleName();\n\t\t\tparams['parent'] = app.getParentModuleName();\n\t\t\tparams['sourceModule'] = $('#selectedModuleName').val();\n\t\t\tparams['action'] = 'Block';\n\t\t\tparams['mode'] = 'save';\n\t\t\tparams['blockid'] = currentTarget.data('blockId');\n\t\t\tparams['display_status'] = blockStatus;\n\n\t\t\tAppConnector.request(params)\n\t\t\t\t.done(function (data) {\n\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\tvar params = {};\n\t\t\t\t\tif (blockStatus == '1') {\n\t\t\t\t\t\tparams['text'] = app.vtranslate('JS_BLOCK_VISIBILITY_SHOW');\n\t\t\t\t\t} else if (blockStatus == '2') {\n\t\t\t\t\t\tparams['text'] = app.vtranslate('JS_BLOCK_VISIBILITY_DYNAMIC');\n\t\t\t\t\t} else {\n\t\t\t\t\t\tparams['text'] = app.vtranslate('JS_BLOCK_VISIBILITY_HIDE');\n\t\t\t\t\t}\n\t\t\t\t\tSettings_Vtiger_Index_Js.showMessage(params);\n\t\t\t\t})\n\t\t\t\t.fail(function (error) {\n\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Function to register the click event for inactive fields list\n\t\t */\n\t\tregisterInactiveFieldsEvent: function () {\n\t\t\tvar thisInstance = this;\n\t\t\tvar contents = this.container.find('.contents');\n\t\t\tcontents.on('click', '.js-inactive-fields-btn', function (e) {\n\t\t\t\tlet currentTarget = $(e.currentTarget);\n\t\t\t\tvar currentBlock = currentTarget.closest('.editFieldsTable');\n\t\t\t\t//If there are no hidden fields, show pnotify\n\t\t\t\tif ($.isEmptyObject(thisInstance.inActiveFieldsList)) {\n\t\t\t\t\tvar params = {};\n\t\t\t\t\tparams['text'] = app.vtranslate('JS_NO_HIDDEN_FIELDS_EXISTS');\n\t\t\t\t\tparams['type'] = 'error';\n\t\t\t\t\tSettings_Vtiger_Index_Js.showMessage(params);\n\t\t\t\t} else {\n\t\t\t\t\tvar inActiveFieldsContainer = contents.find('.inactiveFieldsModal').clone(true, true);\n\t\t\t\t\tvar callBackFunction = function (data) {\n\t\t\t\t\t\tdata.find('.inactiveFieldsModal').removeClass('d-none').show();\n\t\t\t\t\t\tvar form = data.find('.inactiveFieldsForm');\n\t\t\t\t\t\tthisInstance.showHiddenFields(form);\n\t\t\t\t\t\t//register click event for reactivate button in the inactive fields modal\n\t\t\t\t\t\tform.on('submit', function (e) {\n\t\t\t\t\t\t\tthisInstance.createReactivateFieldslist(form);\n\t\t\t\t\t\t\tapp.hideModalWindow();\n\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t});\n\t\t\t\t\t};\n\t\t\t\t\tapp.showModalWindow(\n\t\t\t\t\t\tinActiveFieldsContainer,\n\t\t\t\t\t\tfunction (data) {\n\t\t\t\t\t\t\tif (typeof callBackFunction == 'function') {\n\t\t\t\t\t\t\t\tcallBackFunction(data);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{ width: '1000px' }\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Function to show the list of inactive fields in the modal\n\t\t */\n\t\tshowHiddenFields: function (form) {\n\t\t\tconst self = this;\n\t\t\tlet detail = $('#detailViewLayout');\n\t\t\t$.each(self.inActiveFieldsList, function (blockId, fields) {\n\t\t\t\tform\n\t\t\t\t\t.find('.inActiveList')\n\t\t\t\t\t.append(\n\t\t\t\t\t\t'<h5 class=\"\">' +\n\t\t\t\t\t\t\tdetail.find(`.js-block-container[data-block-id=\"${blockId}\"] .js-block-label`).text() +\n\t\t\t\t\t\t\t'</h5>'\n\t\t\t\t\t);\n\t\t\t\t$.each(fields, function (key, value) {\n\t\t\t\t\tform\n\t\t\t\t\t\t.find('.inActiveList')\n\t\t\t\t\t\t.append(\n\t\t\t\t\t\t\t`<div class=\"checkbox\"><label><input type=\"checkbox\" class=\"inActiveField mr-2\" value=\"${key}\" data-block=\"${blockId}\"/>${value}</label></div>`\n\t\t\t\t\t\t);\n\t\t\t\t});\n\t\t\t\tform.find('.inActiveList').append('<hr>');\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Function to create the list of reactivate fields list\n\t\t */\n\t\tcreateReactivateFieldslist: function (form) {\n\t\t\tconst self = this;\n\t\t\tlet blocks = [];\n\t\t\tform.find('.inActiveField').each(function (index, domElement) {\n\t\t\t\tlet element = $(domElement);\n\t\t\t\tlet fieldId = element.val();\n\t\t\t\tlet blockId = element.data('block');\n\t\t\t\tif (element.is(':checked')) {\n\t\t\t\t\tdelete self.inActiveFieldsList[blockId][fieldId];\n\t\t\t\t\tif (!self.inActiveFieldsList[blockId]) {\n\t\t\t\t\t\tdelete self.inActiveFieldsList[blockId];\n\t\t\t\t\t}\n\t\t\t\t\tif (!blocks[blockId]) {\n\t\t\t\t\t\tblocks[blockId] = [];\n\t\t\t\t\t}\n\t\t\t\t\tblocks[blockId].push(fieldId);\n\t\t\t\t}\n\t\t\t});\n\t\t\t$.each(blocks, function (blockId, fields) {\n\t\t\t\tif (fields) {\n\t\t\t\t\tself.reActivateHiddenFields(blockId, fields);\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Function to unHide the selected fields in the inactive fields modal\n\t\t */\n\t\treActivateHiddenFields: function (blockId, fields) {\n\t\t\tlet progressIndicatorElement = $.progressIndicator({\n\t\t\t\t\tposition: 'html',\n\t\t\t\t\tblockInfo: {\n\t\t\t\t\t\tenabled: true\n\t\t\t\t\t}\n\t\t\t\t}),\n\t\t\t\tparams = {\n\t\t\t\t\tmodule: app.getModuleName(),\n\t\t\t\t\tparent: app.getParentModuleName(),\n\t\t\t\t\taction: 'Field',\n\t\t\t\t\tmode: 'unHide',\n\t\t\t\t\tblockId: blockId,\n\t\t\t\t\tfieldIdList: JSON.stringify(fields)\n\t\t\t\t},\n\t\t\t\tmessageParams = {};\n\t\t\tif (params.fieldIdList !== '[]') {\n\t\t\t\tAppConnector.request(params)\n\t\t\t\t\t.done(function (data) {\n\t\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t\twindow.location.reload();\n\t\t\t\t\t})\n\t\t\t\t\t.fail(function (error) {\n\t\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tmessageParams.text = app.vtranslate('JS_NO_ITEM_SELECTED');\n\t\t\t\tmessageParams.type = 'error';\n\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\tSettings_Vtiger_Index_Js.showMessage(messageParams);\n\t\t\t}\n\t\t},\n\t\t/**\n\t\t * Function to register the click event for delete custom block\n\t\t */\n\t\tregisterDeleteCustomBlockEvent: function () {\n\t\t\tlet thisInstance = this;\n\t\t\tlet contents = this.container.find('.contents');\n\t\t\tcontents.on('click', '.js-delete-custom-block-btn', function (e) {\n\t\t\t\tlet currentTarget = $(e.currentTarget);\n\t\t\t\tlet table = currentTarget.closest('div.editFieldsTable');\n\t\t\t\tapp.showConfirmModal({\n\t\t\t\t\ttext: app.vtranslate('JS_LBL_ARE_YOU_SURE_YOU_WANT_TO_DELETE'),\n\t\t\t\t\tconfirmedCallback: () => {\n\t\t\t\t\t\tthisInstance.deleteCustomBlock(table.data('blockId'));\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Function to delete the custom block\n\t\t */\n\t\tdeleteCustomBlock: function (blockId) {\n\t\t\tvar thisInstance = this;\n\t\t\tvar progressIndicatorElement = $.progressIndicator({\n\t\t\t\tposition: 'html',\n\t\t\t\tblockInfo: {\n\t\t\t\t\tenabled: true\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tvar params = {};\n\t\t\tparams['module'] = app.getModuleName();\n\t\t\tparams['parent'] = app.getParentModuleName();\n\t\t\tparams['action'] = 'Block';\n\t\t\tparams['mode'] = 'delete';\n\t\t\tparams['blockid'] = blockId;\n\n\t\t\tAppConnector.request(params)\n\t\t\t\t.done(function (data) {\n\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\tvar params = {};\n\t\t\t\t\tlet result = data.result;\n\t\t\t\t\tif (data['success'] && result.success) {\n\t\t\t\t\t\tthisInstance.removeDeletedBlock(blockId);\n\t\t\t\t\t\tthisInstance.removeBlockFromBlocksList(blockId);\n\t\t\t\t\t\tparams['text'] = app.vtranslate('JS_CUSTOM_BLOCK_DELETED');\n\t\t\t\t\t} else if (result && result.message) {\n\t\t\t\t\t\tparams['text'] = result.message;\n\t\t\t\t\t\tparams['type'] = 'error';\n\t\t\t\t\t}\n\t\t\t\t\tSettings_Vtiger_Index_Js.showMessage(params);\n\t\t\t\t})\n\t\t\t\t.fail(function (error, err) {\n\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\tapp.errorLog(error, err);\n\t\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Function to remove the deleted custom block from the ui\n\t\t */\n\t\tremoveDeletedBlock: function (blockId) {\n\t\t\tvar contents = this.container.find('.contents');\n\t\t\tvar deletedTable = contents.find('.block_' + blockId);\n\t\t\tdeletedTable.fadeOut('slow').remove();\n\t\t},\n\t\t/**\n\t\t * Function to register the click event for delete custom field\n\t\t */\n\t\tregisterDeleteCustomFieldEvent: function (contents) {\n\t\t\tconst thisInstance = this;\n\t\t\tif (typeof contents === 'undefined') {\n\t\t\t\tcontents = this.container.find('.contents');\n\t\t\t}\n\t\t\tcontents.find('.deleteCustomField').on('click', function (e) {\n\t\t\t\tlet currentTarget = $(e.currentTarget);\n\t\t\t\tapp.showConfirmModal({\n\t\t\t\t\ttext: app.vtranslate('JS_LBL_ARE_YOU_SURE_YOU_WANT_TO_DELETE'),\n\t\t\t\t\tconfirmedCallback: () => {\n\t\t\t\t\t\tthisInstance.deleteCustomField(currentTarget.data('fieldId')).done(function (data) {\n\t\t\t\t\t\t\tlet response = data.result;\n\t\t\t\t\t\t\tif (response && response.success) {\n\t\t\t\t\t\t\t\tlet field = currentTarget.closest('div.editFields'),\n\t\t\t\t\t\t\t\t\tblockId = field.data('blockId');\n\t\t\t\t\t\t\t\tfield.parent().fadeOut('slow').remove();\n\t\t\t\t\t\t\t\tthisInstance.reArrangeBlockFields($('#block_' + blockId));\n\t\t\t\t\t\t\t\tSettings_Vtiger_Index_Js.showMessage({\n\t\t\t\t\t\t\t\t\ttext: app.vtranslate('JS_CUSTOM_FIELD_DELETED')\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tSettings_Vtiger_Index_Js.showMessage({ type: 'error', text: response.message });\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Function to delete the custom field\n\t\t */\n\t\tdeleteCustomField: function (fieldId) {\n\t\t\tvar aDeferred = $.Deferred();\n\t\t\tvar progressIndicatorElement = $.progressIndicator({\n\t\t\t\tposition: 'html',\n\t\t\t\tblockInfo: {\n\t\t\t\t\tenabled: true\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tvar params = {};\n\t\t\tparams['module'] = app.getModuleName();\n\t\t\tparams['parent'] = app.getParentModuleName();\n\t\t\tparams['action'] = 'Field';\n\t\t\tparams['mode'] = 'delete';\n\t\t\tparams['fieldid'] = fieldId;\n\n\t\t\tAppConnector.request(params)\n\t\t\t\t.done(function (data) {\n\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\taDeferred.resolve(data);\n\t\t\t\t})\n\t\t\t\t.fail(function (error) {\n\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\taDeferred.reject();\n\t\t\t\t});\n\t\t\treturn aDeferred.promise();\n\t\t},\n\t\t/**\n\t\t * Function to register the cahnge event for mandatory & default checkboxes in edit field details\n\t\t */\n\t\tregisterFieldDetailsChange: function (contents) {\n\t\t\tcontents.find('[name=\"mandatory\"]').on('change', function (e) {\n\t\t\t\tlet currentTarget = $(e.currentTarget);\n\t\t\t\tif (currentTarget.attr('readonly') !== 'readonly') {\n\t\t\t\t\tvar form = currentTarget.closest('.fieldDetailsForm');\n\t\t\t\t\tvar quickcreateEle = form.find('[name=\"quickcreate\"]').filter(':checkbox').not('.optionDisabled');\n\t\t\t\t\tvar presenceEle = form.find('[name=\"presence\"]').filter(':checkbox').not('.optionDisabled');\n\t\t\t\t\tif (currentTarget.is(':checked')) {\n\t\t\t\t\t\tquickcreateEle.attr('checked', true).attr('readonly', 'readonly');\n\t\t\t\t\t\tpresenceEle.attr('checked', true).attr('readonly', 'readonly');\n\t\t\t\t\t} else {\n\t\t\t\t\t\tquickcreateEle.removeAttr('readonly');\n\t\t\t\t\t\tpresenceEle.removeAttr('readonly');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t\tcontents.find('[name=\"defaultvalue\"],[name=\"header_field\"]').on('change', function (e) {\n\t\t\t\tlet currentTarget = $(e.currentTarget);\n\t\t\t\tvar defaultValueUi = currentTarget.closest('.checkbox').find('.js-toggle-hide');\n\t\t\t\tif (currentTarget.is(':checked')) {\n\t\t\t\t\tdefaultValueUi.removeClass('zeroOpacity');\n\t\t\t\t} else {\n\t\t\t\t\tdefaultValueUi.addClass('zeroOpacity');\n\t\t\t\t}\n\t\t\t});\n\t\t\tcontents.find('.js-header_type').on('change', function (e) {\n\t\t\t\tlet el = $(e.currentTarget);\n\t\t\t\tlet relFieldsElement = el.closest('.js-toggle-hide').find('.js-header_rel_fields');\n\t\t\t\tif (el.val() === 'value') {\n\t\t\t\t\trelFieldsElement.removeClass('d-none');\n\t\t\t\t} else {\n\t\t\t\t\trelFieldsElement.addClass('d-none');\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Function to register the click event for related modules list tab\n\t\t */\n\t\trelatedModulesTabClickEvent: function () {\n\t\t\tvar thisInstance = this;\n\t\t\tvar contents = this.container.find('.contents');\n\t\t\tvar relatedContainer = contents.find('#relatedTabOrder');\n\t\t\tvar relatedTab = contents.find('.relatedListTab');\n\t\t\trelatedTab.on('click', function () {\n\t\t\t\tif (relatedContainer.find('.relatedTabModulesList').length > 0) {\n\t\t\t\t} else {\n\t\t\t\t\tthisInstance.showRelatedTabModulesList(relatedContainer);\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Function to show the related tab modules list in the tab\n\t\t */\n\t\tshowRelatedTabModulesList: function (relatedContainer) {\n\t\t\tvar thisInstance = this;\n\t\t\tvar params = {};\n\t\t\tparams['module'] = app.getModuleName();\n\t\t\tparams['parent'] = app.getParentModuleName();\n\t\t\tparams['sourceModule'] = $('#selectedModuleName').val();\n\t\t\tparams['view'] = 'Index';\n\t\t\tparams['mode'] = 'showRelatedListLayout';\n\n\t\t\tAppConnector.request(params)\n\t\t\t\t.done(function (data) {\n\t\t\t\t\trelatedContainer.html(data);\n\t\t\t\t\tif ($(data).find('.relatedListContainer').length > 0) {\n\t\t\t\t\t\tthisInstance.makeRelatedModuleSortable();\n\t\t\t\t\t\tthisInstance.registerRelatedListEvents();\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.fail(function (error) {});\n\t\t},\n\t\t/**\n\t\t * Function to get the respective module layout editor through pjax\n\t\t */\n\t\tgetModuleLayoutEditor: function (selectedModule) {\n\t\t\tvar aDeferred = $.Deferred();\n\t\t\tvar progressIndicatorElement = $.progressIndicator({\n\t\t\t\tposition: 'html',\n\t\t\t\tblockInfo: {\n\t\t\t\t\tenabled: true\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tvar params = {};\n\t\t\tparams['module'] = app.getModuleName();\n\t\t\tparams['parent'] = app.getParentModuleName();\n\t\t\tparams['view'] = 'Index';\n\t\t\tparams['sourceModule'] = selectedModule;\n\n\t\t\tAppConnector.requestPjax(params)\n\t\t\t\t.done(function (data) {\n\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\taDeferred.resolve(data);\n\t\t\t\t})\n\t\t\t\t.fail(function (error) {\n\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\taDeferred.reject();\n\t\t\t\t});\n\t\t\treturn aDeferred.promise();\n\t\t},\n\t\tgetRelModuleLayoutEditor: function (selectedModule) {\n\t\t\tvar aDeferred = $.Deferred();\n\t\t\tvar progressIndicatorElement = $.progressIndicator({\n\t\t\t\tposition: 'html',\n\t\t\t\tblockInfo: {\n\t\t\t\t\tenabled: true\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tvar params = {};\n\t\t\tparams['module'] = app.getModuleName();\n\t\t\tparams['parent'] = app.getParentModuleName();\n\t\t\tparams['view'] = 'Index';\n\t\t\tparams['mode'] = 'showRelatedListLayout';\n\t\t\tparams['sourceModule'] = selectedModule;\n\n\t\t\tAppConnector.requestPjax(params)\n\t\t\t\t.done(function (data) {\n\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\taDeferred.resolve(data);\n\t\t\t\t})\n\t\t\t\t.fail(function (error) {\n\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\taDeferred.reject();\n\t\t\t\t});\n\t\t\treturn aDeferred.promise();\n\t\t},\n\t\t/**\n\t\t * Function to register the change event for layout editor modules list\n\t\t */\n\t\tregisterModulesChangeEvent: function () {\n\t\t\tvar thisInstance = this;\n\t\t\tvar container = this.container;\n\t\t\tvar contentsDiv = container.closest('.contentsDiv');\n\n\t\t\tApp.Fields.Picklist.showSelect2ElementView(container.find('[name=\"layoutEditorModules\"]'));\n\n\t\t\tcontainer.on('change', '[name=\"layoutEditorModules\"]', function (e) {\n\t\t\t\tlet currentTarget = $(e.currentTarget);\n\t\t\t\tvar selectedModule = currentTarget.val();\n\t\t\t\tthisInstance.getModuleLayoutEditor(selectedModule).done(function (data) {\n\t\t\t\t\tcontentsDiv.html(data);\n\t\t\t\t\tthisInstance.registerEvents();\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\t\tregisterRelModulesChangeEvent: function () {\n\t\t\tvar thisInstance = this;\n\t\t\tvar container = this.container;\n\t\t\tvar contentsDiv = container.closest('.contentsDiv');\n\n\t\t\tApp.Fields.Picklist.showSelect2ElementView(container.find('[name=\"layoutEditorRelModules\"]'));\n\n\t\t\tcontainer.on('change', '[name=\"layoutEditorRelModules\"]', function (e) {\n\t\t\t\tlet currentTarget = $(e.currentTarget);\n\t\t\t\tvar selectedModule = currentTarget.val();\n\t\t\t\tthisInstance.getRelModuleLayoutEditor(selectedModule).done(function (data) {\n\t\t\t\t\tcontentsDiv.html(data);\n\t\t\t\t\tthisInstance.registerEvents();\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\t\tlockCheckbox: function (contents) {\n\t\t\tcontents.on('change', ':checkbox', function (e) {\n\t\t\t\tlet currentTarget = $(e.currentTarget);\n\t\t\t\tif (currentTarget.attr('readonly') === 'readonly') {\n\t\t\t\t\tvar status = $(e.currentTarget).is(':checked');\n\t\t\t\t\tif (!status) {\n\t\t\t\t\t\t$(e.currentTarget).prop('checked', true);\n\t\t\t\t\t} else {\n\t\t\t\t\t\t$(e.currentTarget).prop('checked', false);\n\t\t\t\t\t}\n\t\t\t\t\te.preventDefault();\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\tregisterEditFieldDetailsClick: function (contents) {\n\t\t\tvar thisInstance = this;\n\t\t\tif (typeof contents === 'undefined') {\n\t\t\t\tcontents = this.container.find('.contents');\n\t\t\t}\n\t\t\tcontents.find('.js-disable-field').on('click', (e) => {\n\t\t\t\tlet currentTarget = $(e.currentTarget);\n\t\t\t\tapp.showConfirmModal({\n\t\t\t\t\ttext: app.vtranslate('JS_ARE_YOU_SURE_YOU_WANT_TO_INACTIVE_FIELD'),\n\t\t\t\t\tconfirmedCallback: () => {\n\t\t\t\t\t\tlet fieldRow = currentTarget.closest('div.editFields');\n\t\t\t\t\t\tlet fieldId = fieldRow.data('fieldId');\n\t\t\t\t\t\tlet block = fieldRow.closest('.editFieldsTable');\n\t\t\t\t\t\tlet blockId = block.data('blockId');\n\t\t\t\t\t\tAppConnector.request({\n\t\t\t\t\t\t\tmodule: app.getModuleName(),\n\t\t\t\t\t\t\tparent: app.getParentModuleName(),\n\t\t\t\t\t\t\taction: 'Field',\n\t\t\t\t\t\t\tmode: 'save',\n\t\t\t\t\t\t\tfieldid: fieldId,\n\t\t\t\t\t\t\tpresence: 1\n\t\t\t\t\t\t}).done(function (response) {\n\t\t\t\t\t\t\tfieldRow.parent().fadeOut('slow').remove();\n\t\t\t\t\t\t\tif ($.isEmptyObject(thisInstance.inActiveFieldsList[blockId])) {\n\t\t\t\t\t\t\t\tif (thisInstance.inActiveFieldsList.length === 0) {\n\t\t\t\t\t\t\t\t\tthisInstance.inActiveFieldsList = {};\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tthisInstance.inActiveFieldsList[blockId] = {};\n\t\t\t\t\t\t\t\tthisInstance.inActiveFieldsList[blockId][fieldId] = response['result']['label'];\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tthisInstance.inActiveFieldsList[blockId][fieldId] = response['result']['label'];\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tthisInstance.reArrangeBlockFields(block);\n\t\t\t\t\t\t\tapp.showNotify({\n\t\t\t\t\t\t\t\ttype: 'success',\n\t\t\t\t\t\t\t\ttext: app.vtranslate('JS_SAVE_CHANGES')\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\n\t\t\tcontents.find('.editFieldDetails').on('click', function (e) {\n\t\t\t\tlet currentTarget = $(e.currentTarget);\n\t\t\t\tlet fieldRow = currentTarget.closest('div.editFields');\n\t\t\t\tlet fieldId = fieldRow.data('fieldId');\n\t\t\t\tlet block = fieldRow.closest('.editFieldsTable');\n\t\t\t\tlet blockId = block.data('blockId');\n\t\t\t\tapp.showModalWindow({\n\t\t\t\t\turl: 'index.php?parent=Settings&module=LayoutEditor&view=EditField&fieldId=' + fieldRow.data('fieldId'),\n\t\t\t\t\tcb: function (modalContainer) {\n\t\t\t\t\t\tthisInstance.registerFieldDetailsChange(modalContainer);\n\t\t\t\t\t\tthisInstance.lockCheckbox(modalContainer);\n\t\t\t\t\t\tthisInstance.registerVaribleToParsers(modalContainer);\n\t\t\t\t\t\tapp.registerEventForClockPicker(modalContainer.find('.clockPicker'));\n\t\t\t\t\t\tmodalContainer.find('[data-inputmask]').inputmask();\n\t\t\t\t\t\tmodalContainer.find('.js-select-icon').on('click', function (e) {\n\t\t\t\t\t\t\t$.when(Settings_Vtiger_Index_Js.selectIcon({ skipImage: true })).done(function (data) {\n\t\t\t\t\t\t\t\tmodalContainer.find('[name=\"icon_name\"]').val(data['name']);\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t});\n\t\t\t\t\t},\n\t\t\t\t\tsendByAjaxCb: (formData, response) => {\n\t\t\t\t\t\tif (!response.success) {\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tSettings_Vtiger_Index_Js.showMessage({\n\t\t\t\t\t\t\ttext: app.vtranslate('JS_FIELD_DETAILS_SAVED')\n\t\t\t\t\t\t});\n\t\t\t\t\t\tlet result = response['result'];\n\t\t\t\t\t\tlet fieldLabel = fieldRow.find('.fieldLabel');\n\t\t\t\t\t\tif (result['presence'] === '1') {\n\t\t\t\t\t\t\tfieldRow.parent().fadeOut('slow').remove();\n\t\t\t\t\t\t\tif ($.isEmptyObject(thisInstance.inActiveFieldsList[blockId])) {\n\t\t\t\t\t\t\t\tif (thisInstance.inActiveFieldsList.length === 0) {\n\t\t\t\t\t\t\t\t\tthisInstance.inActiveFieldsList = {};\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tthisInstance.inActiveFieldsList[blockId] = {};\n\t\t\t\t\t\t\t\tthisInstance.inActiveFieldsList[blockId][fieldId] = result['label'];\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tthisInstance.inActiveFieldsList[blockId][fieldId] = result['label'];\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tthisInstance.reArrangeBlockFields(block);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (result['mandatory']) {\n\t\t\t\t\t\t\tfieldLabel.find('.redColor').removeClass('d-none');\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tfieldLabel.find('.redColor').addClass('d-none');\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\t\tregisterVaribleToParsers: function (container) {\n\t\t\tcontainer.find('.configButton').on('click', function (e) {\n\t\t\t\tcontainer.find('.js-toggle-hide .js-base-element').each(function (n, e) {\n\t\t\t\t\tvar currentElement = $(e);\n\t\t\t\t\tif (currentElement.hasClass('d-none')) {\n\t\t\t\t\t\tcurrentElement.find('input,select').prop('disabled', false);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tcurrentElement.find('input,select').prop('disabled', true);\n\t\t\t\t\t}\n\t\t\t\t\tcurrentElement.toggleClass('d-none');\n\t\t\t\t});\n\t\t\t});\n\t\t\tcontainer.find('.varibleToParsers').on('click', function (e) {\n\t\t\t\tlet element = $(e.currentTarget);\n\t\t\t\tlet container = element.closest('.js-base-element');\n\t\t\t\tlet input = container.find('[name=\"' + container.data('name') + '\"]');\n\t\t\t\tlet fieldId = element.closest('form').find('[name=\"fieldid\"]').val();\n\t\t\t\tlet id = 'varibleToParsersModal';\n\t\t\t\tapp.showModalWindow({\n\t\t\t\t\tid: id,\n\t\t\t\t\turl:\n\t\t\t\t\t\t'index.php?parent=Settings&module=LayoutEditor&view=VaribleToParsers&fieldId=' +\n\t\t\t\t\t\tfieldId +\n\t\t\t\t\t\t'&defaultValue=' +\n\t\t\t\t\t\tinput.val(),\n\t\t\t\t\tcb: function (modalContainer) {\n\t\t\t\t\t\tmodalContainer.find('[name=\"saveButton\"]').on('click', function () {\n\t\t\t\t\t\t\tinput.val(modalContainer.find('select').val());\n\t\t\t\t\t\t\tapp.hideModalWindow(null, id);\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t\t\tApp.Fields.Tree.register(container);\n\t\t},\n\t\t/**\n\t\t * Function to register all the events for blocks\n\t\t */\n\t\tregisterBlockEvents: function () {\n\t\t\tvar thisInstance = this;\n\t\t\tthisInstance.makeBlocksListSortable();\n\t\t\tthisInstance.registerAddCustomFieldEvent();\n\t\t\tthisInstance.registerAddSystemFieldEvent();\n\t\t\tthisInstance.registerBlockVisibilityEvent();\n\t\t\tthisInstance.registerInactiveFieldsEvent();\n\t\t\tthisInstance.registerDeleteCustomBlockEvent();\n\t\t},\n\t\t/**\n\t\t * Function to register all the events for fields\n\t\t */\n\t\tregisterFieldEvents: function (contents) {\n\t\t\tvar thisInstance = this;\n\t\t\tif (typeof contents === 'undefined') {\n\t\t\t\tcontents = this.container.find('.contents');\n\t\t\t}\n\t\t\tApp.Fields.Date.register(contents);\n\t\t\tApp.Fields.Picklist.changeSelectElementView(contents);\n\t\t\tthisInstance.makeFieldsListSortable();\n\t\t\tthisInstance.registerDeleteCustomFieldEvent(contents);\n\t\t\tthisInstance.registerEditFieldDetailsClick(contents);\n\n\t\t\tcontents.find(':checkbox').on('change', function (e) {\n\t\t\t\tlet currentTarget = $(e.currentTarget);\n\t\t\t\tif (currentTarget.attr('readonly') == 'readonly') {\n\t\t\t\t\tvar status = $(e.currentTarget).is(':checked');\n\t\t\t\t\tif (!status) {\n\t\t\t\t\t\t$(e.currentTarget).prop('checked', true);\n\t\t\t\t\t} else {\n\t\t\t\t\t\t$(e.currentTarget).prop('checked', false);\n\t\t\t\t\t}\n\t\t\t\t\te.preventDefault();\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Function to register switch module type\n\t\t */\n\t\tregisterSwitch: function () {\n\t\t\tthis.container.find('.js-switch--inventory').on('click', (event) => {\n\t\t\t\tevent.preventDefault();\n\t\t\t\tapp.showConfirmModal({\n\t\t\t\t\ttitle: app.vtranslate('JS_EXTENDED_MODULE'),\n\t\t\t\t\tconfirmedCallback: () => {\n\t\t\t\t\t\tlet progress = $.progressIndicator({\n\t\t\t\t\t\t\tmessage: app.vtranslate('JS_SAVE_LOADER_INFO'),\n\t\t\t\t\t\t\tposition: 'html',\n\t\t\t\t\t\t\tblockInfo: {\n\t\t\t\t\t\t\t\tenabled: true\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t\tlet params = {};\n\t\t\t\t\t\tparams['sourceModule'] = this.container.find('[name=\"layoutEditorModules\"]').val();\n\t\t\t\t\t\tparams['type'] = event.currentTarget.dataset.value;\n\t\t\t\t\t\tapp.saveAjax('changeModuleType', null, params).done((data) => {\n\t\t\t\t\t\t\tif (data.result) {\n\t\t\t\t\t\t\t\tif (data.result.success) {\n\t\t\t\t\t\t\t\t\tthis.container.find('.js-switch--inventory').prop('disabled', true);\n\t\t\t\t\t\t\t\t\tSettings_Vtiger_Index_Js.showMessage({\n\t\t\t\t\t\t\t\t\t\ttype: 'success',\n\t\t\t\t\t\t\t\t\t\ttext: data.result.message\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\tprogress.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\twindow.location.reload();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Function to adding inventory field\n\t\t */\n\t\tregisterAddInventoryField() {\n\t\t\tconst thisInstance = this;\n\t\t\tlet container = thisInstance.getInventoryViewLayout();\n\t\t\tcontainer.find('.addInventoryField').on('click', (e) => {\n\t\t\t\tlet currentTarget = $(e.currentTarget);\n\t\t\t\tlet selectedModule = this.container.find('[name=\"layoutEditorModules\"]').val();\n\t\t\t\tlet blockId = currentTarget.closest('.inventoryBlock').data('block-id');\n\t\t\t\tconst progress = $.progressIndicator();\n\t\t\t\tapp.showModalWindow(\n\t\t\t\t\tnull,\n\t\t\t\t\t'index.php?module=LayoutEditor&parent=Settings&view=CreateInventoryFields&mode=step1&sourceModule=' +\n\t\t\t\t\t\tselectedModule +\n\t\t\t\t\t\t'&block=' +\n\t\t\t\t\t\tblockId,\n\t\t\t\t\t(modalContainer) => {\n\t\t\t\t\t\tapp.showScrollBar(modalContainer.find('.well'), {\n\t\t\t\t\t\t\theight: '300px'\n\t\t\t\t\t\t});\n\t\t\t\t\t\tthisInstance.registerStep1(modalContainer, blockId);\n\t\t\t\t\t\tprogress.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t}\n\t\t\t\t);\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Function to editing inventory field\n\t\t */\n\t\tregisterEditInventoryField: function () {\n\t\t\tvar thisInstance = this;\n\t\t\tvar container = thisInstance.getInventoryViewLayout();\n\t\t\tcontainer.find('.editInventoryField').on('click', function (e) {\n\t\t\t\tlet currentTarget = $(e.currentTarget);\n\t\t\t\tvar selectedModule = $('#layoutEditorContainer').find('[name=\"layoutEditorModules\"]').val();\n\t\t\t\tvar editField = currentTarget.closest('.editFields');\n\t\t\t\tvar progress = $.progressIndicator();\n\t\t\t\tapp.showModalWindow(\n\t\t\t\t\tnull,\n\t\t\t\t\t'index.php?module=LayoutEditor&parent=Settings&view=CreateInventoryFields&mode=step2&sourceModule=' +\n\t\t\t\t\t\tselectedModule +\n\t\t\t\t\t\t'&type=' +\n\t\t\t\t\t\teditField.data('type') +\n\t\t\t\t\t\t'&fieldName=' +\n\t\t\t\t\t\teditField.data('name'),\n\t\t\t\t\tfunction (container) {\n\t\t\t\t\t\tapp.showPopoverElementView(container.find('.js-help-info'));\n\t\t\t\t\t\tthisInstance.registerStep2(container);\n\t\t\t\t\t\tprogress.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t}\n\t\t\t\t);\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Function to adding inventory field first step\n\t\t *\n\t\t * @param {jQuery} container\n\t\t * @param {int} blockId\n\t\t */\n\t\tregisterStep1(container, blockId) {\n\t\t\tconst thisInstance = this;\n\t\t\tcontainer.find('.js-next-button').on('click', (e) => {\n\t\t\t\tlet selectedModule = this.container.find('[name=\"layoutEditorModules\"]').val();\n\t\t\t\tlet type = container.find('select.type').val();\n\t\t\t\tif (type === null) {\n\t\t\t\t\tcontainer\n\t\t\t\t\t\t.find('select.type')\n\t\t\t\t\t\t.validationEngine('showPrompt', app.vtranslate('JS_REQUIRED_FIELD'), 'error', 'topRight', true);\n\t\t\t\t} else {\n\t\t\t\t\tapp.hideModalWindow(() => {\n\t\t\t\t\t\tconst progress = $.progressIndicator({\n\t\t\t\t\t\t\tposition: 'html',\n\t\t\t\t\t\t\tblockInfo: {\n\t\t\t\t\t\t\t\tenabled: true\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t\tapp.showModalWindow(\n\t\t\t\t\t\t\tnull,\n\t\t\t\t\t\t\t'index.php?module=LayoutEditor&parent=Settings&view=CreateInventoryFields&mode=step2&sourceModule=' +\n\t\t\t\t\t\t\t\tselectedModule +\n\t\t\t\t\t\t\t\t'&type=' +\n\t\t\t\t\t\t\t\ttype,\n\t\t\t\t\t\t\t(modalContainer) => {\n\t\t\t\t\t\t\t\tthisInstance.registerStep2(modalContainer);\n\t\t\t\t\t\t\t\tprogress.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Function to save inventory field\n\t\t * @param {jQuery} container\n\t\t */\n\t\tregisterStep2: function (container) {\n\t\t\tlet form = container.find('form');\n\t\t\tform.validationEngine(app.validationEngineOptions);\n\t\t\tform.on('submit', (e) => {\n\t\t\t\te.preventDefault();\n\t\t\t\tlet formData = form.serializeFormData();\n\t\t\t\tif (form.validationEngine('validate')) {\n\t\t\t\t\tapp.saveAjax('saveInventoryField', null, formData).done((data) => {\n\t\t\t\t\t\tapp.hideModalWindow();\n\t\t\t\t\t\tif (data.result && data.success) {\n\t\t\t\t\t\t\tlet selectedModule = this.container.find('[name=\"layoutEditorModules\"]').val();\n\t\t\t\t\t\t\twindow.location.href =\n\t\t\t\t\t\t\t\t'index.php?module=LayoutEditor&parent=Settings&view=Index&tab=inventoryViewLayout&sourceModule=' +\n\t\t\t\t\t\t\t\tselectedModule;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tapp.showNotify({\n\t\t\t\t\t\t\t\ttext: app.vtranslate('JS_ERROR'),\n\t\t\t\t\t\t\t\ttype: 'error'\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Function to register click event for save button of fields sequence\n\t\t */\n\t\tregisterInventoryFieldSequenceSaveClick: function () {\n\t\t\tvar thisInstance = this;\n\t\t\tvar containerInventory = thisInstance.getInventoryViewLayout();\n\t\t\tvar selectedModule = this.container.find('[name=\"layoutEditorModules\"]').val();\n\t\t\tcontainerInventory.on('click', '.saveFieldSequence', function (e) {\n\t\t\t\tvar button = $(e.currentTarget);\n\t\t\t\tvar target = button.closest('.inventoryBlock');\n\t\t\t\tvar fieldId = [];\n\t\t\t\ttarget.find('.editFields').each(function () {\n\t\t\t\t\tfieldId.push($(this).data('id'));\n\t\t\t\t});\n\t\t\t\tapp.saveAjax('saveSequence', null, { sourceModule: selectedModule, ids: fieldId }).done(function (data) {\n\t\t\t\t\tbutton.addClass('invisible');\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * removing elements in advanced blocks\n\t\t */\n\t\tregisterDeleteInventoryField: function () {\n\t\t\tlet thisInstance = this;\n\t\t\tlet container = thisInstance.getInventoryViewLayout();\n\t\t\tlet selectedModule = this.container.find('[name=\"layoutEditorModules\"]').val();\n\t\t\tcontainer.find('.deleteInventoryField').on('click', function (e) {\n\t\t\t\tlet currentTarget = $(e.currentTarget);\n\t\t\t\tlet liElement = currentTarget.closest('li');\n\t\t\t\tapp.showConfirmModal({\n\t\t\t\t\ttitle: app.vtranslate('JS_DELETE_INVENTORY_CONFIRMATION'),\n\t\t\t\t\tconfirmedCallback: () => {\n\t\t\t\t\t\tlet progressIndicatorElement = $.progressIndicator({\n\t\t\t\t\t\t\tmessage: app.vtranslate('JS_SAVE_LOADER_INFO'),\n\t\t\t\t\t\t\tposition: 'html',\n\t\t\t\t\t\t\tblockInfo: {\n\t\t\t\t\t\t\t\tenabled: true\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t\tlet editFields = liElement.find('.editFields');\n\t\t\t\t\t\tapp\n\t\t\t\t\t\t\t.saveAjax('delete', null, {\n\t\t\t\t\t\t\t\tsourceModule: selectedModule,\n\t\t\t\t\t\t\t\tfieldName: editFields.data('name')\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t.done(function (response) {\n\t\t\t\t\t\t\t\tlet param = {};\n\t\t\t\t\t\t\t\tif (response.result) {\n\t\t\t\t\t\t\t\t\tliElement.remove();\n\t\t\t\t\t\t\t\t\tparam = { type: 'success', text: app.vtranslate('JS_SAVE_CHANGES') };\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tparam = { type: 'error', text: app.vtranslate('JS_ERROR') };\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tSettings_Vtiger_Index_Js.showMessage(param);\n\t\t\t\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\n\t\t/**\n\t\t * Loading list of fields for a related module\n\t\t */\n\t\tloadMultiReferenceFields: function (form) {\n\t\t\tvar thisInstance = this;\n\t\t\tvar module = form.find('[name=\"MRVModule\"]').val();\n\t\t\tform.find('[name=\"MRVField\"],[name=\"MRVFilterField\"]').select2('destroy');\n\t\t\tform.find('[name=\"MRVField\"]').html(thisInstance.cacheMRVField.html());\n\t\t\tform.find('[name=\"MRVField\"] optgroup').each(function (index) {\n\t\t\t\tif ($(this).data('module') != module) {\n\t\t\t\t\t$(this).remove();\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tform.find('[name=\"MRVFilterField\"]').html(thisInstance.cacheMRVFilter.html());\n\t\t\tform.find('[name=\"MRVFilterField\"] option').each(function (index) {\n\t\t\t\tif ($(this).data('module') != module) {\n\t\t\t\t\t$(this).remove();\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tApp.Fields.Picklist.showSelect2ElementView(form.find('[name=\"MRVField\"],[name=\"MRVFilterField\"]'), {\n\t\t\t\twidth: '100%'\n\t\t\t});\n\t\t},\n\t\tcacheMRVField: false,\n\t\tcacheMRVFilter: false,\n\t\t/**\n\t\t * Loading list of fields for a related module\n\t\t */\n\t\tregisterMultiReferenceFieldsChangeEvent: function (form) {\n\t\t\tvar thisInstance = this;\n\t\t\tthisInstance.cacheMRVField = form.find('[name=\"MRVField\"]').clone(true, true);\n\t\t\tthisInstance.cacheMRVFilter = form.find('[name=\"MRVFilterField\"]').clone(true, true);\n\n\t\t\tform.find('[name=\"MRVModule\"]').on('change', function (e) {\n\t\t\t\tthisInstance.loadMultiReferenceFields(form);\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Loading list of fields for a related module\n\t\t */\n\t\tregisterMultiReferenceFilterFieldChangeEvent: function (form) {\n\t\t\tform.find('[name=\"MRVFilterField\"]').on('change', function (e) {\n\t\t\t\tvar params = {};\n\t\t\t\tparams['module'] = app.getModuleName();\n\t\t\t\tparams['parent'] = app.getParentModuleName();\n\t\t\t\tparams['action'] = 'Field';\n\t\t\t\tparams['mode'] = 'getPicklist';\n\t\t\t\tparams['rfield'] = form.find('[name=\"MRVFilterField\"]').val();\n\t\t\t\tparams['rmodule'] = form.find('[name=\"MRVModule\"]').val();\n\n\t\t\t\tform.find('[name=\"MRVFilterValue\"]').select2('destroy');\n\t\t\t\tform.find('[name=\"MRVFilterValue\"] option').remove();\n\t\t\t\tAppConnector.request(params).done(function (data) {\n\t\t\t\t\t$.each(data.result, function (index, value) {\n\t\t\t\t\t\tform.find('[name=\"MRVFilterValue\"]').append($('<option>').val(index).html(value));\n\t\t\t\t\t});\n\t\t\t\t\tApp.Fields.Picklist.showSelect2ElementView(form.find('[name=\"MRVFilterValue\"]'), {\n\t\t\t\t\t\twidth: '100%'\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Register label copy\n\t\t */\n\t\tregisterCopyClipboard: function () {\n\t\t\tnew ClipboardJS('.copyFieldLabel', {\n\t\t\t\ttext: function (trigger) {\n\t\t\t\t\tapp.showNotify({\n\t\t\t\t\t\ttext: app.vtranslate('JS_NOTIFY_COPY_TEXT'),\n\t\t\t\t\t\ttype: 'success'\n\t\t\t\t\t});\n\t\t\t\t\treturn $('#layoutEditorContainer')\n\t\t\t\t\t\t.find('#' + trigger.getAttribute('data-target'))\n\t\t\t\t\t\t.val();\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Context help\n\t\t */\n\t\tregisterContextHelp: function () {\n\t\t\t$(document).on('click', '.js-context-help', function (e) {\n\t\t\t\tconst customConfig = {\n\t\t\t\t\ttoolbar: 'Min'\n\t\t\t\t};\n\t\t\t\tconst element = $(e.currentTarget);\n\t\t\t\tlet progressInstance = $.progressIndicator({\n\t\t\t\t\tblockInfo: {\n\t\t\t\t\t\tenabled: true\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tAppConnector.request({\n\t\t\t\t\tmodule: app.getModuleName(),\n\t\t\t\t\tparent: app.getParentModuleName(),\n\t\t\t\t\tview: 'HelpInfo',\n\t\t\t\t\tfield: element.data('field-id')\n\t\t\t\t}).done(function (data) {\n\t\t\t\t\tapp.showModalWindow(data, (modalContainer) => {\n\t\t\t\t\t\tprogressInstance.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t\tapp.showPopoverElementView(modalContainer.find('.js-help-info'));\n\t\t\t\t\t\tApp.Fields.Text.Editor.register(modalContainer.find('.js-context-area:visible'), customConfig);\n\t\t\t\t\t\tmodalContainer.find('.js-lang').on('change', function (e) {\n\t\t\t\t\t\t\tlet previous = modalContainer.find('.js-editor:not([disabled])');\n\t\t\t\t\t\t\tApp.Fields.Text.destroyEditor(previous);\n\t\t\t\t\t\t\tprevious.closest('.js-context-block').addClass('d-none');\n\t\t\t\t\t\t\tprevious.prop('disabled', true);\n\t\t\t\t\t\t\tlet element = $(e.currentTarget).val();\n\t\t\t\t\t\t\tlet textArea = modalContainer.find('#' + element + '.js-context-area');\n\t\t\t\t\t\t\ttextArea.prop('disabled', false);\n\t\t\t\t\t\t\ttextArea.closest('.js-context-block').removeClass('d-none');\n\t\t\t\t\t\t\tApp.Fields.Text.destroyEditor(textArea);\n\t\t\t\t\t\t\tmodalContainer.find('.js-help-info').attr('data-content', textArea.val());\n\t\t\t\t\t\t\tApp.Fields.Text.Editor.register(textArea, customConfig);\n\t\t\t\t\t\t});\n\t\t\t\t\t\tmodalContainer.find('form').on('submit', function (e) {\n\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\tvar form = $(e.currentTarget);\n\t\t\t\t\t\t\tvar params = form.serializeFormData();\n\t\t\t\t\t\t\tif (typeof params.views === 'undefined') {\n\t\t\t\t\t\t\t\tparams.views = form.find('[name=\"views\"]').val();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tapp.saveAjax('contextHelp', '', params).done(function (data) {\n\t\t\t\t\t\t\t\tapp.showNotify({\n\t\t\t\t\t\t\t\t\ttype: 'success',\n\t\t\t\t\t\t\t\t\ttext: app.vtranslate('JS_SAVE_CHANGES')\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\tlet prefix = form.find('.js-lang').val();\n\t\t\t\t\t\t\t\tlet textArea = form.find('#' + prefix + '.js-context-area');\n\t\t\t\t\t\t\t\tform.find('.js-help-info').attr('data-content', textArea.val());\n\t\t\t\t\t\t\t\tif (e.originalEvent.submitter.name === 'saveCloseButton') {\n\t\t\t\t\t\t\t\t\tapp.hideModalWindow();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t});\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Register webservice apps events\n\t\t */\n\t\tregisterWebserviceAppsEvent: function () {\n\t\t\t$(document).on('click', '.js-edit-field-api', function (e) {\n\t\t\t\tconst element = $(e.currentTarget);\n\t\t\t\tlet progressInstance = $.progressIndicator({ blockInfo: { enabled: true } });\n\t\t\t\tAppConnector.request({\n\t\t\t\t\tmodule: app.getModuleName(),\n\t\t\t\t\tparent: app.getParentModuleName(),\n\t\t\t\t\tview: 'WebserviceAppsModal',\n\t\t\t\t\twa: element.data('wa'),\n\t\t\t\t\tfieldId: element.data('fieldId')\n\t\t\t\t}).done(function (data) {\n\t\t\t\t\tapp.showModalWindow(data, (modalContainer) => {\n\t\t\t\t\t\tprogressInstance.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t\tmodalContainer.find('.js-default-value').on('change', function (e) {\n\t\t\t\t\t\t\tlet currentTarget = $(e.currentTarget);\n\t\t\t\t\t\t\tlet defaultValueUi = currentTarget.closest('.js-modal-form').find('.js-default-value-container');\n\t\t\t\t\t\t\tif (currentTarget.is(':checked')) {\n\t\t\t\t\t\t\t\tdefaultValueUi.removeClass('d-none');\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tdefaultValueUi.addClass('d-none');\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t\tmodalContainer.find('.js-modal__save').on('click', () => {\n\t\t\t\t\t\t\tmodalContainer.find('.js-modal-form').trigger('submit');\n\t\t\t\t\t\t\telement.closest('li').addClass('u-bg-gray');\n\t\t\t\t\t\t});\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * register events for layout editor\n\t\t */\n\t\tregisterEvents: function () {\n\t\t\tthis.container = $('#layoutEditorContainer');\n\t\t\tthis.registerBlockEvents();\n\t\t\tthis.registerFieldEvents();\n\t\t\tthis.setInactiveFieldsList();\n\t\t\tthis.registerAddCustomBlockEvent();\n\t\t\tthis.relatedModulesTabClickEvent();\n\t\t\tthis.registerModulesChangeEvent();\n\t\t\tthis.registerRelModulesChangeEvent();\n\t\t\tif (1 === $('#relatedTabOrder').length) {\n\t\t\t\tthis.registerRelatedListEvents();\n\t\t\t\tthis.makeRelatedModuleSortable();\n\t\t\t}\n\t\t\tthis.registerSwitch();\n\t\t\tthis.registerAddInventoryField();\n\t\t\tthis.registerEditInventoryField();\n\t\t\tthis.registerInventoryFieldSequenceSaveClick();\n\t\t\tthis.registerDeleteInventoryField();\n\t\t\tthis.registerFieldSequenceSaveClick();\n\t\t},\n\t\tregisterBasicEvents: function () {\n\t\t\tthis.registerEvents();\n\t\t\tthis.registerCopyClipboard();\n\t\t\tthis.registerContextHelp();\n\t\t\tthis.registerWebserviceAppsEvent();\n\t\t}\n\t}\n);\n\njQuery(function () {\n\tvar instance = new Settings_LayoutEditor_Js();\n\tinstance.registerBasicEvents();\n});\n\nVtiger_WholeNumberGreaterThanZero_Validator_Js(\n\t'Vtiger_FloatingDigits_Validator_Js',\n\t{\n\t\t/**\n\t\t *Function which invokes field validation\n\t\t *@param accepts field element as parameter\n\t\t * @return error if validation fails true on success\n\t\t */\n\t\tinvokeValidation: function (field, rules, i, options) {\n\t\t\tvar rangeInstance = new Vtiger_FloatingDigits_Validator_Js();\n\t\t\trangeInstance.setElement(field);\n\t\t\tvar response = rangeInstance.validate();\n\t\t\tif (response != true) {\n\t\t\t\treturn rangeInstance.getError();\n\t\t\t}\n\t\t}\n\t},\n\t{\n\t\t/**\n\t\t * Function to validate the decimals length\n\t\t * @return true if validation is successfull\n\t\t * @return false if validation error occurs\n\t\t */\n\t\tvalidate: function () {\n\t\t\tvar response = this._super();\n\t\t\tif (response != true) {\n\t\t\t\treturn response;\n\t\t\t} else {\n\t\t\t\tvar fieldValue = this.getFieldValue();\n\t\t\t\tif (fieldValue < 2 || fieldValue > 5) {\n\t\t\t\t\tvar errorInfo = app.vtranslate('JS_PLEASE_ENTER_NUMBER_IN_RANGE_2TO5');\n\t\t\t\t\tthis.setError(errorInfo);\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\n\t\t\t\tvar specialChars = /^[+]/;\n\t\t\t\tif (specialChars.test(fieldValue)) {\n\t\t\t\t\tvar error = app.vtranslate('JS_CONTAINS_ILLEGAL_CHARACTERS');\n\t\t\t\t\tthis.setError(error);\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t}\n);\n\nVtiger_WholeNumberGreaterThanZero_Validator_Js(\n\t'Vtiger_DecimalMaxLength_Validator_Js',\n\t{\n\t\t/**\n\t\t *Function which invokes field validation\n\t\t *@param accepts field element as parameter\n\t\t * @return error if validation fails true on success\n\t\t */\n\t\tinvokeValidation: function (field, rules, i, options) {\n\t\t\tvar rangeInstance = new Vtiger_DecimalMaxLength_Validator_Js();\n\t\t\trangeInstance.setElement(field);\n\t\t\tvar response = rangeInstance.validate();\n\t\t\tif (response != true) {\n\t\t\t\treturn rangeInstance.getError();\n\t\t\t}\n\t\t}\n\t},\n\t{\n\t\t/**\n\t\t * Function to validate the fieldLength\n\t\t * @return true if validation is successfull\n\t\t * @return false if validation error occurs\n\t\t */\n\t\tvalidate: function () {\n\t\t\tvar response = this._super();\n\t\t\tif (response != true) {\n\t\t\t\treturn response;\n\t\t\t} else {\n\t\t\t\tvar fieldValue = this.getFieldValue();\n\t\t\t\tvar decimalFieldValue = $('#createFieldForm').find('[name=\"decimal\"]').val();\n\t\t\t\tvar fieldLength = parseInt(64) - parseInt(decimalFieldValue);\n\t\t\t\tif (fieldValue > fieldLength && !(fieldLength < 0) && fieldLength >= 59) {\n\t\t\t\t\tvar errorInfo = app.vtranslate('JS_LENGTH_SHOULD_BE_LESS_THAN_EQUAL_TO') + ' ' + fieldLength;\n\t\t\t\t\tthis.setError(errorInfo);\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\n\t\t\t\tvar specialChars = /^[+]/;\n\t\t\t\tif (specialChars.test(fieldValue)) {\n\t\t\t\t\tvar error = app.vtranslate('JS_CONTAINS_ILLEGAL_CHARACTERS');\n\t\t\t\t\tthis.setError(error);\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t}\n);\n\nVtiger_WholeNumberGreaterThanZero_Validator_Js(\n\t'Vtiger_MaxLength_Validator_Js',\n\t{\n\t\t/**\n\t\t *Function which invokes field validation\n\t\t *@param accepts field element as parameter\n\t\t * @return error if validation fails true on success\n\t\t */\n\t\tinvokeValidation: function (field, rules, i, options) {\n\t\t\tvar rangeInstance = new Vtiger_DecimalMaxLength_Validator_Js();\n\t\t\trangeInstance.setElement(field);\n\t\t\tvar response = rangeInstance.validate();\n\t\t\tif (response != true) {\n\t\t\t\treturn rangeInstance.getError();\n\t\t\t}\n\t\t}\n\t},\n\t{\n\t\t/**\n\t\t * Function to validate the fieldLength\n\t\t * @return true if validation is successfull\n\t\t * @return false if validation error occurs\n\t\t */\n\t\tvalidate: function () {\n\t\t\tvar response = this._super();\n\t\t\tif (response != true) {\n\t\t\t\treturn response;\n\t\t\t} else {\n\t\t\t\tvar fieldValue = this.getFieldValue();\n\t\t\t\tif (fieldValue > 255) {\n\t\t\t\t\tvar errorInfo = app.vtranslate('JS_LENGTH_SHOULD_BE_LESS_THAN_EQUAL_TO') + ' 255';\n\t\t\t\t\tthis.setError(errorInfo);\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\n\t\t\t\tvar specialChars = /^[+]/;\n\t\t\t\tif (specialChars.test(fieldValue)) {\n\t\t\t\t\tvar error = app.vtranslate('JS_CONTAINS_ILLEGAL_CHARACTERS');\n\t\t\t\t\tthis.setError(error);\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t}\n);\n\nVtiger_Base_Validator_Js(\n\t'Vtiger_FieldLabel_Validator_Js',\n\t{\n\t\t/**\n\t\t *Function which invokes field validation\n\t\t *@param accepts field element as parameter\n\t\t * @return error if validation fails true on success\n\t\t */\n\t\tinvokeValidation: function (field, rules, i, options) {\n\t\t\tvar instance = new Vtiger_FieldLabel_Validator_Js();\n\t\t\tinstance.setElement(field);\n\t\t\tvar response = instance.validate();\n\t\t\tif (response != true) {\n\t\t\t\treturn instance.getError();\n\t\t\t}\n\t\t}\n\t},\n\t{\n\t\t/**\n\t\t * Function to validate the field label\n\t\t * @return true if validation is successfull\n\t\t * @return false if validation error occurs\n\t\t */\n\t\tvalidate: function () {\n\t\t\tvar fieldValue = this.getFieldValue();\n\t\t\treturn this.validateValue(fieldValue);\n\t\t},\n\t\tvalidateValue: function (fieldValue) {\n\t\t\tvar specialChars = /[&\\<\\>\\:\\'\\\"\\,]/;\n\n\t\t\tif (specialChars.test(fieldValue)) {\n\t\t\t\tvar errorInfo = app.vtranslate('JS_SPECIAL_CHARACTERS') + ' & < > \\' \" : , ' + app.vtranslate('JS_NOT_ALLOWED');\n\t\t\t\tthis.setError(errorInfo);\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn true;\n\t\t}\n\t}\n);\n\nVtiger_Base_Validator_Js(\n\t'Vtiger_PicklistFieldValues_Validator_Js',\n\t{\n\t\t/**\n\t\t *Function which invokes field validation\n\t\t *@param accepts field element as parameter\n\t\t * @return error if validation fails true on success\n\t\t */\n\t\tinvokeValidation: function (field, rules, i, options) {\n\t\t\tlet instance = new Vtiger_PicklistFieldValues_Validator_Js();\n\t\t\tinstance.setElement(field);\n\t\t\tlet response = instance.validate();\n\t\t\tif (response != true) {\n\t\t\t\treturn instance.getError();\n\t\t\t}\n\t\t}\n\t},\n\t{\n\t\t/**\n\t\t * Function to validate the field label\n\t\t * @return true if validation is successfull\n\t\t * @return false if validation error occurs\n\t\t */\n\t\tvalidate: function () {\n\t\t\treturn this.validateValue(this.getElement().val());\n\t\t},\n\t\tvalidateValue: function (fieldValue) {\n\t\t\tlet specialChars = /[\\<\\>\\\"\\,\\#]/;\n\t\t\tlet r = true;\n\t\t\t$.each(fieldValue, (i, val) => {\n\t\t\t\tif (specialChars.test(val)) {\n\t\t\t\t\tthis.setError(app.vtranslate('JS_SPECIAL_CHARACTERS') + ' < > \" , # ' + app.vtranslate('JS_NOT_ALLOWED'));\n\t\t\t\t\tr = false;\n\t\t\t\t}\n\t\t\t});\n\t\t\treturn r;\n\t\t}\n\t}\n);\n"],"names":["$","Class","container","updatedBlockSequence","inActiveFieldsList","updatedBlockFieldsList","updatedBlocksList","blockNamesList","setInactiveFieldsList","thisInstance","contents","find","json","length","JSON","parse","val","makeBlocksListSortable","table","sortable","containment","items","revert","tolerance","cursor","update","updateBlockSequence","progressIndicatorElement","progressIndicator","position","blockInfo","enabled","sequence","stringify","updateBlocksListByOrder","params","module","app","getModuleName","parent","getParentModuleName","action","mode","AppConnector","request","done","text","vtranslate","Settings_Vtiger_Index_Js","showMessage","fail","each","index","domElement","blockTable","blockId","data","actualBlockSequence","expectedBlockSequence","registerRelatedListEvents","relatedList","App","Fields","Picklist","showSelect2ElementView","sortableCb","currentTarget","updateSelectedFields","updateCustomView","on","e","relatedModule","closest","removeClass","show","hide","changeStatusRelatedModule","removeRelation","changeStateFavorites","value","validationEngine","changeRelatedViewType","updateCustomViewOrderBy","contentsDiv","addRelationContainer","clone","callBackFunction","labelElement","attr","label","not","addClass","form","serializeFormData","extend","response","result","success","getRelModuleLayoutEditor","html","registerEvents","message","type","hideModalWindow","showModalWindow","getSelectedFields","target","selectedFields","push","id","name","makeRelatedModuleSortable","relatedModulesContainer","modulesList","handle","updateSequenceRelatedModule","relationId","types","error","textTrusted","status","showConfirmModal","confirmedCallback","remove","modules","inventory","fields","cv","showNotify","orderby","prop","makeFieldsListSortable","connectWith","ui","currentField","item","hasClass","showSaveFieldSequenceButton","getDetailViewLayout","createUpdatedBlocksList","sender","olderBlock","reArrangeBlockFields","getInventoryViewLayout","layout","saveButton","isHidden","isInvisible","hideSaveFieldSequenceButton","block","updatedBlockId","inArray","leftSideContainer","rightSideContainer","children","lastElementInRightContainer","append","lastElementInLeftContainer","createUpdatedBlockFieldsList","updatedBlock","firstBlockSortFields","editFields","expectedFieldSequence","i","fieldEle","fieldId","fieldid","secondBlockSortFields","secondEditFields","sequenceValue","registerFieldSequenceSaveClick","_this","updateFieldSequence","progress","updatedFields","window","location","reload","checkPicklistExist","fieldNameValue","aDeferred","Deferred","fieldName","toLowerCase","resolve","rejectedCallback","promise","registerAddSystemFieldEvent","_this2","selectedModule","modalContainer","sourceModule","field","registerAddCustomFieldEvent","_this3","addFieldContainer","width","tags","tokenSeparators","registerFieldTypeChangeEvent","registerMultiReferenceFieldsChangeEvent","registerMultiReferenceFilterFieldChangeEvent","getvalidationEngineOptions","onValidationComplete","valid","fieldTypeValue","validateFieldsValue","saveCustomField","removeAttr","concat","err","errorLog","addCustomField","title","code","setBlocksListArray","blocksListSelect","ele","option","modalHeader","Window","lastModalId","smallLoadingImage","imageContainerCss","display","\"margin-left\"","blockid","errorObj","responseText","reject","lengthInput","lengthValidator","maxLengthValidator","decimalValidator","selectedOption","decimalFieldUi","decimalInput","maxFloatingDigits","moduleList","select2","loadMultiReferenceFields","picklistTags","pickListValues","replace","registerAddCustomBlockEvent","addBlockContainer","fieldLabel","Object","create","validationEngineOptions","formData","saveBlockDetails","displayNewCustomBlock","updateNewSequenceForBlocks","sequenceList","appendNewBlockToBlocksList","preventDefault","beforeBlockId","beforeBlock","newBlockCloneCopy","isAddCustomFieldEnabled","after","hiddenAddBlockModel","removeBlockFromBlocksList","registerBlockVisibilityEvent","updateBlockStatus","blockStatus","display_status","registerInactiveFieldsEvent","currentBlock","isEmptyObject","inActiveFieldsContainer","showHiddenFields","createReactivateFieldslist","self","detail","key","blocks","element","is","reActivateHiddenFields","fieldIdList","messageParams","registerDeleteCustomBlockEvent","deleteCustomBlock","removeDeletedBlock","deletedTable","fadeOut","registerDeleteCustomFieldEvent","deleteCustomField","registerFieldDetailsChange","quickcreateEle","filter","presenceEle","defaultValueUi","el","relFieldsElement","relatedModulesTabClickEvent","relatedContainer","relatedTab","showRelatedTabModulesList","view","getModuleLayoutEditor","requestPjax","registerModulesChangeEvent","registerRelModulesChangeEvent","lockCheckbox","registerEditFieldDetailsClick","fieldRow","presence","url","cb","registerVaribleToParsers","registerEventForClockPicker","inputmask","when","selectIcon","skipImage","sendByAjaxCb","mandatory","n","currentElement","toggleClass","input","Tree","register","registerBlockEvents","registerFieldEvents","Date","changeSelectElementView","registerSwitch","_this4","event","dataset","saveAjax","registerAddInventoryField","_this5","showScrollBar","height","registerStep1","registerEditInventoryField","editField","showPopoverElementView","registerStep2","_this6","_this7","href","registerInventoryFieldSequenceSaveClick","containerInventory","button","ids","registerDeleteInventoryField","liElement","param","cacheMRVField","cacheMRVFilter","rfield","rmodule","registerCopyClipboard","ClipboardJS","trigger","getAttribute","registerContextHelp","document","customConfig","toolbar","progressInstance","Text","Editor","previous","destroyEditor","textArea","views","prefix","originalEvent","submitter","registerWebserviceAppsEvent","wa","registerBasicEvents","jQuery","instance","Settings_LayoutEditor_Js","Vtiger_WholeNumberGreaterThanZero_Validator_Js","invokeValidation","rangeInstance","Vtiger_FloatingDigits_Validator_Js","setElement","validate","getError","_super","fieldValue","getFieldValue","errorInfo","setError","test","Vtiger_DecimalMaxLength_Validator_Js","decimalFieldValue","fieldLength","parseInt","Vtiger_Base_Validator_Js","Vtiger_FieldLabel_Validator_Js","validateValue","Vtiger_PicklistFieldValues_Validator_Js","getElement","_this8","specialChars","r"],"mappings":"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"}