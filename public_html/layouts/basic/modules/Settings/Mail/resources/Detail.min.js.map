{"version":3,"file":"Detail.min.js","sources":["Detail.js"],"sourcesContent":["/* {[The file is published on the basis of YetiForce Public License 5.0 that can be found in the following directory: licenses/LicenseEN.txt or yetiforce.com]} */\n'use strict';\n\njQuery.Class(\n\t'Settings_Mail_Detail_Js',\n\t{},\n\t{\n\t\tregisterRemoveEvents: function () {\n\t\t\tlet container = jQuery('.contentsDiv');\n\t\t\tcontainer.on('click', '.js-delete', function () {\n\t\t\t\tlet progressIndicator = jQuery.progressIndicator();\n\t\t\t\tAppConnector.request({\n\t\t\t\t\tmodule: app.getModuleName(),\n\t\t\t\t\tparent: app.getParentModuleName(),\n\t\t\t\t\taction: 'DeleteAjax',\n\t\t\t\t\tdetailView: true,\n\t\t\t\t\trecord: $('#recordId').val()\n\t\t\t\t})\n\t\t\t\t\t.done(function (data) {\n\t\t\t\t\t\tprogressIndicator.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t\twindow.location.href = data.result;\n\t\t\t\t\t})\n\t\t\t\t\t.fail(function (_error) {\n\t\t\t\t\t\tprogressIndicator.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t\tapp.showNotify({ text: app.vtranslate('JS_ERROR'), type: 'error' });\n\t\t\t\t\t});\n\t\t\t});\n\t\t},\n\t\tregisterAcceptanceEvent: function () {\n\t\t\tlet container = jQuery('.contentsDiv');\n\t\t\tcontainer.on('click', '.acceptanceRecord', function () {\n\t\t\t\tlet elem = this;\n\t\t\t\tlet progressIndicator = jQuery.progressIndicator();\n\t\t\t\tAppConnector.request({\n\t\t\t\t\tmodule: app.getModuleName(),\n\t\t\t\t\tparent: app.getParentModuleName(),\n\t\t\t\t\taction: 'SaveAjax',\n\t\t\t\t\tmode: 'acceptanceRecord',\n\t\t\t\t\trecord: container.find('#recordId').val()\n\t\t\t\t})\n\t\t\t\t\t.done(function (data) {\n\t\t\t\t\t\tprogressIndicator.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t\tSettings_Vtiger_Index_Js.showMessage({ text: data.result.message });\n\t\t\t\t\t\t$(elem).remove();\n\t\t\t\t\t\tif (data.result.success) {\n\t\t\t\t\t\t\twindow.location.reload();\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t\t.fail(function (_error) {\n\t\t\t\t\t\tprogressIndicator.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t\tapp.showNotify({ text: app.vtranslate('JS_ERROR'), type: 'error' });\n\t\t\t\t\t});\n\t\t\t});\n\t\t},\n\t\tsendMailManually: function () {\n\t\t\tconst container = $('.contentsDiv');\n\t\t\tcontainer.on('click', '.sendManually', function () {\n\t\t\t\tconst progressIndicator = $.progressIndicator();\n\t\t\t\tAppConnector.request({\n\t\t\t\t\tmodule: app.getModuleName(),\n\t\t\t\t\tparent: app.getParentModuleName(),\n\t\t\t\t\taction: 'SendManuallyAjax',\n\t\t\t\t\tid: container.find('#recordId').val()\n\t\t\t\t})\n\t\t\t\t\t.done(function (data) {\n\t\t\t\t\t\tprogressIndicator.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t\tSettings_Vtiger_Index_Js.showMessage({\n\t\t\t\t\t\t\ttext: data.result.message,\n\t\t\t\t\t\t\ttype: data.result.success ? 'success' : 'error'\n\t\t\t\t\t\t});\n\t\t\t\t\t\tif (data.result.success) {\n\t\t\t\t\t\t\twindow.history.back();\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t\t.fail(function (_error) {\n\t\t\t\t\t\tprogressIndicator.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t\tapp.showNotify({ text: app.vtranslate('JS_ERROR'), type: 'error' });\n\t\t\t\t\t});\n\t\t\t});\n\t\t},\n\t\tregisterEvents: function () {\n\t\t\tthis.registerAcceptanceEvent();\n\t\t\tthis.sendMailManually();\n\t\t\tthis.registerRemoveEvents();\n\t\t}\n\t}\n);\n"],"names":["jQuery","Class","registerRemoveEvents","container","on","progressIndicator","AppConnector","request","module","app","getModuleName","parent","getParentModuleName","action","detailView","record","$","val","done","data","mode","window","location","href","result","fail","showNotify","text","vtranslate","type","registerAcceptanceEvent","elem","find","Settings_Vtiger_Index_Js","showMessage","message","remove","success","reload","sendMailManually","id","history","back","registerEvents"],"mappings":"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"}