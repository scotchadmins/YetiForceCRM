{"version":3,"file":"Detail.min.js","sources":["Detail.js"],"sourcesContent":["/**\n * InRelation SlaPolicy\n *\n * @description InRelation scripts for SlaPolicy module\n * @license     YetiForce Public License 5.0\n * @author      Mariusz Krzaczkowski <m.krzaczkowski@yetiforce.com>\n * @author      Rados≈Çaw Skrzypczak <r.skrzypczak@yetiforce.com>\n */\n'use strict';\n\nVtiger_Detail_Js(\n\t'ServiceContracts_Detail_Js',\n\t{},\n\t{\n\t\t/**\n\t\t * Hide all settings\n\t\t *\n\t\t * @return  {self}\n\t\t */\n\t\thideAll() {\n\t\t\tthis.container.find('.js-sla-policy-template, .js-sla-policy-custom').addClass('d-none');\n\t\t\treturn this;\n\t\t},\n\n\t\t/**\n\t\t * Show template settings\n\t\t *\n\t\t * @return  {self}\n\t\t */\n\t\tshowTemplateSettings() {\n\t\t\tthis.container.find('.js-sla-policy-template').removeClass('d-none');\n\t\t\treturn this;\n\t\t},\n\n\t\t/**\n\t\t * Show custom settings\n\t\t *\n\t\t * @return  {self}\n\t\t */\n\t\tshowCustomSettings() {\n\t\t\tthis.container.find('.js-sla-policy-custom').removeClass('d-none');\n\t\t\treturn this;\n\t\t},\n\t\t/**\n\t\t * Get default params\n\t\t * @returns {Object}\n\t\t */\n\t\tgetDefaultParam() {\n\t\t\treturn {\n\t\t\t\tmodule: 'ServiceContracts',\n\t\t\t\tview: 'PolicyTemplatesAjax',\n\t\t\t\ttargetModule: this.targetModule,\n\t\t\t\trecord: Number($('#recordId').val())\n\t\t\t};\n\t\t},\n\n\t\t/**\n\t\t * Load predefined sla policy templates\n\t\t * @param {Object} param\n\t\t * @returns\n\t\t */\n\t\tloadTemplates(param) {\n\t\t\tconst progress = jQuery.progressIndicator({\n\t\t\t\tposition: 'html',\n\t\t\t\tblockInfo: {\n\t\t\t\t\tenabled: true\n\t\t\t\t}\n\t\t\t});\n\t\t\treturn new Promise((resolve, _reject) => {\n\t\t\t\tAppConnector.request(param)\n\t\t\t\t\t.done((data) => {\n\t\t\t\t\t\tprogress.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t\tresolve(data);\n\t\t\t\t\t})\n\t\t\t\t\t.fail((e, t) => {\n\t\t\t\t\t\tprogress.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t\tapp.errorLog(e, t);\n\t\t\t\t\t\tapp.showNotify({\n\t\t\t\t\t\t\ttext: app.vtranslate('JS_ERROR'),\n\t\t\t\t\t\t\ttype: 'error'\n\t\t\t\t\t\t});\n\t\t\t\t\t});\n\t\t\t});\n\t\t},\n\n\t\t/**\n\t\t * On policy type change event handler\n\t\t */\n\t\tonPolicyTypeChange() {\n\t\t\tthis.policyType = Number(this.container.find('[name=\"policy_type\"]:checked').val());\n\t\t\tif (this.policyType === 1) {\n\t\t\t\tthis.hideAll()\n\t\t\t\t\t.showTemplateSettings()\n\t\t\t\t\t.loadTemplates({ mode: 'slaPolicyTemplate', ...this.getDefaultParam() })\n\t\t\t\t\t.then((data) => {\n\t\t\t\t\t\tthis.container.find('.js-sla-policy-template--container').html(data);\n\t\t\t\t\t});\n\t\t\t} else if (this.policyType === 2) {\n\t\t\t\tthis.hideAll().showCustomSettings();\n\t\t\t} else {\n\t\t\t\tthis.hideAll();\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * On submit event handler\n\t\t *\n\t\t * @param {Event} ev\n\t\t */\n\t\tonSubmit(ev) {\n\t\t\tev.preventDefault();\n\t\t\tev.stopPropagation();\n\t\t\tthis.container.validationEngine(app.validationEngineOptions);\n\t\t\tconst policyType = Number(this.container.find('[name=\"policy_type\"]:checked').val());\n\t\t\tconst policyId = Number(this.container.find('[name=\"policy_id\"]:checked').val());\n\t\t\tif (policyType === 2 && !this.container.validationEngine('validate')) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (policyType === 2 && !this.container.find('.js-custom-row').length) {\n\t\t\t\tapp.showNotify({\n\t\t\t\t\ttext: app.vtranslate('JS_NO_ITEM_SELECTED'),\n\t\t\t\t\ttype: 'notice',\n\t\t\t\t\tanimation: 'show'\n\t\t\t\t});\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (policyType === 1 && isNaN(policyId)) {\n\t\t\t\tapp.showNotify({\n\t\t\t\t\ttext: app.vtranslate('JS_NO_ITEM_SELECTED'),\n\t\t\t\t\ttype: 'notice',\n\t\t\t\t\tanimation: 'show'\n\t\t\t\t});\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tconst progress = jQuery.progressIndicator({\n\t\t\t\tposition: 'html',\n\t\t\t\tblockInfo: {\n\t\t\t\t\tenabled: true\n\t\t\t\t}\n\t\t\t});\n\t\t\tconst params = this.container.serializeFormData();\n\t\t\tparams.module = 'ServiceContracts';\n\t\t\tparams.action = 'PolicySaveAjax';\n\t\t\tparams.targetModule = this.targetModule;\n\t\t\tparams.record = $('#recordId').val();\n\t\t\tparams.policyType = policyType;\n\t\t\tparams.policyId = policyId;\n\t\t\tAppConnector.request({ data: params }).done((data) => {\n\t\t\t\tprogress.progressIndicator({ mode: 'hide' });\n\t\t\t\tif (Array.isArray(data.result)) {\n\t\t\t\t\tdata.result.forEach((row, index) => {\n\t\t\t\t\t\tconst rowElem = this.container.find('.js-custom-row').eq(index);\n\t\t\t\t\t\trowElem.data('id', row.id);\n\t\t\t\t\t\trowElem.find('.js-custom-row-id').val(row.id);\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\t$.each(this.container.find('.js-custom-row'), (_index, rowElem) => {\n\t\t\t\t\t\trowElem = $(rowElem);\n\t\t\t\t\t\trowElem.data('id', 0);\n\t\t\t\t\t\trowElem.find('.js-custom-row-id').val(0);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\tapp.showNotify({\n\t\t\t\t\ttext: app.vtranslate('JS_SAVE_NOTIFY_OK'),\n\t\t\t\t\ttype: 'success',\n\t\t\t\t\tanimation: 'show'\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\n\t\t/**\n\t\t * Register add record button click\n\t\t */\n\t\tregisterAddRecordBtnClick() {\n\t\t\tlet addPolicyBtn = this.container.find('.js-sla-policy-add-record-btn');\n\t\t\taddPolicyBtn.on('click', (e) => {\n\t\t\t\te.preventDefault();\n\t\t\t\te.stopPropagation();\n\t\t\t\tthis.loadTemplates({\n\t\t\t\t\tmode: 'slaPolicyCustom',\n\t\t\t\t\tindex: this.container.find('.js-custom-row').length,\n\t\t\t\t\t...this.getDefaultParam()\n\t\t\t\t}).then((data) => {\n\t\t\t\t\tlet html = $(data);\n\t\t\t\t\tApp.Fields.TimePeriod.register(html);\n\t\t\t\t\tthis.registerDelBtnClick(html);\n\t\t\t\t\tApp.Fields.Picklist.showSelect2ElementView(html.find('.select2'));\n\t\t\t\t\tthis.registerConditionBuilder(\n\t\t\t\t\t\thtml.find('.js-condition-builder').eq(0),\n\t\t\t\t\t\tthis.container.find('.js-conditions-col').length\n\t\t\t\t\t);\n\t\t\t\t\tthis.container.find('.js-custom-conditions').append(html);\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\n\t\t/**\n\t\t * Register delete button click\n\t\t *\n\t\t * @param {jQuery} container\n\t\t */\n\t\tregisterDelBtnClick(container) {\n\t\t\tcontainer.find('.js-delete-row-action').on('click', (e) => {\n\t\t\t\te.preventDefault();\n\t\t\t\te.stopPropagation();\n\t\t\t\tconst row = $(e.target).closest('.js-custom-row');\n\t\t\t\tconst rowId = Number(row.data('id'));\n\t\t\t\tif (!rowId) {\n\t\t\t\t\trow.remove();\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tconst progress = jQuery.progressIndicator({\n\t\t\t\t\tposition: 'html',\n\t\t\t\t\tblockInfo: {\n\t\t\t\t\t\tenabled: true\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tAppConnector.request({\n\t\t\t\t\tmodule: 'ServiceContracts',\n\t\t\t\t\taction: 'PolicyDeleteAjax',\n\t\t\t\t\ttargetModule: this.targetModule,\n\t\t\t\t\trecord: row.data('record-id'),\n\t\t\t\t\trowId: rowId\n\t\t\t\t}).done(() => {\n\t\t\t\t\tprogress.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t$(e.target).closest('.card').remove();\n\t\t\t\t\tapp.showNotify({\n\t\t\t\t\t\ttext: app.vtranslate('JS_SAVE_NOTIFY_OK'),\n\t\t\t\t\t\ttype: 'success',\n\t\t\t\t\t\tanimation: 'show'\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\n\t\t/**\n\t\t * On condition change event\n\t\t *\n\t\t * @param   {Vtiger_ConditionBuilder_Js}  instance\n\t\t */\n\t\tonConditionsChange(instance) {\n\t\t\tconst index = this.conditionBuilders.indexOf(instance);\n\t\t\tthis.conditionsBuildersContainers[index]\n\t\t\t\t.parent()\n\t\t\t\t.find('.js-conditions-value')\n\t\t\t\t.val(JSON.stringify(instance.getConditions()));\n\t\t},\n\n\t\t/**\n\t\t * Register condition builder\n\t\t *\n\t\t * @param {jQuery} container\n\t\t * @param {Number} index\n\t\t */\n\t\tregisterConditionBuilder(container, index) {\n\t\t\tthis.conditionBuilders[index] = new Vtiger_ConditionBuilder_Js(\n\t\t\t\tcontainer,\n\t\t\t\tthis.targetModule,\n\t\t\t\tthis.onConditionsChange.bind(this)\n\t\t\t);\n\t\t\tthis.conditionBuilders[index].registerEvents();\n\t\t\tthis.conditionsBuildersContainers[index] = container;\n\t\t},\n\n\t\t/**\n\t\t * Init sla policy events\n\t\t */\n\t\tinitSlaPolicy() {\n\t\t\tthis.container = this.getForm();\n\t\t\tthis.policyType = Number(this.container.find('[name=\"policy_type\"]:checked').val());\n\t\t\tthis.targetModule = this.container.find('[name=\"target\"]').val();\n\t\t\tthis.conditionBuilders = [];\n\t\t\tthis.conditionsBuildersContainers = [];\n\t\t\tthis.container.off('submit').on('submit', this.onSubmit.bind(this));\n\t\t\tthis.container.find('.js-sla-policy-type-radio').on('click', () => this.onPolicyTypeChange());\n\t\t\tthis.onPolicyTypeChange();\n\t\t\tApp.Fields.TimePeriod.register(this.container);\n\t\t\tthis.registerAddRecordBtnClick();\n\t\t\tthis.registerDelBtnClick(this.container);\n\t\t\t$.each(this.container.find('.js-custom-conditions .js-condition-builder'), (index, col) => {\n\t\t\t\tthis.registerConditionBuilder($(col), index);\n\t\t\t});\n\t\t},\n\n\t\tregisterEvents: function () {\n\t\t\tthis._super();\n\t\t\tlet detailViewForm = this.getForm();\n\t\t\tif (detailViewForm.find('.js-sla-policy').length) {\n\t\t\t\tthis.initSlaPolicy();\n\t\t\t}\n\t\t\tapp.event.on('DetailView.Tab.AfterLoad', (_event, _data, instance) => {\n\t\t\t\tif (instance.getForm().find('.js-sla-policy').length) {\n\t\t\t\t\tinstance.initSlaPolicy();\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}\n);\n"],"names":["_typeof","obj","Symbol","iterator","constructor","prototype","ownKeys","object","enumerableOnly","keys","Object","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","target","source","i","arguments","length","forEach","key","_defineProperty","getOwnPropertyDescriptors","defineProperties","defineProperty","value","_toPropertyKey","configurable","writable","arg","_toPrimitive","String","input","hint","prim","toPrimitive","res","call","TypeError","Number","Vtiger_Detail_Js","hideAll","container","find","addClass","showTemplateSettings","removeClass","showCustomSettings","getDefaultParam","module","view","targetModule","record","$","val","loadTemplates","param","progress","jQuery","progressIndicator","position","blockInfo","enabled","Promise","resolve","AppConnector","request","done","data","mode","fail","e","t","app","errorLog","showNotify","text","vtranslate","type","onPolicyTypeChange","_this","policyType","then","html","onSubmit","ev","_this2","preventDefault","stopPropagation","validationEngine","validationEngineOptions","policyId","animation","isNaN","params","serializeFormData","action","Array","isArray","result","row","index","rowElem","eq","id","each","_index","registerAddRecordBtnClick","_this3","addPolicyBtn","on","App","Fields","TimePeriod","register","registerDelBtnClick","Picklist","showSelect2ElementView","registerConditionBuilder","append","_this4","closest","rowId","remove","onConditionsChange","instance","conditionBuilders","indexOf","conditionsBuildersContainers","parent","JSON","stringify","getConditions","Vtiger_ConditionBuilder_Js","bind","registerEvents","initSlaPolicy","_this5","getForm","off","col","_super","detailViewForm","event","_event","_data"],"mappings":"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"}