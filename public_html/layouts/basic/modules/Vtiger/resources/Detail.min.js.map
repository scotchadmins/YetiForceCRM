{"version":3,"file":"Detail.min.js","sources":["Detail.js"],"sourcesContent":["/*+***********************************************************************************\n * The contents of this file are subject to the vtiger CRM Public License Version 1.0\n * (\"License\"); You may not use this file except in compliance with the License\n * The Original Code is:  vtiger CRM Open Source\n * The Initial Developer of the Original Code is vtiger.\n * Portions created by vtiger are Copyright (C) vtiger.\n * All Rights Reserved.\n * Contributor(s): YetiForce S.A.\n *************************************************************************************/\n'use strict';\n\njQuery.Class(\n\t'Vtiger_Detail_Js',\n\t{\n\t\tdetailInstance: false,\n\t\tgetInstance: function () {\n\t\t\tif (Vtiger_Detail_Js.detailInstance == false) {\n\t\t\t\tlet moduleClassName = app.getModuleName() + '_' + app.getViewName() + '_Js',\n\t\t\t\t\tinstance;\n\t\t\t\tif (typeof window[moduleClassName] !== 'undefined') {\n\t\t\t\t\tinstance = new window[moduleClassName]();\n\t\t\t\t} else {\n\t\t\t\t\tinstance = new Vtiger_Detail_Js();\n\t\t\t\t}\n\t\t\t\tVtiger_Detail_Js.detailInstance = instance;\n\t\t\t}\n\t\t\treturn Vtiger_Detail_Js.detailInstance;\n\t\t},\n\t\t/*\n\t\t * function to trigger Detail view actions\n\t\t * @params: Action url , callback function.\n\t\t */\n\t\ttriggerDetailViewAction: function (detailActionUrl, callBackFunction) {\n\t\t\tlet detailInstance = Vtiger_Detail_Js.getInstance();\n\t\t\tlet selectedIds = [];\n\t\t\tselectedIds.push(detailInstance.getRecordId());\n\t\t\tlet postData = {\n\t\t\t\tselected_ids: JSON.stringify(selectedIds)\n\t\t\t};\n\t\t\tlet actionParams = {\n\t\t\t\ttype: 'POST',\n\t\t\t\turl: detailActionUrl,\n\t\t\t\tdataType: 'html',\n\t\t\t\tdata: postData\n\t\t\t};\n\n\t\t\tAppConnector.request(actionParams)\n\t\t\t\t.done(function (data) {\n\t\t\t\t\tif (data) {\n\t\t\t\t\t\tapp.showModalWindow(data, { 'text-align': 'left' });\n\t\t\t\t\t\tif (typeof callBackFunction == 'function') {\n\t\t\t\t\t\t\tcallBackFunction(data);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.fail(function (error, err) {});\n\t\t},\n\t\t/**\n\t\t * Function to trigger SMS quick view actions\n\t\t */\n\t\ttriggerSMSmodal: () => {\n\t\t\tApp.Components.QuickCreate.createRecord('SMSNotifier', { noCache: true });\n\t\t},\n\t\ttriggerTransferOwnership: function (massActionUrl) {\n\t\t\tlet thisInstance = this;\n\t\t\tthisInstance.getRelatedModulesContainer = false;\n\t\t\tlet actionParams = {\n\t\t\t\ttype: 'POST',\n\t\t\t\turl: massActionUrl,\n\t\t\t\tdataType: 'html',\n\t\t\t\tdata: {}\n\t\t\t};\n\t\t\tAppConnector.request(actionParams).done(function (data) {\n\t\t\t\tif (data) {\n\t\t\t\t\tlet callback = function (data) {\n\t\t\t\t\t\tlet params = { ...app.validationEngineOptions };\n\t\t\t\t\t\tparams.onValidationComplete = function (form, valid) {\n\t\t\t\t\t\t\tif (valid) {\n\t\t\t\t\t\t\t\tif (form.attr('name') == 'changeOwner') {\n\t\t\t\t\t\t\t\t\tthisInstance.transferOwnershipSave(form);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t};\n\t\t\t\t\t\tjQuery('#changeOwner').validationEngine(params);\n\t\t\t\t\t};\n\t\t\t\t\tapp.showModalWindow(data, function (data) {\n\t\t\t\t\t\tlet selectElement = thisInstance.getRelatedModuleContainer();\n\t\t\t\t\t\tApp.Fields.Picklist.changeSelectElementView(selectElement, 'select2');\n\t\t\t\t\t\tif (typeof callback == 'function') {\n\t\t\t\t\t\t\tcallback(data);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\ttransferOwnershipSave: function (form) {\n\t\t\tlet transferOwner = jQuery('#transferOwnerId').val();\n\t\t\tlet relatedModules = jQuery('#related_modules').val();\n\t\t\tlet recordId = jQuery('#recordId').val();\n\t\t\tlet params = {\n\t\t\t\tmodule: app.getModuleName(),\n\t\t\t\taction: 'TransferOwnership',\n\t\t\t\trecord: recordId,\n\t\t\t\ttransferOwnerId: transferOwner,\n\t\t\t\trelated_modules: relatedModules\n\t\t\t};\n\t\t\tAppConnector.request(params).done(function (data) {\n\t\t\t\tif (data.success) {\n\t\t\t\t\tapp.hideModalWindow();\n\t\t\t\t\tlet params = {\n\t\t\t\t\t\ttitle: app.vtranslate('JS_MESSAGE'),\n\t\t\t\t\t\ttext: app.vtranslate('JS_RECORDS_TRANSFERRED_SUCCESSFULLY'),\n\t\t\t\t\t\ttype: 'info'\n\t\t\t\t\t};\n\t\t\t\t\tlet oldValue = jQuery('.assigned_user_id').val();\n\t\t\t\t\tlet element = jQuery('.assigned_user_id ');\n\n\t\t\t\t\telement.find('option[value=\"' + oldValue + '\"]').removeAttr('selected');\n\t\t\t\t\telement.find('option[value=\"' + transferOwner + '\"]').attr('selected', 'selected');\n\t\t\t\t\telement.trigger('liszt:updated');\n\t\t\t\t\tlet fieldName = element.find('option[value=\"' + transferOwner + '\"]').data('picklistvalue');\n\t\t\t\t\telement\n\t\t\t\t\t\t.closest('.row-fluid')\n\t\t\t\t\t\t.find('.value')\n\t\t\t\t\t\t.html(\n\t\t\t\t\t\t\t'<a href=\"index.php?module=Users&amp;parent=Settings&amp;view=Detail&amp;record=' +\n\t\t\t\t\t\t\t\ttransferOwner +\n\t\t\t\t\t\t\t\t'\">' +\n\t\t\t\t\t\t\t\tfieldName +\n\t\t\t\t\t\t\t\t'</a>'\n\t\t\t\t\t\t);\n\n\t\t\t\t\tapp.showNotify(params);\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\t/*\n\t\t * Function to get the related module container\n\t\t */\n\t\tgetRelatedModuleContainer: function () {\n\t\t\tif (this.getRelatedModulesContainer == false) {\n\t\t\t\tthis.getRelatedModulesContainer = jQuery('#related_modules');\n\t\t\t}\n\t\t\treturn this.getRelatedModulesContainer;\n\t\t},\n\t\treloadRelatedList: function () {\n\t\t\tlet detailInstance = Vtiger_Detail_Js.getInstance();\n\t\t\tlet params = {};\n\t\t\tif (jQuery('[name=\"currentPageNum\"]').length > 0) {\n\t\t\t\tparams.page = jQuery('[name=\"currentPageNum\"]').val();\n\t\t\t}\n\t\t\tdetailInstance.loadRelatedList(params);\n\t\t},\n\t\trunRecordChanger: function (id) {\n\t\t\tAppConnector.request({\n\t\t\t\tmodule: app.getModuleName(),\n\t\t\t\trecord: app.getRecordId(),\n\t\t\t\taction: 'Save',\n\t\t\t\tmode: 'recordChanger',\n\t\t\t\tid: id\n\t\t\t})\n\t\t\t\t.done(function () {\n\t\t\t\t\twindow.location.reload();\n\t\t\t\t})\n\t\t\t\t.fail(function (jqXHR, textStatus, errorThrown) {\n\t\t\t\t\tapp.showNotify({\n\t\t\t\t\t\ttype: 'error',\n\t\t\t\t\t\ttext: textStatus\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t},\n\t\tshowWorkflowTriggerView: function (instance) {\n\t\t\tlet element = $(instance);\n\t\t\telement.popover('hide');\n\t\t\tconst detailInstance = Vtiger_Detail_Js.getInstance(),\n\t\t\t\tcallback = function (data) {\n\t\t\t\t\tlet treeInstance = data.find('#treeWorkflowContents');\n\t\t\t\t\ttreeInstance.jstree({\n\t\t\t\t\t\tcore: {\n\t\t\t\t\t\t\tdata: JSON.parse(data.find('.js-tree-workflow-data').val()),\n\t\t\t\t\t\t\tthemes: {\n\t\t\t\t\t\t\t\tname: 'proton',\n\t\t\t\t\t\t\t\tresponsive: true,\n\t\t\t\t\t\t\t\ticons: false\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\tcheckbox: {\n\t\t\t\t\t\t\tthree_state: false\n\t\t\t\t\t\t},\n\t\t\t\t\t\tplugins: ['search', 'category']\n\t\t\t\t\t});\n\t\t\t\t\tdata.find('[type=\"submit\"]').on('click', function () {\n\t\t\t\t\t\tlet tasks = {};\n\t\t\t\t\t\tlet selected = treeInstance.jstree('getCategory', true);\n\t\t\t\t\t\t$.each(selected, function (index, treeElement) {\n\t\t\t\t\t\t\tif (treeElement.attr === 'record') {\n\t\t\t\t\t\t\t\ttasks[treeElement.record_id] = [];\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t\t$.each(selected, function (index, treeElement) {\n\t\t\t\t\t\t\tif (tasks[treeElement.parent] !== undefined && treeElement.attr === 'task') {\n\t\t\t\t\t\t\t\ttasks[treeElement.parent].push(treeElement.record_id);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t\tif (Object.keys(tasks).length === 0) {\n\t\t\t\t\t\t\tapp.showNotify({\n\t\t\t\t\t\t\t\ttitle: app.vtranslate('JS_INFORMATION'),\n\t\t\t\t\t\t\t\ttext: app.vtranslate('JS_NOT_SELECTED_WORKFLOW_TRIGGER'),\n\t\t\t\t\t\t\t\ttype: 'error'\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tapp.showNotify({\n\t\t\t\t\t\t\t\ttitle: app.vtranslate('JS_MESSAGE'),\n\t\t\t\t\t\t\t\ttext: app.vtranslate('JS_STARTED_PERFORM_WORKFLOW'),\n\t\t\t\t\t\t\t\ttype: 'info'\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tAppConnector.request({\n\t\t\t\t\t\t\t\tmodule: element.data('module') || app.getModuleName(),\n\t\t\t\t\t\t\t\taction: 'Workflow',\n\t\t\t\t\t\t\t\tmode: 'execute',\n\t\t\t\t\t\t\t\tuser: data.find('[name=\"user\"]').val(),\n\t\t\t\t\t\t\t\trecord: element.data('id') || detailInstance.getRecordId(),\n\t\t\t\t\t\t\t\ttasks: JSON.stringify(tasks)\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t.done(function () {\n\t\t\t\t\t\t\t\t\tapp.showNotify({\n\t\t\t\t\t\t\t\t\t\ttitle: app.vtranslate('JS_MESSAGE'),\n\t\t\t\t\t\t\t\t\t\ttext: app.vtranslate('JS_COMPLETED_PERFORM_WORKFLOW'),\n\t\t\t\t\t\t\t\t\t\ttype: 'success'\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\tapp.hideModalWindow();\n\t\t\t\t\t\t\t\t\tdetailInstance.loadWidgets();\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t.fail(function () {\n\t\t\t\t\t\t\t\t\tapp.showNotify({\n\t\t\t\t\t\t\t\t\t\ttitle: app.vtranslate('JS_ERROR'),\n\t\t\t\t\t\t\t\t\t\ttext: app.vtranslate('JS_ERROR_DURING_TRIGGER_OF_WORKFLOW'),\n\t\t\t\t\t\t\t\t\t\ttype: 'error'\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\tapp.hideModalWindow();\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t};\n\t\t\tAppConnector.request({\n\t\t\t\tmodule: element.data('module') || app.getModuleName(),\n\t\t\t\tview: 'WorkflowTrigger',\n\t\t\t\trecord: element.data('id') || detailInstance.getRecordId()\n\t\t\t}).done(function (data) {\n\t\t\t\tif (data) {\n\t\t\t\t\tapp.showModalWindow(data, '', callback);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t},\n\t{\n\t\ttargetPicklistChange: false,\n\t\ttargetPicklist: false,\n\t\tdetailViewContentHolder: false,\n\t\tdetailViewForm: false,\n\t\tdetailViewDetailsTabLabel: 'LBL_RECORD_DETAILS',\n\t\tdetailViewSummaryTabLabel: 'LBL_RECORD_SUMMARY',\n\t\tdetailViewRecentCommentsTabLabel: 'ModComments',\n\t\tdetailViewRecentActivitiesTabLabel: 'Activities',\n\t\tdetailViewRecentUpdatesTabLabel: 'LBL_UPDATES',\n\t\tdetailViewRecentDocumentsTabLabel: 'Documents',\n\t\tfieldUpdatedEvent: 'Vtiger.Field.Updated',\n\t\t//Filels list on updation of which we need to upate the detailview header\n\t\tupdatedFields: ['company', 'designation', 'title'],\n\t\t//Event that will triggered before saving the ajax edit of fields\n\t\tfieldPreSave: 'Vtiger.Field.PreSave',\n\t\ttempData: [],\n\t\t//constructor\n\t\tinit: function () {},\n\t\tloadWidgetsEvents: function () {\n\t\t\tconst thisInstance = this;\n\t\t\tapp.event.on('DetailView.Widget.AfterLoad', function (e, widgetContent, relatedModuleName, instance) {\n\t\t\t\tif (relatedModuleName === 'Calendar') {\n\t\t\t\t\tthisInstance.reloadWidgetActivitesStats(widgetContent.closest('.activityWidgetContainer'));\n\t\t\t\t}\n\t\t\t\tif (relatedModuleName === 'ModComments') {\n\t\t\t\t\tthisInstance.registerCommentEventsInDetail(widgetContent.closest('.updatesWidgetContainer'));\n\t\t\t\t}\n\t\t\t\tif (widgetContent.find('[name=\"relatedModule\"]').length) {\n\t\t\t\t\tthisInstance.registerShowSummary(widgetContent);\n\t\t\t\t}\n\t\t\t\tif (relatedModuleName === 'OSSMailView') {\n\t\t\t\t\tVtiger_Index_Js.registerMailButtons(widgetContent);\n\t\t\t\t\twidgetContent.find('.showMailModal').on('click', function (e) {\n\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\tlet progressIndicatorElement = jQuery.progressIndicator();\n\t\t\t\t\t\tapp.showModalWindow('', $(e.currentTarget).data('url') + '&noloadlibs=1', function (data) {\n\t\t\t\t\t\t\tVtiger_Index_Js.registerMailButtons(data);\n\t\t\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t\t});\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\tthisInstance.registerEmailEvents(widgetContent);\n\t\t\t\tif (relatedModuleName === 'DetailView') {\n\t\t\t\t\tthisInstance.registerBlockStatusCheckOnLoad();\n\t\t\t\t}\n\t\t\t\tthisInstance.registerCollapsiblePanels(widgetContent.closest('.js-detail-widget'));\n\t\t\t});\n\t\t},\n\t\tloadWidgets: function () {\n\t\t\tlet container = this.getForm();\n\t\t\tlet widgetList = jQuery('[class^=\"widgetContainer_\"]');\n\t\t\tlet length = widgetList.length;\n\t\t\twidgetList.each((index, widget) => {\n\t\t\t\twidget = $(widget);\n\t\t\t\tif (widget.is(':visible')) {\n\t\t\t\t\tthis.loadWidget(widget);\n\t\t\t\t}\n\t\t\t\tif (length === index + 1) {\n\t\t\t\t\tcontainer.validationEngine('detach');\n\t\t\t\t\tcontainer.validationEngine(app.validationEngineOptionsForRecord);\n\t\t\t\t}\n\t\t\t});\n\t\t\tthis.registerRelatedModulesRecordCount();\n\t\t},\n\t\tloadWidget: function (widgetContainer, params) {\n\t\t\tconst thisInstance = this,\n\t\t\t\tcontentContainer = $('.js-detail-widget-content', widgetContainer);\n\t\t\tlet relatedModuleName;\n\t\t\tthis.registerFilterForAddingModuleRelatedRecordFromSummaryWidget(widgetContainer);\n\t\t\tif (widgetContainer.find('[name=\"relatedModule\"]').length) {\n\t\t\t\trelatedModuleName = widgetContainer.find('[name=\"relatedModule\"]').val();\n\t\t\t} else {\n\t\t\t\trelatedModuleName = widgetContainer.data('name');\n\t\t\t}\n\t\t\tif (params === undefined) {\n\t\t\t\tlet urlParams = widgetContainer.data('url');\n\t\t\t\tif (urlParams == undefined) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tlet queryParameters = urlParams.split('&'),\n\t\t\t\t\tkeyValueMap = {},\n\t\t\t\t\tindex;\n\t\t\t\tfor (index = 0; index < queryParameters.length; index++) {\n\t\t\t\t\tlet queryParamComponents = queryParameters[index].split('=');\n\t\t\t\t\tkeyValueMap[queryParamComponents[0]] = queryParamComponents[1];\n\t\t\t\t}\n\t\t\t\tparams = keyValueMap;\n\t\t\t}\n\t\t\tlet aDeferred = $.Deferred();\n\t\t\tcontentContainer.progressIndicator({});\n\t\t\tAppConnector.request({\n\t\t\t\ttype: 'POST',\n\t\t\t\tasync: false,\n\t\t\t\tdataType: 'html',\n\t\t\t\tdata: params\n\t\t\t})\n\t\t\t\t.done(function (data) {\n\t\t\t\t\tcontentContainer.progressIndicator({ mode: 'hide' });\n\t\t\t\t\tcontentContainer.html(data);\n\t\t\t\t\tApp.Fields.Picklist.showSelect2ElementView(widgetContainer.find('.select2'));\n\t\t\t\t\tapp.registerModal(contentContainer);\n\t\t\t\t\tApp.Components.DropFile.register(contentContainer);\n\t\t\t\t\tif (relatedModuleName) {\n\t\t\t\t\t\tlet relatedController = Vtiger_RelatedList_Js.getInstanceByUrl(\n\t\t\t\t\t\t\twidgetContainer.data('url'),\n\t\t\t\t\t\t\tthisInstance.getSelectedTab()\n\t\t\t\t\t\t);\n\t\t\t\t\t\trelatedController.setRelatedContainer(contentContainer);\n\t\t\t\t\t\trelatedController.registerRelatedEvents();\n\t\t\t\t\t\tthisInstance.widgetRelatedRecordView(widgetContainer, true);\n\t\t\t\t\t\tlet chart = contentContainer.find('[name=\"typeChart\"]');\n\t\t\t\t\t\tif (chart.length && typeof window['Vtiger_Widget_Js'] !== 'undefined') {\n\t\t\t\t\t\t\tlet widgetInstance = Vtiger_Widget_Js.getInstance(contentContainer, chart.val());\n\t\t\t\t\t\t\twidgetInstance.init(contentContainer);\n\t\t\t\t\t\t\twidgetInstance.postLoadWidget();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tapp.event.trigger('DetailView.Widget.AfterLoad', contentContainer, relatedModuleName, thisInstance);\n\t\t\t\t\taDeferred.resolve(params);\n\t\t\t\t})\n\t\t\t\t.fail(function () {\n\t\t\t\t\tcontentContainer.progressIndicator({ mode: 'hide' });\n\t\t\t\t\taDeferred.reject();\n\t\t\t\t});\n\t\t\treturn aDeferred.promise();\n\t\t},\n\n\t\t/**\n\t\t * Adding relationships in the products and services widget.\n\t\t */\n\t\tregisterWidgetProductAndServices: function () {\n\t\t\tlet thisInstance = this;\n\t\t\tthis.getForm().on('click', '.js-widget-products-services', (e) => {\n\t\t\t\tlet currentTarget = $(e.currentTarget);\n\t\t\t\tlet params = {\n\t\t\t\t\tmodule: app.getModuleName(),\n\t\t\t\t\taction: 'RelationAjax',\n\t\t\t\t\tmode: 'updateRelation',\n\t\t\t\t\trecordsToAdd: [],\n\t\t\t\t\tsrc_record: app.getRecordId(),\n\t\t\t\t\trelated_module: currentTarget.closest('.js-detail-widget-header').find('[name=\"relatedModule\"]').val()\n\t\t\t\t};\n\t\t\t\tlet url = currentTarget.data('url');\n\t\t\t\tapp.showRecordsList(url, (_, instance) => {\n\t\t\t\t\tinstance.setSelectEvent((data) => {\n\t\t\t\t\t\tfor (let i in data) {\n\t\t\t\t\t\t\tparams.recordsToAdd.push(i);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tAppConnector.request(params).done(function () {\n\t\t\t\t\t\t\tthisInstance.reloadTabContent();\n\t\t\t\t\t\t});\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\n\t\twidgetRelatedRecordView: function (container, load) {\n\t\t\tlet cacheKey = this.getRecordId() + '_' + container.data('id');\n\t\t\tlet relatedRecordCacheID = app.moduleCacheGet(cacheKey);\n\t\t\tif (relatedRecordCacheID !== null) {\n\t\t\t\tlet newActive = container.find(\".js-carousel-item[data-id = '\" + relatedRecordCacheID + \"']\");\n\t\t\t\tif (newActive.length) {\n\t\t\t\t\tcontainer.find('.js-carousel-item.active').removeClass('active');\n\t\t\t\t\tcontainer.find(\".js-carousel-item[data-id = '\" + relatedRecordCacheID + \"']\").addClass('active');\n\t\t\t\t}\n\t\t\t}\n\t\t\tlet controlBox = container.find('.control-widget');\n\t\t\tlet prev = controlBox.find('.prev');\n\t\t\tlet next = controlBox.find('.next');\n\t\t\tlet active = container.find('.js-carousel-item.active');\n\t\t\tif (container.find('.js-carousel-item').length <= 1 || !active.next().length) {\n\t\t\t\tnext.addClass('disabled');\n\t\t\t} else {\n\t\t\t\tnext.removeClass('disabled');\n\t\t\t}\n\t\t\tif (container.find('.js-carousel-item').length <= 1 || !active.prev().length) {\n\t\t\t\tprev.addClass('disabled');\n\t\t\t} else {\n\t\t\t\tprev.removeClass('disabled');\n\t\t\t}\n\t\t\tif (load) {\n\t\t\t\tnext.on('click', function () {\n\t\t\t\t\tif ($(this).hasClass('disabled')) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tlet active = container.find('.js-carousel-item.active');\n\t\t\t\t\tactive.removeClass('active');\n\t\t\t\t\tlet nextElement = active.next();\n\t\t\t\t\tnextElement.addClass('active');\n\t\t\t\t\tif (!nextElement.next().length) {\n\t\t\t\t\t\tnext.addClass('disabled');\n\t\t\t\t\t}\n\t\t\t\t\tif (active.prev()) {\n\t\t\t\t\t\tprev.removeClass('disabled');\n\t\t\t\t\t}\n\t\t\t\t\tapp.moduleCacheSet(cacheKey, nextElement.data('id'));\n\t\t\t\t});\n\t\t\t\tprev.on('click', function () {\n\t\t\t\t\tif ($(this).hasClass('disabled')) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tlet active = container.find('.js-carousel-item.active');\n\t\t\t\t\tactive.removeClass('active');\n\t\t\t\t\tlet prevElement = active.prev();\n\t\t\t\t\tprevElement.addClass('active');\n\t\t\t\t\tif (!prevElement.prev().length) {\n\t\t\t\t\t\tprev.addClass('disabled');\n\t\t\t\t\t}\n\t\t\t\t\tif (active.next()) {\n\t\t\t\t\t\tnext.removeClass('disabled');\n\t\t\t\t\t}\n\t\t\t\t\tapp.moduleCacheSet(cacheKey, prevElement.data('id'));\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\n\t\tloadContents: function (url, data) {\n\t\t\tlet thisInstance = this;\n\t\t\tlet aDeferred = jQuery.Deferred();\n\n\t\t\tlet detailContentsHolder = this.getContentHolder();\n\t\t\tlet params = url;\n\t\t\tif (typeof data !== 'undefined') {\n\t\t\t\tparams = {};\n\t\t\t\tparams.url = url;\n\t\t\t\tparams.data = data;\n\t\t\t}\n\t\t\tAppConnector.requestPjax(params).done(function (responseData) {\n\t\t\t\tdetailContentsHolder.html(responseData);\n\t\t\t\tresponseData = detailContentsHolder.html();\n\t\t\t\tthisInstance.registerBlockStatusCheckOnLoad();\n\t\t\t\t//Make select box more usability\n\t\t\t\tApp.Fields.Picklist.changeSelectElementView(detailContentsHolder);\n\t\t\t\t//Attach date picker event to date fields\n\t\t\t\tApp.Fields.Date.register(detailContentsHolder);\n\t\t\t\tthisInstance.getForm().validationEngine();\n\t\t\t\tapp.event.trigger('DetailView.LoadContents.AfterLoad', responseData);\n\t\t\t\taDeferred.resolve(responseData);\n\t\t\t});\n\t\t\treturn aDeferred.promise();\n\t\t},\n\t\tgetUpdateFieldsArray: function () {\n\t\t\treturn this.updatedFields;\n\t\t},\n\t\t/**\n\t\t * Function to return related tab.\n\t\t * @return : jQuery Object.\n\t\t */\n\t\tgetTabByLabel: function (tabLabel) {\n\t\t\tlet tabs = this.getTabs();\n\t\t\tlet targetTab = false;\n\t\t\ttabs.each(function (index, element) {\n\t\t\t\tlet tab = jQuery(element);\n\t\t\t\tlet labelKey = tab.data('labelKey');\n\t\t\t\tif (labelKey == tabLabel) {\n\t\t\t\t\ttargetTab = tab;\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t});\n\t\t\treturn targetTab;\n\t\t},\n\t\tgetTabByModule: function (moduleName, relationId = '') {\n\t\t\tlet tabs = this.getTabs();\n\t\t\tlet targetTab = false;\n\t\t\ttabs.each(function (index, element) {\n\t\t\t\tlet tab = jQuery(element);\n\t\t\t\tif (\n\t\t\t\t\ttab.data('reference') == moduleName &&\n\t\t\t\t\t(!relationId || (relationId && relationId == tab.data('relation-id')))\n\t\t\t\t) {\n\t\t\t\t\ttargetTab = tab;\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t});\n\t\t\treturn targetTab;\n\t\t},\n\t\tselectModuleTab: function () {\n\t\t\tlet relatedTabContainer = this.getTabContainer();\n\t\t\tlet moduleTab = relatedTabContainer.find('li.module-tab');\n\t\t\tthis.deSelectAllrelatedTabs();\n\t\t\tthis.markTabAsSelected(moduleTab);\n\t\t},\n\t\tdeSelectAllrelatedTabs: function () {\n\t\t\tthis.getTabs().removeClass('active');\n\t\t},\n\t\tmarkTabAsSelected: function (tabElement) {\n\t\t\ttabElement.addClass('active');\n\t\t\t$(\n\t\t\t\t'.related .dropdown [data-reference=\"' +\n\t\t\t\t\ttabElement.data('reference') +\n\t\t\t\t\t'\"][data-relation-id=\"' +\n\t\t\t\t\ttabElement.data('relation-id') +\n\t\t\t\t\t'\"]'\n\t\t\t).addClass('active');\n\t\t},\n\t\treloadTabContent: function () {\n\t\t\tthis.getSelectedTab().trigger('click');\n\t\t},\n\t\tgetSelectedTab: function () {\n\t\t\tlet tabContainer = this.getTabContainer();\n\t\t\treturn tabContainer.find('.js-detail-tab.active:not(.d-none)');\n\t\t},\n\t\tgetTabContainer: function () {\n\t\t\treturn jQuery('div.related');\n\t\t},\n\t\tgetTabs: function () {\n\t\t\tlet topTabs = this.getTabContainer().find('li.baseLink:not(.d-none)');\n\t\t\tlet dropdownMenuTabs = this.getTabContainer().find('li:not(.baseLink)');\n\t\t\tdropdownMenuTabs.each(function (n, e) {\n\t\t\t\tlet currentTarget = jQuery(this);\n\t\t\t\tlet iteration = currentTarget.data('iteration');\n\t\t\t\tlet className = currentTarget.hasClass('mainNav') ? 'mainNav' : 'relatedNav';\n\t\t\t\tif (\n\t\t\t\t\titeration != undefined &&\n\t\t\t\t\ttopTabs.filter('.' + className + '[data-iteration=\"' + iteration + '\"]').length < 1\n\t\t\t\t) {\n\t\t\t\t\ttopTabs.push(currentTarget.get(0));\n\t\t\t\t}\n\t\t\t});\n\t\t\treturn topTabs;\n\t\t},\n\t\tgetContentHolder: function () {\n\t\t\tif (this.detailViewContentHolder == false) {\n\t\t\t\tthis.detailViewContentHolder = jQuery('div.details div.contents');\n\t\t\t}\n\t\t\treturn this.detailViewContentHolder;\n\t\t},\n\t\t/**\n\t\t * Function which will give the detail view form\n\t\t * @return : jQuery element\n\t\t */\n\t\tgetForm: function () {\n\t\t\tif (this.detailViewForm == false) {\n\t\t\t\tthis.detailViewForm = jQuery('#detailView');\n\t\t\t}\n\t\t\treturn this.detailViewForm;\n\t\t},\n\t\tgetRecordId: function () {\n\t\t\treturn app.getRecordId();\n\t\t},\n\t\tgetRelatedModuleName: function () {\n\t\t\tif (jQuery('.relatedModuleName', this.getContentHolder()).length == 1) {\n\t\t\t\treturn jQuery('.relatedModuleName', this.getContentHolder()).val();\n\t\t\t}\n\t\t},\n\t\tgetRelatedListCurrentPageNum: function () {\n\t\t\treturn jQuery('input[name=\"currentPageNum\"]', this.getContentHolder()).val();\n\t\t},\n\n\t\t/**\n\t\t * function to hide button action.\n\t\t */\n\t\thideButtonAction: function () {\n\t\t\t$('.js-hb__container').removeClass('u-hidden-block__opened');\n\t\t},\n\n\t\t/**\n\t\t * function to get the Comment thread for the given parent.\n\t\t * params: Url to get the Comment thread\n\t\t */\n\t\tgetCommentThread: function (url) {\n\t\t\tlet aDeferred = jQuery.Deferred();\n\t\t\tAppConnector.request(url)\n\t\t\t\t.done(function (data) {\n\t\t\t\t\taDeferred.resolve(data);\n\t\t\t\t})\n\t\t\t\t.fail(function (error, err) {});\n\t\t\treturn aDeferred.promise();\n\t\t},\n\t\t/**\n\t\t * Function to save comment\n\t\t */\n\t\tsaveCommentAjax: function (\n\t\t\telement,\n\t\t\tcommentMode,\n\t\t\tcommentContentValue,\n\t\t\teditCommentReason,\n\t\t\tcommentId,\n\t\t\tparentCommentId,\n\t\t\taDeferred\n\t\t) {\n\t\t\tlet thisInstance = this;\n\t\t\tlet progressIndicatorElement = jQuery.progressIndicator({});\n\t\t\tlet commentInfoBlock = element.closest('.js-comment-single');\n\t\t\tlet relatedTo = commentInfoBlock.find('.related_to').val();\n\t\t\tif (!relatedTo) {\n\t\t\t\trelatedTo = thisInstance.getRecordId();\n\t\t\t}\n\t\t\tlet postData = {\n\t\t\t\taction: 'SaveAjax',\n\t\t\t\tcommentcontent: commentContentValue,\n\t\t\t\trelated_to: relatedTo,\n\t\t\t\tmodule: 'ModComments'\n\t\t\t};\n\t\t\tif (commentMode == 'edit') {\n\t\t\t\tpostData['fromView'] = 'QuickEdit';\n\t\t\t\tpostData['record'] = commentId;\n\t\t\t\tpostData['reasontoedit'] = editCommentReason;\n\t\t\t\tpostData['parent_comments'] = parentCommentId;\n\t\t\t} else if (commentMode == 'add') {\n\t\t\t\tpostData['parent_comments'] = commentId;\n\t\t\t}\n\t\t\tAppConnector.request(postData)\n\t\t\t\t.done(function (data) {\n\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\tif (commentMode == 'add') {\n\t\t\t\t\t\tthisInstance.addRelationBetweenRecords(\n\t\t\t\t\t\t\t'ModComments',\n\t\t\t\t\t\t\tdata.result._recordId,\n\t\t\t\t\t\t\tthisInstance.getTabByLabel(thisInstance.detailViewRecentCommentsTabLabel),\n\t\t\t\t\t\t\t{ relationId: null }\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t\tapp.event.trigger('DetailView.SaveComment.AfterAjax', commentInfoBlock, postData, data);\n\t\t\t\t\taDeferred.resolve(data);\n\t\t\t\t})\n\t\t\t\t.fail(function (textStatus, errorThrown) {\n\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\telement.removeAttr('disabled');\n\t\t\t\t\taDeferred.reject(textStatus, errorThrown);\n\t\t\t\t});\n\t\t},\n\t\tsaveComment: function (e) {\n\t\t\tlet aDeferred = jQuery.Deferred(),\n\t\t\t\tcurrentTarget = jQuery(e.currentTarget),\n\t\t\t\tcommentMode = currentTarget.data('mode'),\n\t\t\t\tclosestCommentBlock = currentTarget.closest('.js-add-comment-block'),\n\t\t\t\tcommentContent = closestCommentBlock.find('.js-comment-content'),\n\t\t\t\tcommentContentValue = commentContent.html(),\n\t\t\t\terrorMsg,\n\t\t\t\teditCommentReason;\n\t\t\tif ('' === commentContentValue) {\n\t\t\t\terrorMsg = app.vtranslate('JS_LBL_COMMENT_VALUE_CANT_BE_EMPTY');\n\t\t\t\tcommentContent.validationEngine('showPrompt', errorMsg, 'error', 'bottomLeft', true);\n\t\t\t\taDeferred.reject(errorMsg);\n\t\t\t\treturn aDeferred.promise();\n\t\t\t}\n\t\t\tif ('edit' === commentMode) {\n\t\t\t\teditCommentReason = closestCommentBlock.find('[name=\"reasonToEdit\"]').val();\n\t\t\t}\n\t\t\tlet element = jQuery(e.currentTarget),\n\t\t\t\tcommentInfoHeader = closestCommentBlock.closest('.js-comment-details').find('.js-comment-info-header'),\n\t\t\t\tcommentId = commentInfoHeader.data('commentid'),\n\t\t\t\tparentCommentId = commentInfoHeader.data('parentcommentid');\n\t\t\tthis.saveCommentAjax(\n\t\t\t\telement,\n\t\t\t\tcommentMode,\n\t\t\t\tcommentContentValue,\n\t\t\t\teditCommentReason,\n\t\t\t\tcommentId,\n\t\t\t\tparentCommentId,\n\t\t\t\taDeferred\n\t\t\t);\n\t\t\treturn aDeferred.promise();\n\t\t},\n\t\t/**\n\t\t * function to return the UI of the comment.\n\t\t * return html\n\t\t */\n\t\tgetCommentUI: function (commentId) {\n\t\t\tlet aDeferred = jQuery.Deferred();\n\t\t\tlet postData = {\n\t\t\t\tview: 'DetailAjax',\n\t\t\t\tmodule: 'ModComments',\n\t\t\t\trecord: commentId\n\t\t\t};\n\t\t\tAppConnector.request(postData)\n\t\t\t\t.done(function (data) {\n\t\t\t\t\taDeferred.resolve(data);\n\t\t\t\t})\n\t\t\t\t.fail(function (error, err) {});\n\t\t\treturn aDeferred.promise();\n\t\t},\n\t\t/**\n\t\t * function to return cloned add comment block\n\t\t * return jQuery Obj.\n\t\t */\n\t\tgetCommentBlock: function () {\n\t\t\tlet clonedCommentBlock = jQuery('.basicAddCommentBlock', this.getContentHolder())\n\t\t\t\t.clone(true, true)\n\t\t\t\t.removeClass('basicAddCommentBlock d-none')\n\t\t\t\t.addClass('js-add-comment-block');\n\t\t\tclonedCommentBlock\n\t\t\t\t.find('.commentcontenthidden')\n\t\t\t\t.removeClass('commentcontenthidden')\n\t\t\t\t.addClass('js-comment-content');\n\t\t\treturn clonedCommentBlock;\n\t\t},\n\t\t/**\n\t\t * function to return cloned edit comment block\n\t\t * return jQuery Obj.\n\t\t */\n\t\tgetEditCommentBlock: function () {\n\t\t\tlet clonedCommentBlock = jQuery('.basicEditCommentBlock', this.getContentHolder())\n\t\t\t\t.clone(true, true)\n\t\t\t\t.removeClass('basicEditCommentBlock d-none')\n\t\t\t\t.addClass('js-add-comment-block');\n\t\t\tclonedCommentBlock\n\t\t\t\t.find('.commentcontenthidden')\n\t\t\t\t.removeClass('commentcontenthidden')\n\t\t\t\t.addClass('js-comment-content');\n\t\t\tnew App.Fields.Text.Completions(clonedCommentBlock.find('.js-completions'));\n\t\t\treturn clonedCommentBlock;\n\t\t},\n\t\t/*\n\t\t * Function to register the submit event for Send Sms\n\t\t */\n\t\tregisterSendSmsSubmitEvent: function () {\n\t\t\tlet thisInstance = this;\n\t\t\tjQuery('body').on('submit', '#massSave', function (e) {\n\t\t\t\tlet form = jQuery(e.currentTarget);\n\t\t\t\tlet smsTextLength = form.find('#message').html().length;\n\t\t\t\tif (smsTextLength > 160) {\n\t\t\t\t\tlet params = {\n\t\t\t\t\t\ttitle: app.vtranslate('JS_MESSAGE'),\n\t\t\t\t\t\ttext: app.vtranslate('LBL_SMS_MAX_CHARACTERS_ALLOWED'),\n\t\t\t\t\t\ttype: 'error'\n\t\t\t\t\t};\n\t\t\t\t\tapp.showNotify(params);\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tlet submitButton = form.find(':submit');\n\t\t\t\tsubmitButton.attr('disabled', 'disabled');\n\t\t\t\tthisInstance.SendSmsSave(form);\n\t\t\t\te.preventDefault();\n\t\t\t});\n\t\t},\n\t\t/*\n\t\t * Function to Save and sending the Sms and hide the modal window of send sms\n\t\t */\n\t\tSendSmsSave: function (form) {\n\t\t\tlet progressInstance = jQuery.progressIndicator({\n\t\t\t\tposition: 'html',\n\t\t\t\tblockInfo: {\n\t\t\t\t\tenabled: true\n\t\t\t\t}\n\t\t\t});\n\t\t\tlet SendSmsUrl = form.serializeFormData();\n\t\t\tAppConnector.request(SendSmsUrl)\n\t\t\t\t.done(function (data) {\n\t\t\t\t\tapp.hideModalWindow();\n\t\t\t\t\tprogressInstance.progressIndicator({\n\t\t\t\t\t\tmode: 'hide'\n\t\t\t\t\t});\n\t\t\t\t})\n\t\t\t\t.fail(function (error, err) {});\n\t\t},\n\t\t/**\n\t\t * Function which will register events to update the record name in the detail view when any of\n\t\t * the name field is changed\n\t\t */\n\t\tregisterNameAjaxEditEvent: function () {\n\t\t\tlet thisInstance = this;\n\t\t\tlet detailContentsHolder = thisInstance.getContentHolder();\n\t\t\tdetailContentsHolder.on(thisInstance.fieldUpdatedEvent, '.nameField', function (e, params) {\n\t\t\t\tlet form = thisInstance.getForm();\n\t\t\t\tlet nameFields = form.data('nameFields');\n\t\t\t\tlet recordLabel = '';\n\t\t\t\tfor (let index in nameFields) {\n\t\t\t\t\tif (index != 0) {\n\t\t\t\t\t\trecordLabel += ' ';\n\t\t\t\t\t}\n\n\t\t\t\t\tlet nameFieldName = nameFields[index];\n\t\t\t\t\trecordLabel += form.find('[name=\"' + nameFieldName + '\"]').val();\n\t\t\t\t}\n\t\t\t\tlet recordLabelElement = detailContentsHolder.closest('.contentsDiv').find('.recordLabel');\n\t\t\t\trecordLabelElement.text(recordLabel);\n\t\t\t});\n\t\t},\n\t\tupdateHeaderNameFields: function () {\n\t\t\tlet thisInstance = this;\n\t\t\tlet detailContentsHolder = thisInstance.getContentHolder();\n\t\t\tlet form = thisInstance.getForm();\n\t\t\tlet nameFields = form.data('nameFields');\n\t\t\tlet recordLabelElement = detailContentsHolder.closest('.contentsDiv').find('.recordLabel');\n\t\t\tlet title = '';\n\t\t\tfor (let index in nameFields) {\n\t\t\t\tlet nameFieldName = nameFields[index];\n\t\t\t\tlet nameField = form.find('[name=\"' + nameFieldName + '\"]');\n\t\t\t\tif (nameField.length > 0) {\n\t\t\t\t\tlet recordLabel = nameField.val();\n\t\t\t\t\ttitle += recordLabel + ' ';\n\t\t\t\t\trecordLabelElement.find('[class=\"' + nameFieldName + '\"]').text(recordLabel);\n\t\t\t\t}\n\t\t\t}\n\t\t\tlet salutatioField = recordLabelElement.find('.salutation');\n\t\t\tif (salutatioField.length > 0) {\n\t\t\t\tlet salutatioValue = salutatioField.text();\n\t\t\t\ttitle = salutatioValue + title;\n\t\t\t}\n\t\t\trecordLabelElement.attr('title', title);\n\t\t},\n\t\tregisterAjaxEditEvent: function () {\n\t\t\tlet thisInstance = this;\n\t\t\tlet detailContentsHolder = thisInstance.getContentHolder();\n\t\t\tdetailContentsHolder.on(thisInstance.fieldUpdatedEvent, 'input,select,textarea', function (e) {\n\t\t\t\tthisInstance.updateHeaderValues(jQuery(e.currentTarget));\n\t\t\t});\n\t\t},\n\t\tupdateHeaderValues: function (currentElement) {\n\t\t\tlet thisInstance = this;\n\t\t\tif (currentElement.hasClass('nameField')) {\n\t\t\t\tthisInstance.updateHeaderNameFields();\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\tlet name = currentElement.attr('name');\n\t\t\tlet updatedFields = this.getUpdateFieldsArray();\n\t\t\tlet detailContentsHolder = thisInstance.getContentHolder();\n\t\t\tif (jQuery.inArray(name, updatedFields) != '-1') {\n\t\t\t\tlet recordLabel = currentElement.val();\n\t\t\t\tlet recordLabelElement = detailContentsHolder.closest('.contentsDiv').find('.' + name + '_label');\n\t\t\t\trecordLabelElement.text(recordLabel);\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t * Function to register the click event of url field\n\t\t */\n\t\tregisterUrlFieldClickEvent: function () {\n\t\t\tlet detailContentsHolder = this.getContentHolder();\n\t\t\tdetailContentsHolder.on('click', '.urlField', function (e) {\n\t\t\t\te.stopPropagation();\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Function to register event for related list row click\n\t\t */\n\t\tregisterRelatedRowClickEvent: function () {\n\t\t\tlet detailContentsHolder = this.getContentHolder();\n\t\t\tdetailContentsHolder.on('click', '.listViewEntries', function (e) {\n\t\t\t\tlet targetElement = jQuery(e.target, jQuery(e.currentTarget));\n\t\t\t\tif (targetElement.is('td:first-child') && targetElement.children('input[type=\"checkbox\"]').length > 0) return;\n\t\t\t\tif (jQuery(e.target).is('input[type=\"checkbox\"]')) return;\n\t\t\t\tlet elem = jQuery(e.currentTarget);\n\t\t\t\tlet recordUrl = elem.data('recordurl');\n\t\t\t\tif (typeof recordUrl !== 'undefined') {\n\t\t\t\t\twindow.location.href = recordUrl;\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\tloadRelatedList: function (params) {\n\t\t\tlet aDeferred = jQuery.Deferred();\n\t\t\tif (params == undefined) {\n\t\t\t\tparams = {};\n\t\t\t}\n\t\t\tlet relatedListInstance = Vtiger_RelatedList_Js.getInstance(\n\t\t\t\tthis.getRecordId(),\n\t\t\t\tapp.getModuleName(),\n\t\t\t\tthis.getSelectedTab(),\n\t\t\t\tthis.getRelatedModuleName()\n\t\t\t);\n\t\t\trelatedListInstance\n\t\t\t\t.loadRelatedList(params)\n\t\t\t\t.done(function (data) {\n\t\t\t\t\taDeferred.resolve(data);\n\t\t\t\t})\n\t\t\t\t.fail(function (textStatus, errorThrown) {\n\t\t\t\t\taDeferred.reject(textStatus, errorThrown);\n\t\t\t\t});\n\t\t\treturn aDeferred.promise();\n\t\t},\n\t\t/**\n\t\t * Function to register Event for Sorting\n\t\t */\n\t\tregisterEventForRelatedList: function () {\n\t\t\tconst self = this;\n\t\t\tlet detailContentsHolder = this.getContentHolder();\n\t\t\tlet relatedModuleName = self.getRelatedModuleName();\n\t\t\tif (relatedModuleName) {\n\t\t\t\tlet relatedController = Vtiger_RelatedList_Js.getInstance(\n\t\t\t\t\tself.getRecordId(),\n\t\t\t\t\tapp.getModuleName(),\n\t\t\t\t\tself.getSelectedTab(),\n\t\t\t\t\trelatedModuleName\n\t\t\t\t);\n\t\t\t\trelatedController.setRelatedContainer(detailContentsHolder);\n\t\t\t\trelatedController.registerRelatedEvents();\n\t\t\t}\n\t\t\tdetailContentsHolder.find('.detailViewBlockLink').each(function (n, block) {\n\t\t\t\tself.reloadDetailViewBlock($(block), false);\n\t\t\t});\n\t\t\tdetailContentsHolder.find('.detailViewBlockLink .blockHeader').on('click', function (e) {\n\t\t\t\tconst target = $(e.target);\n\t\t\t\tif (\n\t\t\t\t\ttarget.is('input') ||\n\t\t\t\t\ttarget.is('button') ||\n\t\t\t\t\ttarget.parents().is('button') ||\n\t\t\t\t\ttarget.hasClass('js-stop-propagation') ||\n\t\t\t\t\ttarget.parents().hasClass('js-stop-propagation')\n\t\t\t\t) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tself.reloadDetailViewBlock($(this).closest('.js-toggle-panel'));\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Function to reload detail view block\n\t\t * @param {$} block - Jquery container.\n\t\t */\n\t\treloadDetailViewBlock: function (block, progressIndicator = true) {\n\t\t\tconst self = this;\n\t\t\tconst blockContent = block.find('.blockContent');\n\t\t\tconst isEmpty = blockContent.is(':empty');\n\t\t\tlet url = block.data('url');\n\t\t\tif (blockContent.is(':visible') && url) {\n\t\t\t\tif (progressIndicator) {\n\t\t\t\t\tblockContent.progressIndicator();\n\t\t\t\t}\n\t\t\t\tAppConnector.request(url).done(function (response) {\n\t\t\t\t\tblockContent.html(response);\n\t\t\t\t\tconst relatedController = Vtiger_RelatedList_Js.getInstanceByUrl(url, self.getSelectedTab());\n\t\t\t\t\trelatedController.setRelatedContainer(blockContent);\n\t\t\t\t\tif (isEmpty) {\n\t\t\t\t\t\trelatedController.registerRelatedEvents();\n\t\t\t\t\t} else {\n\t\t\t\t\t\trelatedController.registerPostLoadEvents();\n\t\t\t\t\t\trelatedController.registerListEvents();\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\t\tregisterBlockStatusCheckOnLoad: function () {\n\t\t\tlet blocks = this.getContentHolder().find('.js-toggle-panel');\n\t\t\tlet module = app.getModuleName();\n\t\t\tblocks.each(function (index, block) {\n\t\t\t\tlet currentBlock = jQuery(block);\n\t\t\t\tlet dynamicAttr = currentBlock.attr('data-dynamic');\n\t\t\t\tif (typeof dynamicAttr !== typeof undefined && dynamicAttr !== false) {\n\t\t\t\t\tlet headerAnimationElement = currentBlock.find('.js-block-toggle').not('.d-none');\n\t\t\t\t\tlet bodyContents = currentBlock.closest('.js-toggle-panel').find('.blockContent');\n\t\t\t\t\tlet blockId = headerAnimationElement.data('id');\n\t\t\t\t\tlet cacheKey = module + '.' + blockId;\n\t\t\t\t\tlet value = app.cacheGet(cacheKey, null);\n\t\t\t\t\tif (value != null) {\n\t\t\t\t\t\tif (value == 1) {\n\t\t\t\t\t\t\theaderAnimationElement.addClass('d-none');\n\t\t\t\t\t\t\tcurrentBlock.find(\"[data-mode='show']\").removeClass('d-none');\n\t\t\t\t\t\t\tbodyContents.removeClass('d-none');\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\theaderAnimationElement.addClass('d-none');\n\t\t\t\t\t\t\tcurrentBlock.find(\"[data-mode='hide']\").removeClass('d-none');\n\t\t\t\t\t\t\tbodyContents.addClass('d-none');\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Function to handle the ajax edit for detailview and summary view fields\n\t\t * which will expects the currentTdElement\n\t\t */\n\t\tajaxEditHandling: function (currentTdElement) {\n\t\t\tconst thisInstance = this;\n\t\t\tlet readRecord = $('.setReadRecord'),\n\t\t\t\tdetailViewValue = $('.value', currentTdElement),\n\t\t\t\teditElement = $('.edit', currentTdElement),\n\t\t\t\tactionElement = $('.js-detail-quick-edit', currentTdElement),\n\t\t\t\tfieldElement = $('.fieldname', editElement);\n\t\t\treadRecord.prop('disabled', true);\n\t\t\t$(fieldElement).each(function (index, element) {\n\t\t\t\tlet fieldName = $(element).val(),\n\t\t\t\t\telementTarget = $(element),\n\t\t\t\t\telementName =\n\t\t\t\t\t\t$.inArray(elementTarget.data('type'), [\n\t\t\t\t\t\t\t'taxes',\n\t\t\t\t\t\t\t'sharedOwner',\n\t\t\t\t\t\t\t'multipicklist',\n\t\t\t\t\t\t\t'multiListFields',\n\t\t\t\t\t\t\t'multiDomain',\n\t\t\t\t\t\t\t'mailScannerFields',\n\t\t\t\t\t\t\t'mailScannerActions'\n\t\t\t\t\t\t]) != -1\n\t\t\t\t\t\t\t? fieldName + '[]'\n\t\t\t\t\t\t\t: fieldName;\n\t\t\t\tlet fieldElement = $('[name=\"' + elementName + '\"]:not([type=\"hidden\"])', editElement);\n\t\t\t\tif (fieldElement.attr('disabled') == 'disabled' && fieldElement.attr('type') !== 'password') {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tif (editElement.length <= 0) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tif (editElement.is(':visible')) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tif (fieldElement.attr('data-inputmask')) {\n\t\t\t\t\tfieldElement.inputmask();\n\t\t\t\t}\n\t\t\t\tdetailViewValue.addClass('d-none');\n\t\t\t\tactionElement.addClass('d-none');\n\t\t\t\teditElement\n\t\t\t\t\t.removeClass('d-none')\n\t\t\t\t\t.children()\n\t\t\t\t\t.filter('input[type!=\"hidden\"]input[type!=\"image\"],select')\n\t\t\t\t\t.filter(':first')\n\t\t\t\t\t.focus();\n\t\t\t\tlet saveHandler = function (e) {\n\t\t\t\t\tthisInstance.registerNameAjaxEditEvent();\n\t\t\t\t\tlet element = $(e.target);\n\t\t\t\t\tif ($(e.currentTarget).find('.dateTimePickerField').length) {\n\t\t\t\t\t\tif (element.closest('.drp-calendar').length || element.hasClass('drp-calendar')) {\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif (\n\t\t\t\t\t\telement.closest('.fieldValue').is(currentTdElement) ||\n\t\t\t\t\t\telement.closest('.pnotify-modal').length ||\n\t\t\t\t\t\telement.hasClass('select2-selection__choice__remove') ||\n\t\t\t\t\t\telement.closest('.select2-container--open').length ||\n\t\t\t\t\t\telement.parents('.clockpicker-popover').length\n\t\t\t\t\t) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tcurrentTdElement.removeAttr('tabindex');\n\t\t\t\t\tcurrentTdElement.removeClass('is-edit-active');\n\t\t\t\t\tlet previousValue = elementTarget.data('prevValue'),\n\t\t\t\t\t\teditElement = elementTarget.closest('.edit'),\n\t\t\t\t\t\tajaxEditNewValue =\n\t\t\t\t\t\t\teditElement.find('[name=\"' + elementName + '\"]').length > 0\n\t\t\t\t\t\t\t\t? editElement.find('[name=\"' + elementName + '\"]').val()\n\t\t\t\t\t\t\t\t: editElement.find('[name=\"' + fieldName + '\"]').val(),\n\t\t\t\t\t\tfieldInfo = Vtiger_Field_Js.getInstance(fieldElement.data('fieldinfo')),\n\t\t\t\t\t\tdateTimeField = [],\n\t\t\t\t\t\tdateTime = false;\n\t\t\t\t\tif (editElement.find('[data-fieldinfo]').length == 2) {\n\t\t\t\t\t\teditElement.find('[data-fieldinfo]').each(function () {\n\t\t\t\t\t\t\tlet field = {\n\t\t\t\t\t\t\t\tname: $(this).attr('name'),\n\t\t\t\t\t\t\t\ttype: $(this).data('fieldinfo').type\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\tif (field['type'] == 'datetime') {\n\t\t\t\t\t\t\t\tdateTime = true;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tdateTimeField.push(field);\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\tif (fieldElement.is('input:checkbox')) {\n\t\t\t\t\t\tif (fieldElement.is(':checked')) {\n\t\t\t\t\t\t\tajaxEditNewValue = '1';\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tajaxEditNewValue = '0';\n\t\t\t\t\t\t}\n\t\t\t\t\t\tfieldElement = fieldElement.filter('[type=\"checkbox\"]');\n\t\t\t\t\t}\n\t\t\t\t\tif (fieldElement.validationEngine('validate')) {\n\t\t\t\t\t\tif (fieldElement.attr('data-inputmask')) {\n\t\t\t\t\t\t\tfieldElement.inputmask();\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tfunction toStr(v) {\n\t\t\t\t\t\treturn v === undefined || v === null ? '' : v + '';\n\t\t\t\t\t}\n\t\t\t\t\tfieldElement.validationEngine('hide');\n\t\t\t\t\tif (toStr(previousValue) === toStr(ajaxEditNewValue)) {\n\t\t\t\t\t\teditElement.addClass('d-none');\n\t\t\t\t\t\tdetailViewValue.removeClass('d-none');\n\t\t\t\t\t\tactionElement.removeClass('d-none');\n\t\t\t\t\t\treadRecord.prop('disabled', false);\n\t\t\t\t\t\teditElement.off('clickoutside');\n\t\t\t\t\t} else {\n\t\t\t\t\t\tlet preFieldSaveEvent = jQuery.Event(thisInstance.fieldPreSave);\n\t\t\t\t\t\tfieldElement.trigger(preFieldSaveEvent, {\n\t\t\t\t\t\t\tfieldValue: ajaxEditNewValue,\n\t\t\t\t\t\t\trecordId: thisInstance.getRecordId()\n\t\t\t\t\t\t});\n\t\t\t\t\t\tif (preFieldSaveEvent.isDefaultPrevented()) {\n\t\t\t\t\t\t\treadRecord.prop('disabled', false);\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t\teditElement.addClass('d-none');\n\t\t\t\t\t\tVtiger_Edit_Js.saveAjax(\n\t\t\t\t\t\t\tthisInstance.getCustomFieldNameValueMap({\n\t\t\t\t\t\t\t\tfield: fieldName,\n\t\t\t\t\t\t\t\tvalue: ajaxEditNewValue\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t)\n\t\t\t\t\t\t\t.done(function (response) {\n\t\t\t\t\t\t\t\teditElement.off('clickoutside');\n\t\t\t\t\t\t\t\treadRecord.prop('disabled', false);\n\t\t\t\t\t\t\t\tdetailViewValue.removeClass('d-none');\n\t\t\t\t\t\t\t\tactionElement.removeClass('d-none');\n\t\t\t\t\t\t\t\tif (!response.success) {\n\t\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tconst postSaveRecordDetails = response.result;\n\t\t\t\t\t\t\t\tlet displayValue = postSaveRecordDetails[fieldName].display_value,\n\t\t\t\t\t\t\t\t\tprevDisplayValue = postSaveRecordDetails[fieldName].prev_display_value;\n\t\t\t\t\t\t\t\tif (dateTimeField.length && dateTime) {\n\t\t\t\t\t\t\t\t\tdisplayValue =\n\t\t\t\t\t\t\t\t\t\tpostSaveRecordDetails[dateTimeField[0].name].display_value +\n\t\t\t\t\t\t\t\t\t\t' ' +\n\t\t\t\t\t\t\t\t\t\tpostSaveRecordDetails[dateTimeField[1].name].display_value;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tdetailViewValue.html(displayValue);\n\t\t\t\t\t\t\t\tapp.showNotify({\n\t\t\t\t\t\t\t\t\ttitle: app.vtranslate('JS_SAVE_NOTIFY_OK'),\n\t\t\t\t\t\t\t\t\ttext:\n\t\t\t\t\t\t\t\t\t\t'<b>' +\n\t\t\t\t\t\t\t\t\t\tfieldInfo.data.label +\n\t\t\t\t\t\t\t\t\t\t'</b><br>' +\n\t\t\t\t\t\t\t\t\t\t'<b>' +\n\t\t\t\t\t\t\t\t\t\tapp.vtranslate('JS_SAVED_FROM') +\n\t\t\t\t\t\t\t\t\t\t'</b>: ' +\n\t\t\t\t\t\t\t\t\t\tprevDisplayValue +\n\t\t\t\t\t\t\t\t\t\t'<br> ' +\n\t\t\t\t\t\t\t\t\t\t'<b>' +\n\t\t\t\t\t\t\t\t\t\tapp.vtranslate('JS_SAVED_TO') +\n\t\t\t\t\t\t\t\t\t\t'</b>: ' +\n\t\t\t\t\t\t\t\t\t\tdisplayValue,\n\t\t\t\t\t\t\t\t\ttype: 'info',\n\t\t\t\t\t\t\t\t\ttextTrusted: true\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\tif (postSaveRecordDetails['_isViewable'] === false) {\n\t\t\t\t\t\t\t\t\tlet urlObject = app.convertUrlToObject(window.location.href);\n\t\t\t\t\t\t\t\t\tif (window !== window.parent) {\n\t\t\t\t\t\t\t\t\t\twindow.parent.location.href = 'index.php?module=' + urlObject['module'] + '&view=ListPreview';\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\twindow.location.href = 'index.php?module=' + urlObject['module'] + '&view=List';\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t} else if (\n\t\t\t\t\t\t\t\t\tpostSaveRecordDetails['_isEditable'] === false ||\n\t\t\t\t\t\t\t\t\tpostSaveRecordDetails['_reload'] === true\n\t\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\t\t$.progressIndicator({\n\t\t\t\t\t\t\t\t\t\tposition: 'html',\n\t\t\t\t\t\t\t\t\t\tblockInfo: {\n\t\t\t\t\t\t\t\t\t\t\tenabled: true\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\tif (window !== window.parent) {\n\t\t\t\t\t\t\t\t\t\twindow.location.href = window.location.href.replace('view=Detail', 'view=DetailPreview');\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\twindow.location.reload();\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tfieldElement.trigger(thisInstance.fieldUpdatedEvent, {\n\t\t\t\t\t\t\t\t\told: previousValue,\n\t\t\t\t\t\t\t\t\tnew: ajaxEditNewValue\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\tajaxEditNewValue = ajaxEditNewValue === undefined ? '' : ajaxEditNewValue; //data cannot be undefined\n\t\t\t\t\t\t\t\telementTarget.data('prevValue', ajaxEditNewValue);\n\t\t\t\t\t\t\t\tfieldElement.data('selectedValue', ajaxEditNewValue);\n\t\t\t\t\t\t\t\tif (thisInstance.targetPicklistChange) {\n\t\t\t\t\t\t\t\t\tif ($('.js-widget-general-info', thisInstance.getForm()).length > 0) {\n\t\t\t\t\t\t\t\t\t\tthisInstance.targetPicklist.find('.js-detail-quick-edit').trigger('click');\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\tthisInstance.targetPicklist.trigger('click');\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tthisInstance.targetPicklistChange = false;\n\t\t\t\t\t\t\t\t\tthisInstance.targetPicklist = false;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tlet selectedTabElement = thisInstance.getSelectedTab();\n\t\t\t\t\t\t\t\tif (selectedTabElement.data('linkKey') == thisInstance.detailViewSummaryTabLabel) {\n\t\t\t\t\t\t\t\t\tlet detailContentsHolder = thisInstance.getContentHolder();\n\t\t\t\t\t\t\t\t\tthisInstance.reloadTabContent();\n\t\t\t\t\t\t\t\t\tthisInstance.registerSummaryViewContainerEvents(detailContentsHolder);\n\t\t\t\t\t\t\t\t\tthisInstance.registerEventForRelatedList();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tthisInstance.updateRecordsPDFTemplateBtn(thisInstance.getForm());\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t.fail(function (jqXHR, textStatus, errorThrown) {\n\t\t\t\t\t\t\t\teditElement.addClass('d-none');\n\t\t\t\t\t\t\t\tdetailViewValue.removeClass('d-none');\n\t\t\t\t\t\t\t\tactionElement.removeClass('d-none');\n\t\t\t\t\t\t\t\teditElement.off('clickoutside');\n\t\t\t\t\t\t\t\treadRecord.prop('disabled', false);\n\t\t\t\t\t\t\t\tapp.showNotify({\n\t\t\t\t\t\t\t\t\ttype: 'error',\n\t\t\t\t\t\t\t\t\ttitle: app.vtranslate('JS_SAVE_NOTIFY_FAIL'),\n\t\t\t\t\t\t\t\t\ttext: textStatus\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t\teditElement.on('clickoutside', saveHandler);\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Function updates the hidden elements which is used for creating relations\n\t\t */\n\t\taddElementsToQuickCreateForCreatingRelation: function (container, customParams) {\n\t\t\tjQuery('<input type=\"hidden\" name=\"relationOperation\" value=\"true\" >').appendTo(container);\n\t\t\tjQuery.each(customParams, function (index, value) {\n\t\t\t\tjQuery('<input type=\"hidden\" name=\"' + index + '\" value=\"' + value + '\" >').appendTo(container);\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Function to register event for activity widget for adding\n\t\t * event and task from the widget\n\t\t */\n\t\tregisterEventForActivityWidget: function () {\n\t\t\tlet thisInstance = this;\n\n\t\t\t/*\n\t\t\t * Register click event for add button in Related Activities widget\n\t\t\t */\n\t\t\tjQuery('.createActivity').on('click', function (e) {\n\t\t\t\tlet referenceModuleName = 'Calendar';\n\t\t\t\tlet recordId = thisInstance.getRecordId();\n\t\t\t\tlet module = app.getModuleName();\n\t\t\t\tlet element = jQuery(e.currentTarget);\n\n\t\t\t\tlet customParams = {};\n\t\t\t\tcustomParams['sourceModule'] = module;\n\t\t\t\tcustomParams['sourceRecord'] = recordId;\n\t\t\t\tlet fullFormUrl = element.data('url');\n\t\t\t\tlet preQuickCreateSave = function (data) {\n\t\t\t\t\tthisInstance.addElementsToQuickCreateForCreatingRelation(data, customParams);\n\t\t\t\t\tlet taskGoToFullFormButton = data.find('[class^=\"CalendarQuikcCreateContents\"]').find('.js-full-editlink');\n\t\t\t\t\tlet eventsGoToFullFormButton = data.find('[class^=\"EventsQuikcCreateContents\"]').find('.js-full-editlink');\n\t\t\t\t\tlet taskFullFormUrl = taskGoToFullFormButton.data('url') + '&' + fullFormUrl;\n\t\t\t\t\tlet eventsFullFormUrl = eventsGoToFullFormButton.data('url') + '&' + fullFormUrl;\n\t\t\t\t\ttaskGoToFullFormButton.data('url', taskFullFormUrl);\n\t\t\t\t\teventsGoToFullFormButton.data('url', eventsFullFormUrl);\n\t\t\t\t};\n\t\t\t\tlet callbackFunction = function () {\n\t\t\t\t\tthisInstance.getFiltersDataAndLoad(e);\n\t\t\t\t\tthisInstance.loadWidget($('.widgetContentBlock[data-type=\"Updates\"]'));\n\t\t\t\t};\n\t\t\t\tlet QuickCreateParams = {};\n\t\t\t\tQuickCreateParams['callbackPostShown'] = preQuickCreateSave;\n\t\t\t\tQuickCreateParams['callbackFunction'] = callbackFunction;\n\t\t\t\tQuickCreateParams['data'] = Object.assign({}, customParams);\n\t\t\t\tQuickCreateParams['noCache'] = false;\n\t\t\t\tApp.Components.QuickCreate.createRecord(referenceModuleName, QuickCreateParams);\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Function to add module related record from summary widget\n\t\t */\n\t\tregisterFilterForAddingModuleRelatedRecordFromSummaryWidget: function (container) {\n\t\t\tlet thisInstance = this;\n\t\t\tcontainer\n\t\t\t\t.find('.createRecordFromFilter')\n\t\t\t\t.off()\n\t\t\t\t.on('click', function (e) {\n\t\t\t\t\tlet currentElement = jQuery(e.currentTarget);\n\t\t\t\t\tlet summaryWidgetContainer = currentElement.closest('.js-detail-widget');\n\t\t\t\t\tlet referenceModuleName = summaryWidgetContainer.data('moduleName');\n\t\t\t\t\tlet quickcreateUrl = currentElement.data('url');\n\t\t\t\t\tlet quickCreateParams = {};\n\t\t\t\t\tlet autoCompleteFields = currentElement.data('acf');\n\t\t\t\t\tlet moduleName = currentElement.closest('.js-detail-widget-header').find('[name=\"relatedModule\"]').val();\n\t\t\t\t\tlet relatedParams = {};\n\t\t\t\t\tlet postQuickCreateSave = function (data) {\n\t\t\t\t\t\tthisInstance.postSummaryWidgetAddRecord(data, currentElement);\n\t\t\t\t\t\tif (referenceModuleName == 'ProjectTask') {\n\t\t\t\t\t\t\tthisInstance.loadModuleSummary();\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t\tif (typeof autoCompleteFields !== 'undefined') {\n\t\t\t\t\t\t$.each(autoCompleteFields, function (index, value) {\n\t\t\t\t\t\t\trelatedParams[index] = value;\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\tif (Object.keys(relatedParams).length > 0) {\n\t\t\t\t\t\tquickCreateParams['data'] = relatedParams;\n\t\t\t\t\t}\n\t\t\t\t\tquickCreateParams['noCache'] = true;\n\t\t\t\t\tquickCreateParams['callbackFunction'] = postQuickCreateSave;\n\t\t\t\t\tlet progress = jQuery.progressIndicator({\n\t\t\t\t\t\tblockInfo: {\n\t\t\t\t\t\t\tenabled: true\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\tlet quickCreate;\n\t\t\t\t\tif (window !== window.parent) {\n\t\t\t\t\t\tquickCreate = window.parent.App.Components.QuickCreate;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tquickCreate = App.Components.QuickCreate;\n\t\t\t\t\t}\n\t\t\t\t\tquickCreate.getForm(quickcreateUrl, moduleName, quickCreateParams).done(function (data) {\n\t\t\t\t\t\tquickCreate.showModal(data, quickCreateParams, currentElement);\n\t\t\t\t\t\tprogress.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\tcontainer\n\t\t\t\t.find('button.selectRelation')\n\t\t\t\t.off('click')\n\t\t\t\t.on('click', function (e) {\n\t\t\t\t\tlet summaryWidgetContainer = jQuery(e.currentTarget).closest('.js-detail-widget');\n\t\t\t\t\tlet referenceModuleName = summaryWidgetContainer.data('moduleName');\n\t\t\t\t\tlet restrictionsField = $(this).data('rf');\n\t\t\t\t\tlet params = {\n\t\t\t\t\t\tmodule: referenceModuleName,\n\t\t\t\t\t\tsrc_module: app.getModuleName(),\n\t\t\t\t\t\tsrc_record: thisInstance.getRecordId(),\n\t\t\t\t\t\tmulti_select: true,\n\t\t\t\t\t\trelationId: summaryWidgetContainer.data('relationId')\n\t\t\t\t\t};\n\t\t\t\t\tif (restrictionsField && Object.keys(restrictionsField).length > 0) {\n\t\t\t\t\t\tparams['search_key'] = restrictionsField.key;\n\t\t\t\t\t\tparams['search_value'] = restrictionsField.name;\n\t\t\t\t\t}\n\t\t\t\t\tapp.showRecordsList(params, (_modal, instance) => {\n\t\t\t\t\t\tinstance.setSelectEvent((responseData) => {\n\t\t\t\t\t\t\tthisInstance\n\t\t\t\t\t\t\t\t.addRelationBetweenRecords(referenceModuleName, Object.keys(responseData), null, {\n\t\t\t\t\t\t\t\t\trelationId: params.relationId\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t.done(function () {\n\t\t\t\t\t\t\t\t\tthisInstance.loadWidget(summaryWidgetContainer.find('.widgetContentBlock'));\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t});\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t},\n\t\tregisterAddingInventoryRecords: function () {\n\t\t\tjQuery('.createInventoryRecordFromFilter').on('click', function (e) {\n\t\t\t\tlet currentElement = jQuery(e.currentTarget);\n\t\t\t\tlet createUrl = currentElement.data('url');\n\t\t\t\tlet autoCompleteFields = currentElement.data('acf');\n\t\t\t\tlet addidtionalParams = '';\n\t\t\t\tif (typeof autoCompleteFields !== 'undefined') {\n\t\t\t\t\t$.each(autoCompleteFields, function (index, value) {\n\t\t\t\t\t\taddidtionalParams = '&' + index + '=' + value;\n\t\t\t\t\t\tcreateUrl = createUrl.concat(addidtionalParams);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\twindow.location.href = createUrl;\n\t\t\t});\n\t\t},\n\t\tregisterEmailEvent: function () {\n\t\t\tthis.getContentHolder()\n\t\t\t\t.find('.resetRelationsEmail')\n\t\t\t\t.on('click', function (e) {\n\t\t\t\t\tapp.showConfirmModal({\n\t\t\t\t\t\ttitle: app.vtranslate('JS_EMAIL_RESET_RELATIONS_CONFIRMATION'),\n\t\t\t\t\t\tconfirmedCallback: () => {\n\t\t\t\t\t\t\tAppConnector.request({\n\t\t\t\t\t\t\t\tmodule: 'OSSMailView',\n\t\t\t\t\t\t\t\taction: 'Relation',\n\t\t\t\t\t\t\t\tmoduleName: app.getModuleName(),\n\t\t\t\t\t\t\t\trecord: app.getRecordId()\n\t\t\t\t\t\t\t}).done(function (d) {\n\t\t\t\t\t\t\t\tVtiger_Helper_Js.showMessage({ text: d.result });\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t},\n\t\tgetFiltersDataAndLoad: function (e, params) {\n\t\t\tlet data = this.getFiltersData(e, params);\n\t\t\tthis.loadWidget(data['container'], data['params']);\n\t\t},\n\t\tgetFiltersData: function (e, params) {\n\t\t\tlet currentElement;\n\t\t\tif (e.currentTarget) {\n\t\t\t\tcurrentElement = jQuery(e.currentTarget);\n\t\t\t} else {\n\t\t\t\tcurrentElement = e;\n\t\t\t}\n\t\t\tlet summaryWidgetContainer = currentElement.closest('.js-detail-widget');\n\t\t\tlet widget = summaryWidgetContainer.find('.widgetContentBlock');\n\t\t\tlet url = '&' + widget.data('url');\n\t\t\tlet urlParams = {};\n\t\t\turl.replace(/[?&]+([^=&]+)=([^&]*)/gi, function (m, key, value) {\n\t\t\t\turlParams[key] = value;\n\t\t\t});\n\t\t\tlet urlNewParams = [];\n\t\t\tsummaryWidgetContainer.find('.js-switch, .js-filter_field').each(function (n, item) {\n\t\t\t\tlet value = '';\n\t\t\t\tlet element = jQuery(item);\n\t\t\t\tlet name = element.data('urlparams');\n\t\t\t\tif (element.attr('type') == 'radio') {\n\t\t\t\t\tif (element.prop('checked')) {\n\t\t\t\t\t\tvalue = typeof element.data('on-val') !== 'undefined' ? element.data('on-val') : element.data('off-val');\n\t\t\t\t\t\tlet additionalParams = element.data('params');\n\t\t\t\t\t\tif (typeof additionalParams !== typeof undefined && additionalParams !== false) {\n\t\t\t\t\t\t\t$.each(additionalParams, function (paramName, paramValue) {\n\t\t\t\t\t\t\t\tif (paramName in urlNewParams) {\n\t\t\t\t\t\t\t\t\turlNewParams[paramName].push(paramValue);\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\turlNewParams[paramName] = paramValue;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tlet selectedFilter = element.find('option:selected').val();\n\t\t\t\t\tlet fieldlable = element.data('fieldlable');\n\t\t\t\t\tlet filter = element.data('filter');\n\t\t\t\t\tif (element.data('return') === 'value') {\n\t\t\t\t\t\tvalue = selectedFilter;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif (selectedFilter != fieldlable) {\n\t\t\t\t\t\t\tvalue = [[filter, 'e', selectedFilter]];\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (name && value) {\n\t\t\t\t\tif (element.data('return') === 'value') {\n\t\t\t\t\t\turlNewParams[name] = value;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif (name in urlNewParams) {\n\t\t\t\t\t\t\turlNewParams[name].push(value);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\turlNewParams[name] = [value];\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t\tif (params != undefined) {\n\t\t\t\t$.extend(urlNewParams, params);\n\t\t\t}\n\t\t\treturn { container: $(widget), params: $.extend(urlParams, urlNewParams) };\n\t\t},\n\t\tregisterChangeFilterForWidget: function () {\n\t\t\tlet thisInstance = this;\n\t\t\tjQuery('.js-switch').on('change', function (e, state) {\n\t\t\t\t$(e.currentTarget).closest('.js-switch__btn').addClass('active').siblings().removeClass('active');\n\t\t\t\tthisInstance.getFiltersDataAndLoad(e);\n\t\t\t});\n\t\t\tjQuery('.js-filter_field').on('select2:select', function (e, state) {\n\t\t\t\tthisInstance.getFiltersDataAndLoad(e);\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Function to register all the events related to summary view widgets\n\t\t */\n\t\tregisterSummaryViewContainerEvents: function (summaryViewContainer) {\n\t\t\tlet thisInstance = this;\n\t\t\tthis.registerEventForActivityWidget();\n\t\t\tthis.registerChangeFilterForWidget();\n\t\t\tthis.registerAddingInventoryRecords();\n\t\t\tthis.registerEmailEvent();\n\t\t\t/**\n\t\t\t * Function to handle the ajax edit for summary view fields\n\t\t\t */\n\t\t\tsummaryViewContainer.off('click').on('click', '.row .js-detail-quick-edit', function (e) {\n\t\t\t\tlet currentTarget = jQuery(e.currentTarget);\n\t\t\t\tcurrentTarget.addClass('d-none');\n\t\t\t\tlet currentTdElement = currentTarget.closest('.fieldValue');\n\t\t\t\tthisInstance.ajaxEditHandling(currentTdElement);\n\t\t\t});\n\t\t\t/**\n\t\t\t * Function to handle actions after ajax save in summary view\n\t\t\t */\n\t\t\tsummaryViewContainer.on(thisInstance.fieldUpdatedEvent, '.js-widget-general-info', function () {\n\t\t\t\tlet updatesWidget = summaryViewContainer.find(\"[data-type='Updates']\"),\n\t\t\t\t\tparams;\n\t\t\t\tif (updatesWidget.length) {\n\t\t\t\t\tparams = thisInstance.getFiltersData(updatesWidget);\n\t\t\t\t\tupdatesWidget.find('.btnChangesReviewedOn').parent().remove();\n\t\t\t\t\tthisInstance.loadWidget(updatesWidget, params['params']);\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tsummaryViewContainer.on('click', '.editDefaultStatus', function (e) {\n\t\t\t\tlet currentTarget = jQuery(e.currentTarget);\n\t\t\t\tcurrentTarget.popover('hide');\n\t\t\t\tlet url = currentTarget.data('url');\n\t\t\t\tif (url) {\n\t\t\t\t\tif (currentTarget.hasClass('showEdit')) {\n\t\t\t\t\t\tlet quickCreate = App.Components.QuickCreate;\n\t\t\t\t\t\tif (window !== window.parent) {\n\t\t\t\t\t\t\tquickCreate = window.parent.App.Components.QuickCreate;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tquickCreate.getForm(url, 'Calendar', { noCache: true }).done((data) => {\n\t\t\t\t\t\t\tquickCreate.showModal(\n\t\t\t\t\t\t\t\tdata,\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tcallbackFunction: () => {\n\t\t\t\t\t\t\t\t\t\tlet widget = currentTarget.closest('.widgetContentBlock');\n\t\t\t\t\t\t\t\t\t\tif (widget.length) {\n\t\t\t\t\t\t\t\t\t\t\tthisInstance.loadWidget(widget);\n\t\t\t\t\t\t\t\t\t\t\tlet updatesWidget = thisInstance.getContentHolder().find(\"[data-type='Updates']\");\n\t\t\t\t\t\t\t\t\t\t\tif (updatesWidget.length > 0) {\n\t\t\t\t\t\t\t\t\t\t\t\tthisInstance.loadWidget(updatesWidget);\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\tthisInstance.loadRelatedList();\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tthisInstance.registerRelatedModulesRecordCount();\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\tcurrentTarget\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t});\n\t\t\t\t\t} else {\n\t\t\t\t\t\tapp.showModalWindow(null, url);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t/*\n\t\t\t * Register the event to edit Description for related activities\n\t\t\t */\n\t\t\tsummaryViewContainer.on('click', '.editDescription', function (e) {\n\t\t\t\tlet currentTarget = jQuery(e.currentTarget),\n\t\t\t\t\tcurrentDiv = currentTarget.closest('.activityDescription'),\n\t\t\t\t\teditElement = currentDiv.find('.edit'),\n\t\t\t\t\tdetailViewElement = currentDiv.find('.value'),\n\t\t\t\t\tdescriptionText = currentDiv.find('.js-description-text'),\n\t\t\t\t\tdescriptionEmpty = currentDiv.find('.js-no-description'),\n\t\t\t\t\tsaveButton = currentDiv.find('.js-save-description'),\n\t\t\t\t\tcloseButton = currentDiv.find('.js-close-description'),\n\t\t\t\t\tactivityButtonContainer = currentDiv.find('.js-activity-buttons__container'),\n\t\t\t\t\tfieldnameElement = jQuery('.fieldname', editElement),\n\t\t\t\t\tfieldName = fieldnameElement.val(),\n\t\t\t\t\tfieldElement = jQuery('[name=\"' + fieldName + '\"]', editElement),\n\t\t\t\t\tcallbackFunction = () => {\n\t\t\t\t\t\tlet previousValue = fieldnameElement.data('prevValue'),\n\t\t\t\t\t\t\tajaxEditNewValue = fieldElement.val(),\n\t\t\t\t\t\t\tajaxEditNewLable = fieldElement.val(),\n\t\t\t\t\t\t\tactivityDiv = currentDiv.closest('.activityEntries'),\n\t\t\t\t\t\t\tactivityId = activityDiv.find('.activityId').val(),\n\t\t\t\t\t\t\tmoduleName = activityDiv.find('.activityModule').val(),\n\t\t\t\t\t\t\tactivityType = activityDiv.find('.activityType').val();\n\t\t\t\t\t\tif (previousValue == ajaxEditNewValue) {\n\t\t\t\t\t\t\tcloseDescription();\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tcurrentDiv.progressIndicator();\n\t\t\t\t\t\t\teditElement.add(activityButtonContainer).addClass('d-none');\n\t\t\t\t\t\t\treturn new Promise(function (resolve, reject) {\n\t\t\t\t\t\t\t\tresolve(fieldElement.validationEngine('validate'));\n\t\t\t\t\t\t\t}).then((errorExists) => {\n\t\t\t\t\t\t\t\t//If validation fails\n\t\t\t\t\t\t\t\tif (errorExists) {\n\t\t\t\t\t\t\t\t\tVtiger_Helper_Js.addClickOutSideEvent(currentDiv, callbackFunction);\n\t\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tajaxEditNewValue = fieldElement.val(); //update editor value after conversion\n\t\t\t\t\t\t\t\t\tAppConnector.request({\n\t\t\t\t\t\t\t\t\t\taction: 'SaveAjax',\n\t\t\t\t\t\t\t\t\t\trecord: activityId,\n\t\t\t\t\t\t\t\t\t\tfield: fieldName,\n\t\t\t\t\t\t\t\t\t\tvalue: ajaxEditNewValue,\n\t\t\t\t\t\t\t\t\t\tmodule: moduleName,\n\t\t\t\t\t\t\t\t\t\tactivitytype: activityType\n\t\t\t\t\t\t\t\t\t}).done(() => {\n\t\t\t\t\t\t\t\t\t\tcurrentDiv.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t\t\t\t\t\tdetailViewElement.removeClass('d-none');\n\t\t\t\t\t\t\t\t\t\tcurrentTarget.show();\n\t\t\t\t\t\t\t\t\t\tdescriptionText.html(ajaxEditNewLable);\n\t\t\t\t\t\t\t\t\t\tfieldnameElement.data('prevValue', ajaxEditNewValue);\n\t\t\t\t\t\t\t\t\t\tif (ajaxEditNewValue === '') {\n\t\t\t\t\t\t\t\t\t\t\tdescriptionEmpty.removeClass('d-none');\n\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\tdescriptionEmpty.addClass('d-none');\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tcloseDescription = function () {\n\t\t\t\t\t\tfieldElement.val(fieldnameElement.data('prevValue'));\n\t\t\t\t\t\teditElement.add(activityButtonContainer).addClass('d-none');\n\t\t\t\t\t\tdetailViewElement.removeClass('d-none');\n\t\t\t\t\t\tcurrentTarget.show();\n\t\t\t\t\t};\n\t\t\t\tApp.Fields.Text.Editor.register(currentDiv, { toolbar: 'Min' });\n\t\t\t\tcurrentTarget.hide();\n\t\t\t\tdetailViewElement.addClass('d-none');\n\t\t\t\tactivityButtonContainer.removeClass('d-none');\n\t\t\t\teditElement.removeClass('d-none').show();\n\t\t\t\tsaveButton.off('click').one('click', callbackFunction);\n\t\t\t\tcloseButton.off('click').one('click', closeDescription);\n\t\t\t});\n\n\t\t\t/*\n\t\t\t * Register click event for add button in Related widgets\n\t\t\t * to add record from widget\n\t\t\t */\n\n\t\t\t$('.changeDetailViewMode').on('click', function (e) {\n\t\t\t\tthisInstance\n\t\t\t\t\t.getTabs()\n\t\t\t\t\t.filter('[data-link-key=\"' + thisInstance.detailViewDetailsTabLabel + '\"]:not(.d-none)')\n\t\t\t\t\t.trigger('click');\n\t\t\t});\n\t\t\tthis.registerFastEditingFields();\n\t\t},\n\t\taddRelationBetweenRecords: function (relatedModule, relatedModuleRecordId, selectedTabElement, params = {}, url) {\n\t\t\tlet aDeferred = jQuery.Deferred();\n\t\t\tlet thisInstance = this;\n\t\t\tlet relatedController;\n\t\t\tif (selectedTabElement == undefined) {\n\t\t\t\tselectedTabElement = thisInstance.getSelectedTab();\n\t\t\t}\n\t\t\tif (url) {\n\t\t\t\trelatedController = Vtiger_RelatedList_Js.getInstanceByUrl(url, selectedTabElement);\n\t\t\t} else {\n\t\t\t\trelatedController = Vtiger_RelatedList_Js.getInstance(\n\t\t\t\t\tthisInstance.getRecordId(),\n\t\t\t\t\tapp.getModuleName(),\n\t\t\t\t\tselectedTabElement,\n\t\t\t\t\trelatedModule\n\t\t\t\t);\n\t\t\t}\n\t\t\trelatedController\n\t\t\t\t.addRelations(relatedModuleRecordId, params)\n\t\t\t\t.done(function (data) {\n\t\t\t\t\tlet summaryViewContainer = thisInstance.getContentHolder();\n\t\t\t\t\tlet updatesWidget = summaryViewContainer.find(\"[data-type='Updates']\");\n\t\t\t\t\tif (updatesWidget.length > 0) {\n\t\t\t\t\t\tlet params = thisInstance.getFiltersData(updatesWidget);\n\t\t\t\t\t\tupdatesWidget.find('.btnChangesReviewedOn').parent().remove();\n\t\t\t\t\t\tthisInstance.loadWidget(updatesWidget, params['params']);\n\t\t\t\t\t}\n\t\t\t\t\taDeferred.resolve(data);\n\t\t\t\t})\n\t\t\t\t.fail(function (textStatus, errorThrown) {\n\t\t\t\t\taDeferred.reject(textStatus, errorThrown);\n\t\t\t\t});\n\t\t\treturn aDeferred.promise();\n\t\t},\n\t\t/**\n\t\t * Function to handle Post actions after adding record from\n\t\t * summary view widget\n\t\t */\n\t\tpostSummaryWidgetAddRecord: function (data, currentElement) {\n\t\t\tlet summaryWidgetContainer = currentElement.closest('.js-detail-widget');\n\t\t\tlet widgetContainer = summaryWidgetContainer.find('[class^=\"widgetContainer_\"]');\n\n\t\t\tthis.loadWidget(widgetContainer);\n\t\t\tlet updatesWidget = this.getContentHolder().find(\"[data-type='Updates']\");\n\t\t\tif (updatesWidget.length > 0) {\n\t\t\t\tlet params = this.getFiltersData(updatesWidget);\n\t\t\t\tupdatesWidget.find('.btnChangesReviewedOn').parent().remove();\n\t\t\t\tthis.loadWidget(updatesWidget, params['params']);\n\t\t\t}\n\t\t},\n\t\tregisterChangeEventForModulesList: function () {\n\t\t\tjQuery('#tagSearchModulesList').on('change', function (e) {\n\t\t\t\tlet modulesSelectElement = jQuery(e.currentTarget);\n\t\t\t\tif (modulesSelectElement.val() == 'all') {\n\t\t\t\t\tjQuery('[name=\"tagSearchModuleResults\"]').removeClass('d-none');\n\t\t\t\t} else {\n\t\t\t\t\tjQuery('[name=\"tagSearchModuleResults\"]').removeClass('d-none');\n\t\t\t\t\tlet selectedOptionValue = modulesSelectElement.val();\n\t\t\t\t\tjQuery('[name=\"tagSearchModuleResults\"]')\n\t\t\t\t\t\t.filter(':not(#' + selectedOptionValue + ')')\n\t\t\t\t\t\t.addClass('d-none');\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\tregisterEventForRelatedTabClick: function () {\n\t\t\tlet thisInstance = this;\n\t\t\tlet detailContentsHolder = thisInstance.getContentHolder();\n\t\t\tlet detailContainer = detailContentsHolder.closest('div.detailViewInfo');\n\n\t\t\tjQuery('.related', detailContainer).on('click', 'li:not(.spaceRelatedList)', function (e, urlAttributes) {\n\t\t\t\tlet tabElement = jQuery(e.currentTarget);\n\t\t\t\tif (!tabElement.hasClass('dropdown')) {\n\t\t\t\t\tlet element = jQuery('<div></div>');\n\t\t\t\t\telement.progressIndicator({\n\t\t\t\t\t\tposition: 'html',\n\t\t\t\t\t\tblockInfo: {\n\t\t\t\t\t\t\tenabled: true,\n\t\t\t\t\t\t\telementToBlock: detailContainer\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\tlet url = tabElement.data('url');\n\t\t\t\t\tif (typeof urlAttributes !== 'undefined') {\n\t\t\t\t\t\tlet callBack = urlAttributes.callback;\n\t\t\t\t\t\tdelete urlAttributes.callback;\n\t\t\t\t\t}\n\t\t\t\t\tthisInstance\n\t\t\t\t\t\t.loadContents(url, urlAttributes)\n\t\t\t\t\t\t.done(function (data) {\n\t\t\t\t\t\t\tthisInstance.deSelectAllrelatedTabs();\n\t\t\t\t\t\t\tthisInstance.markTabAsSelected(tabElement);\n\t\t\t\t\t\t\tVtiger_Helper_Js.showHorizontalTopScrollBar();\n\t\t\t\t\t\t\telement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t\t\tapp.registerModal(detailContentsHolder);\n\t\t\t\t\t\t\tif (typeof callBack == 'function') {\n\t\t\t\t\t\t\t\tcallBack(data);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t//Summary tab is clicked\n\t\t\t\t\t\t\tif (tabElement.data('linkKey') == thisInstance.detailViewSummaryTabLabel) {\n\t\t\t\t\t\t\t\tthisInstance.loadWidgets();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tthisInstance.registerBasicEvents();\n\t\t\t\t\t\t\t// Let listeners know about page state change.\n\t\t\t\t\t\t\tapp.notifyPostAjaxReady();\n\t\t\t\t\t\t\tapp.event.trigger('DetailView.Tab.AfterLoad', data, thisInstance);\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.fail(function () {\n\t\t\t\t\t\t\telement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Function to get child comments\n\t\t */\n\t\tgetChildComments: function (commentId) {\n\t\t\tlet aDeferred = jQuery.Deferred();\n\t\t\tlet url =\n\t\t\t\t'module=' +\n\t\t\t\tapp.getModuleName() +\n\t\t\t\t'&view=Detail&record=' +\n\t\t\t\tthis.getRecordId() +\n\t\t\t\t'&mode=showChildComments&commentid=' +\n\t\t\t\tcommentId;\n\t\t\tlet dataObj = this.getCommentThread(url);\n\t\t\tdataObj.done(function (data) {\n\t\t\t\taDeferred.resolve(data);\n\t\t\t});\n\t\t\treturn aDeferred.promise();\n\t\t},\n\t\t/**\n\t\t * Function to get parent comment\n\t\t * @param {number} commentId\n\t\t * @returns {string}\n\t\t */\n\t\tgetParentComments(commentId) {\n\t\t\tlet aDeferred = $.Deferred(),\n\t\t\t\turl =\n\t\t\t\t\t'module=' +\n\t\t\t\t\tapp.getModuleName() +\n\t\t\t\t\t'&view=Detail&record=' +\n\t\t\t\t\tthis.getRecordId() +\n\t\t\t\t\t'&mode=showParentComments&commentid=' +\n\t\t\t\t\tcommentId;\n\t\t\tthis.getCommentThread(url).done(function (data) {\n\t\t\t\taDeferred.resolve(data);\n\t\t\t});\n\t\t\treturn aDeferred.promise();\n\t\t},\n\t\t/**\n\t\t * Function to show total records count in listview on hover\n\t\t * of pageNumber text\n\t\t */\n\t\tregisterEventForTotalRecordsCount: function () {\n\t\t\tlet thisInstance = this;\n\t\t\tlet detailContentsHolder = this.getContentHolder();\n\t\t\tdetailContentsHolder.on('click', '.totalNumberOfRecords', function (e) {\n\t\t\t\tlet element = jQuery(e.currentTarget);\n\t\t\t\tlet totalNumberOfRecords = jQuery('#totalCount').val();\n\t\t\t\telement.addClass('d-none');\n\t\t\t\telement.parent().progressIndicator({});\n\t\t\t\tif (totalNumberOfRecords == '') {\n\t\t\t\t\tlet selectedTabElement = thisInstance.getSelectedTab();\n\t\t\t\t\tlet relatedModuleName = thisInstance.getRelatedModuleName();\n\t\t\t\t\tlet relatedController = Vtiger_RelatedList_Js.getInstance(\n\t\t\t\t\t\tthisInstance.getRecordId(),\n\t\t\t\t\t\tapp.getModuleName(),\n\t\t\t\t\t\tselectedTabElement,\n\t\t\t\t\t\trelatedModuleName\n\t\t\t\t\t);\n\t\t\t\t\trelatedController.getRelatedPageCount().done(function () {\n\t\t\t\t\t\tthisInstance.showPagingInfo();\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tthisInstance.showPagingInfo();\n\t\t\t\t}\n\t\t\t\telement.parent().progressIndicator({ mode: 'hide' });\n\t\t\t});\n\t\t},\n\t\tshowPagingInfo: function () {\n\t\t\tlet totalNumberOfRecords = jQuery('#totalCount').val();\n\t\t\tlet pageNumberElement = jQuery('.pageNumbersText');\n\t\t\tlet pageRange = pageNumberElement.text();\n\t\t\tlet newPagingInfo = pageRange + ' (' + totalNumberOfRecords + ')';\n\t\t\tlet listViewEntriesCount = parseInt(jQuery('#noOfEntries').val());\n\t\t\tif (listViewEntriesCount != 0) {\n\t\t\t\tjQuery('.pageNumbersText').html(newPagingInfo);\n\t\t\t} else {\n\t\t\t\tjQuery('.pageNumbersText').html('');\n\t\t\t}\n\t\t},\n\t\tgetCustomFieldNameValueMap: function (fieldNameValueMap) {\n\t\t\treturn fieldNameValueMap;\n\t\t},\n\t\tregisterSetReadRecord: function (detailContentsHolder) {\n\t\t\tlet thisInstance = this;\n\t\t\tdetailContentsHolder.on('click', '.setReadRecord', function (e) {\n\t\t\t\tlet currentElement = jQuery(e.currentTarget);\n\t\t\t\tcurrentElement.closest('.btn-group').addClass('d-none');\n\t\t\t\tjQuery('#Accounts_detailView_fieldValue_was_read').find('.value').text(app.vtranslate('LBL_YES'));\n\t\t\t\tlet params = {\n\t\t\t\t\tmodule: app.getModuleName(),\n\t\t\t\t\taction: 'SaveAjax',\n\t\t\t\t\trecord: thisInstance.getRecordId(),\n\t\t\t\t\tfield: 'was_read',\n\t\t\t\t\tvalue: 'on'\n\t\t\t\t};\n\t\t\t\tAppConnector.request(params).done(function (data) {\n\t\t\t\t\tlet params = {\n\t\t\t\t\t\ttext: app.vtranslate('JS_SET_READ_RECORD'),\n\t\t\t\t\t\ttitle: app.vtranslate('System'),\n\t\t\t\t\t\ttype: 'info'\n\t\t\t\t\t};\n\t\t\t\t\tapp.showNotify(params);\n\t\t\t\t\tlet relatedTabKey = jQuery('.related li.active');\n\t\t\t\t\tif (\n\t\t\t\t\t\trelatedTabKey.data('linkKey') == thisInstance.detailViewSummaryTabLabel ||\n\t\t\t\t\t\trelatedTabKey.data('linkKey') == thisInstance.detailViewDetailsTabLabel\n\t\t\t\t\t) {\n\t\t\t\t\t\tthisInstance.reloadTabContent();\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\t\tregisterFastEditingFields: function () {\n\t\t\tlet thisInstance = this;\n\t\t\tlet fastEditingFiels = jQuery('.summaryWidgetFastEditing select');\n\t\t\tfastEditingFiels.on('change', function (e) {\n\t\t\t\tlet fieldElement = jQuery(e.currentTarget);\n\t\t\t\tlet fieldContainer = fieldElement.closest('.editField');\n\t\t\t\tlet progressIndicatorElement = jQuery.progressIndicator({\n\t\t\t\t\tmessage: app.vtranslate('JS_SAVE_LOADER_INFO'),\n\t\t\t\t\tposition: 'summaryWidgetFastEditing',\n\t\t\t\t\tblockInfo: {\n\t\t\t\t\t\tenabled: true\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tlet fieldName = fieldContainer.data('fieldname');\n\t\t\t\tfieldName = fieldName.replace('q_', '');\n\t\t\t\tlet fieldValue = fieldElement.val();\n\t\t\t\tlet errorExists = fieldElement.validationEngine('validate');\n\t\t\t\tif (errorExists) {\n\t\t\t\t\tfieldContainer.progressIndicator({ mode: 'hide' });\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tlet preFieldSaveEvent = jQuery.Event(thisInstance.fieldPreSave);\n\t\t\t\tfieldElement.trigger(preFieldSaveEvent, {\n\t\t\t\t\tfieldValue: fieldValue,\n\t\t\t\t\trecordId: thisInstance.getRecordId()\n\t\t\t\t});\n\t\t\t\tVtiger_Edit_Js.saveAjax(\n\t\t\t\t\tthisInstance.getCustomFieldNameValueMap({\n\t\t\t\t\t\tfield: fieldName,\n\t\t\t\t\t\tvalue: fieldValue\n\t\t\t\t\t}),\n\t\t\t\t\tfalse\n\t\t\t\t).always(() => {\n\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\tapp.showNotify({\n\t\t\t\t\t\ttitle: app.vtranslate('JS_SAVE_NOTIFY_OK'),\n\t\t\t\t\t\ttype: 'success'\n\t\t\t\t\t});\n\t\t\t\t\tthisInstance.reloadTabContent();\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\t\tregisterHelpInfo: function (form) {\n\t\t\tif (!form) {\n\t\t\t\tform = this.getForm();\n\t\t\t}\n\t\t\tapp.showPopoverElementView(form.find('.js-help-info'));\n\t\t},\n\t\t/**\n\t\t * Register related modules record cound\n\t\t * @param {jQuery} tabContainer\n\t\t */\n\t\tregisterRelatedModulesRecordCount(tabContainer) {\n\t\t\tconst moreList = $('.related .nav .dropdown-menu');\n\t\t\tlet relationContainer = tabContainer;\n\t\t\tif (!relationContainer || typeof relationContainer.length === 'undefined') {\n\t\t\t\trelationContainer = $(\n\t\t\t\t\t'.related .nav > .relatedNav, .related .nav > .mainNav, .detailViewBlockLink, .related .nav .dropdown-menu > .relatedNav'\n\t\t\t\t);\n\t\t\t}\n\t\t\trelationContainer.each((n, item) => {\n\t\t\t\titem = $(item);\n\t\t\t\tlet relationId = item.data('relationId'),\n\t\t\t\t\trelatedModule = item.data('reference');\n\t\t\t\tif (item.data('count') === 1) {\n\t\t\t\t\tAppConnector.request({\n\t\t\t\t\t\tmodule: app.getModuleName(),\n\t\t\t\t\t\taction: 'RelationAjax',\n\t\t\t\t\t\trecord: app.getRecordId(),\n\t\t\t\t\t\trelatedModule: relatedModule,\n\t\t\t\t\t\tmode: 'getRelatedListPageCount',\n\t\t\t\t\t\trelationId: relationId,\n\t\t\t\t\t\ttab_label: item.data('label-key')\n\t\t\t\t\t}).done((response) => {\n\t\t\t\t\t\tif (response.success) {\n\t\t\t\t\t\t\tif (response.result.numberOfRecords === 0) {\n\t\t\t\t\t\t\t\tresponse.result.numberOfRecords = '';\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\titem.find('.count').text(response.result.numberOfRecords);\n\t\t\t\t\t\t\tmoreList\n\t\t\t\t\t\t\t\t.find('[data-reference=\"${relatedModule}\"][data-relation-id=\"${relationId}\"] .count')\n\t\t\t\t\t\t\t\t.text(response.result.numberOfRecords);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Function to display a new comments\n\t\t */\n\t\taddComment: function (currentTarget, data) {\n\t\t\tconst self = this;\n\t\t\tlet mode = currentTarget.data('mode'),\n\t\t\t\tclosestAddCommentBlock = currentTarget.closest('.js-add-comment-block'),\n\t\t\t\tcommentTextAreaElement = closestAddCommentBlock.find('.js-comment-content'),\n\t\t\t\tcommentInfoBlock = currentTarget.closest('.js-comment-single');\n\t\t\tcommentTextAreaElement.html('');\n\t\t\tif (mode == 'add') {\n\t\t\t\tlet commentHtml = self.getCommentUI(data['result']['_recordId']);\n\t\t\t\tcommentHtml.done(function (data) {\n\t\t\t\t\tlet commentBlock = closestAddCommentBlock.closest('.js-comment-details'),\n\t\t\t\t\t\tdetailContentsHolder = self.getContentHolder(),\n\t\t\t\t\t\tnoCommentsMsgContainer = $('.js-noCommentsMsgContainer', detailContentsHolder);\n\t\t\t\t\tnoCommentsMsgContainer.remove();\n\t\t\t\t\tif (commentBlock.length > 0) {\n\t\t\t\t\t\tclosestAddCommentBlock.remove();\n\t\t\t\t\t\tlet childComments = commentBlock.find('ul');\n\t\t\t\t\t\tif (childComments.length <= 0) {\n\t\t\t\t\t\t\tlet currentChildCommentsCount = commentInfoBlock\n\t\t\t\t\t\t\t\t\t.find('.js-view-thread-block')\n\t\t\t\t\t\t\t\t\t.data('data-child-comments-count'),\n\t\t\t\t\t\t\t\tnewChildCommentCount = currentChildCommentsCount + 1;\n\t\t\t\t\t\t\tcommentInfoBlock.find('.js-child-comments-count').text(newChildCommentCount);\n\t\t\t\t\t\t\tlet parentCommentId = commentInfoBlock.find('.js-comment-info-header').data('commentid');\n\t\t\t\t\t\t\tself.getChildComments(parentCommentId).done(function (responsedata) {\n\t\t\t\t\t\t\t\t$(responsedata).appendTo(commentBlock);\n\t\t\t\t\t\t\t\tcommentInfoBlock.find('.js-view-thread-block').hide();\n\t\t\t\t\t\t\t\tcommentInfoBlock.find('.hideThreadBlock').show();\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t$('<li class=\"js-comment-details commentDetails\">' + data + '</li>').appendTo(\n\t\t\t\t\t\t\t\tcommentBlock.find('.js-comments-body')\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\t$('<li class=\"js-comment-details commentDetails\">' + data + '</li>').prependTo(\n\t\t\t\t\t\t\tclosestAddCommentBlock.closest('.contents').find('.commentsList')\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t\tcommentInfoBlock.find('.js-comment-container').show();\n\t\t\t\t\tapp.event.trigger('DetailView.SaveComment.AfterLoad', commentInfoBlock, data);\n\t\t\t\t});\n\t\t\t} else if (mode == 'edit') {\n\t\t\t\tlet modifiedTime = commentInfoBlock.find('.js-comment-modified-time'),\n\t\t\t\t\tcommentInfoContent = commentInfoBlock.find('.js-comment-info'),\n\t\t\t\t\tcommentEditStatus = commentInfoBlock.find('.js-edited-status'),\n\t\t\t\t\tcommentReason = commentInfoBlock.find('.js-edit-reason-span');\n\t\t\t\tcommentInfoContent.html(data['result']['commentcontent']['display_value']);\n\t\t\t\tcommentReason.html(data['result']['reasontoedit']['display_value']);\n\t\t\t\tmodifiedTime.html(data['result']['modifiedtime']['formatToViewDate']);\n\t\t\t\tmodifiedTime.attr('title', data['result']['modifiedtime']['formatToDay']);\n\t\t\t\tif (commentEditStatus.hasClass('d-none')) {\n\t\t\t\t\tcommentEditStatus.removeClass('d-none');\n\t\t\t\t}\n\t\t\t\tif (data['result']['reasontoedit']['display_value'] != '') {\n\t\t\t\t\tcommentInfoBlock.find('.js-edit-reason').removeClass('d-none');\n\t\t\t\t}\n\t\t\t\tcommentInfoContent.show();\n\t\t\t\tcommentInfoBlock.find('.js-comment-container').show();\n\t\t\t\tclosestAddCommentBlock.remove();\n\t\t\t\tapp.event.trigger('DetailView.SaveComment.AfterUpdate', commentInfoBlock, data);\n\t\t\t}\n\t\t},\n\t\t/**\n\t\t * Register all comment events\n\t\t * @param {jQuery} detailContentsHolder\n\t\t */\n\t\tregisterCommentEvents(detailContentsHolder) {\n\t\t\tconst self = this;\n\t\t\tdetailContentsHolder.on('click', '.js-close-comment-block', function (e) {\n\t\t\t\tlet commentInfoBlock = $(e.currentTarget.closest('.js-comment-single'));\n\t\t\t\tcommentInfoBlock.find('.js-comment-container').show();\n\t\t\t\tcommentInfoBlock.find('.js-comment-info').show();\n\t\t\t\tcommentInfoBlock.find('.js-add-comment-block').remove();\n\t\t\t});\n\t\t\tdetailContentsHolder.on('click', '.js-reply-comment', function (e) {\n\t\t\t\tlet commentInfoBlock = $(e.currentTarget).closest('.js-comment-single');\n\t\t\t\tcommentInfoBlock.find('.js-add-comment-block').remove();\n\t\t\t\tself.hideButtonAction();\n\t\t\t\tcommentInfoBlock.find('.js-comment-info').show();\n\t\t\t\tself.getCommentBlock().appendTo(commentInfoBlock).show();\n\t\t\t});\n\t\t\tdetailContentsHolder.on('click', '.js-edit-comment', function (e) {\n\t\t\t\tlet commentInfoBlock = $(e.currentTarget).closest('.js-comment-single');\n\t\t\t\tcommentInfoBlock.find('.js-add-comment-block').remove();\n\t\t\t\tself.hideButtonAction();\n\t\t\t\tlet commentInfoContent = commentInfoBlock.find('.js-comment-info'),\n\t\t\t\t\teditCommentBlock = self.getEditCommentBlock();\n\t\t\t\teditCommentBlock.find('.js-comment-content').html(commentInfoContent.html());\n\t\t\t\teditCommentBlock.find('.js-reason-to-edit').html(commentInfoBlock.find('.js-edit-reason-span').text());\n\t\t\t\tcommentInfoContent.hide();\n\t\t\t\tcommentInfoBlock.find('.js-comment-container').hide();\n\t\t\t\teditCommentBlock.appendTo(commentInfoBlock).show();\n\t\t\t});\n\t\t\tdetailContentsHolder.on('click', '.js-detail-view-save-comment', function (e) {\n\t\t\t\tlet element = $(e.currentTarget);\n\t\t\t\tif (!element.is(':disabled')) {\n\t\t\t\t\tself\n\t\t\t\t\t\t.saveComment(e)\n\t\t\t\t\t\t.done(function () {\n\t\t\t\t\t\t\tself.registerRelatedModulesRecordCount();\n\t\t\t\t\t\t\tself.loadWidget(detailContentsHolder.find(\"[data-type='Comments']\")).done(function () {\n\t\t\t\t\t\t\t\telement.removeAttr('disabled');\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.fail(function (error, err) {\n\t\t\t\t\t\t\telement.removeAttr('disabled');\n\t\t\t\t\t\t\tapp.errorLog(error, err);\n\t\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\t\t\tdetailContentsHolder.on('click', '.js-save-comment', function (e) {\n\t\t\t\tlet element = $(e.currentTarget);\n\t\t\t\tif (!element.is(':disabled')) {\n\t\t\t\t\tself\n\t\t\t\t\t\t.saveComment(e)\n\t\t\t\t\t\t.done(function (data) {\n\t\t\t\t\t\t\tself.registerRelatedModulesRecordCount(self.getTabByLabel(self.detailViewRecentCommentsTabLabel));\n\t\t\t\t\t\t\tself.addComment(element, data);\n\t\t\t\t\t\t\telement.removeAttr('disabled');\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.fail(function (error, err) {\n\t\t\t\t\t\t\telement.removeAttr('disabled');\n\t\t\t\t\t\t\tapp.errorLog(error, err);\n\t\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\t\t\tdetailContentsHolder.on('click', '.js-more-recent-comments ', function () {\n\t\t\t\tself.getTabByLabel(self.detailViewRecentCommentsTabLabel).trigger('click');\n\t\t\t});\n\t\t\tdetailContentsHolder.find('.js-detail-hierarchy-comments').on('change', function (e) {\n\t\t\t\tlet recentCommentsTab = self.getTabByLabel(self.detailViewRecentCommentsTabLabel),\n\t\t\t\t\turl = recentCommentsTab.data('url'),\n\t\t\t\t\tregex = /&hierarchy=+([\\w,]+)/;\n\t\t\t\turl = url.replace(regex, '');\n\t\t\t\tlet hierarchy = [];\n\t\t\t\tdetailContentsHolder.find('.js-detail-hierarchy-comments:checked').each(function () {\n\t\t\t\t\thierarchy.push($(this).val());\n\t\t\t\t});\n\t\t\t\tif (hierarchy.length !== 0) {\n\t\t\t\t\turl += '&hierarchy=' + hierarchy.join(',');\n\t\t\t\t}\n\t\t\t\trecentCommentsTab.data('url', url);\n\t\t\t\trecentCommentsTab.trigger('click');\n\t\t\t});\n\t\t\tdetailContentsHolder.on('keypress', '.js-comment-search', function (e) {\n\t\t\t\tif (13 === e.which) {\n\t\t\t\t\tself.submitSearchForm(detailContentsHolder);\n\t\t\t\t}\n\t\t\t});\n\t\t\tdetailContentsHolder.on('click', '.js-search-icon', function (e) {\n\t\t\t\tself.submitSearchForm(detailContentsHolder);\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Submit search comment form\n\t\t * @param {jQuery} detailContentsHolder\n\t\t */\n\t\tsubmitSearchForm(detailContentsHolder) {\n\t\t\tlet searchTextDom = detailContentsHolder.find('.js-comment-search'),\n\t\t\t\twidgetContainer = searchTextDom.closest('[data-name=\"ModComments\"]'),\n\t\t\t\tprogressIndicatorElement = $.progressIndicator();\n\t\t\tif (searchTextDom.data('container') === 'widget' && !searchTextDom.val()) {\n\t\t\t\tlet request = widgetContainer.data('url');\n\t\t\t\tAppConnector.request(request).done(function (data) {\n\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\tdetailContentsHolder.find('.js-comments-container').html(data);\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tlet hierarchy = [],\n\t\t\t\t\tlimit = '',\n\t\t\t\t\tisWidget = false;\n\t\t\t\tif (searchTextDom.data('container') === 'widget') {\n\t\t\t\t\t(limit = widgetContainer.data('limit')), (isWidget = true);\n\t\t\t\t\twidgetContainer.find('.js-hierarchy-comments:checked').each(function () {\n\t\t\t\t\t\thierarchy.push($(this).val());\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tdetailContentsHolder.find('.js-detail-hierarchy-comments:checked').each(function () {\n\t\t\t\t\t\thierarchy.push($(this).val());\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\tAppConnector.request({\n\t\t\t\t\tmodule: app.getModuleName(),\n\t\t\t\t\tview: 'Detail',\n\t\t\t\t\tmode: 'showSearchComments',\n\t\t\t\t\thierarchy: hierarchy.join(','),\n\t\t\t\t\tlimit: limit,\n\t\t\t\t\trecord: app.getRecordId(),\n\t\t\t\t\tsearch_key: searchTextDom.val(),\n\t\t\t\t\tis_widget: isWidget\n\t\t\t\t}).done(function (data) {\n\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\tif (!searchTextDom.val()) {\n\t\t\t\t\t\tdetailContentsHolder.html(data);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tdetailContentsHolder.find('.js-comments-body').html(data);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\t\t/**\n\t\t * Register hierarchy comments buttons\n\t\t * @param {jQuery} widgetContainer\n\t\t */\n\t\tregisterCommentEventsInDetail(widgetContainer) {\n\t\t\tnew App.Fields.Text.Completions($('.js-completions').eq(0));\n\t\t\twidgetContainer.on('change', '.js-hierarchy-comments', function (e) {\n\t\t\t\tlet hierarchy = [];\n\t\t\t\twidgetContainer.find('.js-hierarchy-comments').each(function () {\n\t\t\t\t\tif ($(this).is(':checked')) {\n\t\t\t\t\t\thierarchy.push($(this).val());\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tif (!hierarchy.length) {\n\t\t\t\t\twidgetContainer.find('.js-detail-widget-content').html('');\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tlet progressIndicatorElement = $.progressIndicator();\n\t\t\t\tAppConnector.request({\n\t\t\t\t\tmodule: app.getModuleName(),\n\t\t\t\t\tview: 'Detail',\n\t\t\t\t\tmode: 'showRecentComments',\n\t\t\t\t\thierarchy: hierarchy.join(','),\n\t\t\t\t\trecord: app.getRecordId(),\n\t\t\t\t\tlimit: widgetContainer.find('.widgetContentBlock').data('limit')\n\t\t\t\t}).done(function (data) {\n\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\tlet widgetDataContainer = widgetContainer.find('.js-detail-widget-content');\n\t\t\t\t\twidgetDataContainer.html(data);\n\t\t\t\t\tApp.Fields.Picklist.showSelect2ElementView(widgetDataContainer.find('.select2'));\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\t\tregisterMailPreviewWidget: function (container) {\n\t\t\tconst self = this;\n\t\t\tcontainer.on('click', '.showMailBody', (e) => {\n\t\t\t\tlet row = $(e.currentTarget).closest('.js-mail-row'),\n\t\t\t\t\tmailBody = row.find('.mailBody'),\n\t\t\t\t\tmailTeaser = row.find('.mailTeaser');\n\t\t\t\tmailBody.toggleClass('d-none');\n\t\t\t\tmailTeaser.toggleClass('d-none');\n\t\t\t});\n\t\t\tcontainer.find('[name=\"mail-type\"]').on('change', function (e) {\n\t\t\t\tself.loadMailPreviewWidget(container);\n\t\t\t});\n\t\t\tcontainer.find('[name=\"mailFilter\"]').on('change', function (e) {\n\t\t\t\tself.loadMailPreviewWidget(container);\n\t\t\t});\n\t\t\tcontainer.on('click', '.showMailsModal', (e) => {\n\t\t\t\tlet url = $(e.currentTarget).data('url');\n\t\t\t\tlet type = container.find('[name=\"mail-type\"]');\n\t\t\t\tlet typeValue = '';\n\t\t\t\tif (type.length > 0) {\n\t\t\t\t\ttypeValue = type.val();\n\t\t\t\t} else {\n\t\t\t\t\ttypeValue = 'All';\n\t\t\t\t}\n\t\t\t\turl += '&type=' + typeValue;\n\t\t\t\tif (container.find('[name=\"mailFilter\"]').length > 0) {\n\t\t\t\t\turl += '&mailFilter=' + container.find('[name=\"mailFilter\"]').val();\n\t\t\t\t}\n\t\t\t\tlet progressIndicatorElement = jQuery.progressIndicator();\n\t\t\t\tapp.showModalWindow('', url, (data) => {\n\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\tself.registerMailPreviewWidget(data);\n\t\t\t\t\tVtiger_Index_Js.registerMailButtons(data);\n\t\t\t\t\tdata.find('.expandAllMails').click();\n\t\t\t\t});\n\t\t\t});\n\t\t\tcontainer.find('.expandAllMails').on('click', function (e) {\n\t\t\t\tcontainer.find('.mailBody').removeClass('d-none');\n\t\t\t\tcontainer.find('.mailTeaser').addClass('d-none');\n\t\t\t\tcontainer.find('.showMailBody .js-toggle-icon').removeClass('fa-caret-down').addClass('fa-caret-up');\n\t\t\t});\n\t\t\tcontainer.find('.collapseAllMails').on('click', function (e) {\n\t\t\t\tcontainer.find('.mailBody').addClass('d-none');\n\t\t\t\tcontainer.find('.mailTeaser').removeClass('d-none');\n\t\t\t\tcontainer.find('.showMailBody .js-toggle-icon').removeClass('fa-caret-up').addClass('fa-caret-down');\n\t\t\t});\n\t\t\tcontainer\n\t\t\t\t.find('.showMailModal')\n\t\t\t\t.off('click')\n\t\t\t\t.on('click', function (e) {\n\t\t\t\t\te.preventDefault();\n\t\t\t\t\tlet progressIndicatorElement = jQuery.progressIndicator();\n\t\t\t\t\tapp.showModalWindow('', $(e.currentTarget).data('url') + '&noloadlibs=1', function (data) {\n\t\t\t\t\t\tVtiger_Index_Js.registerMailButtons(data);\n\t\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t},\n\t\tloadMailPreviewWidget: function (widgetContent) {\n\t\t\tlet thisInstance = this;\n\t\t\tlet widgetDataContainer = widgetContent.find('.js-detail-widget-content');\n\t\t\tlet recordId = $('#recordId').val();\n\t\t\tlet progress = widgetDataContainer.progressIndicator();\n\t\t\tlet params = {};\n\t\t\tparams['module'] = 'OSSMailView';\n\t\t\tparams['view'] = 'Widget';\n\t\t\tparams['smodule'] = $('#module').val();\n\t\t\tparams['srecord'] = recordId;\n\t\t\tparams['mode'] = 'showEmailsList';\n\t\t\tparams['type'] = $('[name=\"mail-type\"]').val();\n\t\t\tparams['mailFilter'] = $('[name=\"mailFilter\"]').val();\n\t\t\tAppConnector.request(params).done(function (data) {\n\t\t\t\twidgetDataContainer.html(data);\n\t\t\t\tapp.event.trigger('DetailView.Widget.AfterLoad', widgetDataContainer, params['module'], thisInstance);\n\t\t\t\tprogress.progressIndicator({ mode: 'hide' });\n\t\t\t});\n\t\t},\n\t\tregisterEmailEvents: function (detailContentsHolder) {\n\t\t\tVtiger_Index_Js.registerMailButtons(detailContentsHolder);\n\t\t},\n\t\tregisterMapsEvents: function (container) {\n\t\t\tif (container.find('#coordinates').length) {\n\t\t\t\tlet mapView = new OpenStreetMap_Map_Js();\n\t\t\t\tmapView.registerDetailView(container);\n\t\t\t}\n\t\t},\n\t\tregisterShowSummary: function (container) {\n\t\t\tcontainer.on('click', '.showSummaryRelRecord', function (e) {\n\t\t\t\tlet currentTarget = $(e.currentTarget);\n\t\t\t\tlet id = currentTarget.data('id');\n\t\t\t\tlet summaryView = container.find('.summaryRelRecordView' + id);\n\t\t\t\tcontainer.find('.listViewEntriesTable').css('display', 'none');\n\t\t\t\tsummaryView.show();\n\t\t\t});\n\t\t\tcontainer.on('click', '.hideSummaryRelRecordView', function (e) {\n\t\t\t\tlet summaryView = container.find('.summaryRelRecordView');\n\t\t\t\tcontainer.find('.listViewEntriesTable').css('display', 'table');\n\t\t\t\tsummaryView.hide();\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Show confirmation on event click\n\t\t * @param {jQuery} element\n\t\t * @param {string} picklistName\n\t\t */\n\t\tshowProgressConfirmation(element, picklistName) {\n\t\t\tconst picklistValue = $(element).data('picklistValue');\n\t\t\tapp.showConfirmModal({\n\t\t\t\ttitle: $(element).data('picklistLabel'),\n\t\t\t\ttext: app.vtranslate('JS_CHANGE_VALUE_CONFIRMATION'),\n\t\t\t\tconfirmedCallback: () => {\n\t\t\t\t\tVtiger_Edit_Js.saveAjax({\n\t\t\t\t\t\tvalue: picklistValue,\n\t\t\t\t\t\tfield: picklistName\n\t\t\t\t\t})\n\t\t\t\t\t\t.done((response) => {\n\t\t\t\t\t\t\tif (!response || response.success !== false) {\n\t\t\t\t\t\t\t\twindow.location.reload();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.fail(function (error, err) {\n\t\t\t\t\t\t\tapp.errorLog(error, err);\n\t\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Change status from progress\n\t\t */\n\t\tregisterProgress() {\n\t\t\tconst self = this;\n\t\t\t$('.js-header-progress-bar').each((index, element) => {\n\t\t\t\tlet picklistName = $(element).data('picklistName');\n\t\t\t\t$(element)\n\t\t\t\t\t.find('.js-access')\n\t\t\t\t\t.on('click', (e) => {\n\t\t\t\t\t\tself.showProgressConfirmation(e.currentTarget, picklistName);\n\t\t\t\t\t});\n\t\t\t});\n\t\t},\n\t\tloadChat() {\n\t\t\tlet chatVue = $('#ChatRecordRoomVue', this.detailViewContentHolder);\n\t\t\tif (chatVue.length) {\n\t\t\t\tlet chatContainer = this.detailViewContentHolder.find('.js-chat-container');\n\t\t\t\tconst padding = 10;\n\t\t\t\tchatContainer.height(\n\t\t\t\t\t$(document).height() - chatContainer.offset().top - $('.js-footer').outerHeight() - padding\n\t\t\t\t);\n\t\t\t\twindow.ChatRecordRoomVueComponent.mount({\n\t\t\t\t\tel: '#ChatRecordRoomVue'\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\t\tregisterChat() {\n\t\t\tif (window.ChatRecordRoomVueComponent !== undefined) {\n\t\t\t\tthis.loadChat();\n\t\t\t\tapp.event.on('DetailView.Tab.AfterLoad', (e, data, instance) => {\n\t\t\t\t\tinstance.detailViewContentHolder.ready(() => {\n\t\t\t\t\t\tthis.loadChat();\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\t\tregisterBasicEvents: function () {\n\t\t\tlet thisInstance = this;\n\t\t\tlet detailContentsHolder = thisInstance.getContentHolder();\n\t\t\tlet selectedTabElement = thisInstance.getSelectedTab();\n\t\t\t//register all the events for summary view container\n\n\t\t\tif (this.getSelectedTab().data('labelKey') === 'ModComments') {\n\t\t\t\tnew App.Fields.Text.Completions(detailContentsHolder.find('.js-completions'));\n\t\t\t}\n\t\t\tapp.registerBlockAnimationEvent(this.getForm());\n\t\t\tthisInstance.registerSummaryViewContainerEvents(detailContentsHolder);\n\t\t\tthisInstance.registerCommentEvents(detailContentsHolder);\n\t\t\tthisInstance.registerEmailEvents(detailContentsHolder);\n\t\t\tthisInstance.registerMapsEvents(detailContentsHolder);\n\t\t\tthisInstance.registerSubProducts(detailContentsHolder);\n\t\t\tthisInstance.registerCollapsiblePanels(detailContentsHolder);\n\t\t\tApp.Fields.Date.register(detailContentsHolder);\n\t\t\tApp.Fields.DateTime.register(detailContentsHolder);\n\t\t\tApp.Fields.MultiImage.register(detailContentsHolder);\n\t\t\tApp.Fields.Password.register(detailContentsHolder);\n\t\t\tApp.Fields.MultiAttachment.register(detailContentsHolder);\n\t\t\t//Attach time picker event to time fields\n\t\t\tapp.registerEventForClockPicker();\n\t\t\tthis.registerHelpInfo(detailContentsHolder);\n\t\t\tApp.Fields.Picklist.showSelect2ElementView(detailContentsHolder.find('select.select2'));\n\t\t\tApp.Fields.Text.Editor.register(detailContentsHolder, { toolbar: 'Min' });\n\t\t\tdetailContentsHolder.on('click', '#detailViewNextRecordButton', function (e) {\n\t\t\t\tlet url = selectedTabElement.data('url');\n\t\t\t\tlet currentPageNum = thisInstance.getRelatedListCurrentPageNum();\n\t\t\t\tlet requestedPage = parseInt(currentPageNum) + 1;\n\t\t\t\tlet nextPageUrl = url + '&page=' + requestedPage;\n\t\t\t\tthisInstance.loadContents(nextPageUrl);\n\t\t\t});\n\t\t\tdetailContentsHolder.on('click', '#detailViewPreviousRecordButton', function (e) {\n\t\t\t\tlet url = selectedTabElement.data('url');\n\t\t\t\tlet currentPageNum = thisInstance.getRelatedListCurrentPageNum();\n\t\t\t\tlet requestedPage = parseInt(currentPageNum) - 1;\n\t\t\t\tlet nextPageUrl = url + '&page=' + requestedPage;\n\t\t\t\tthisInstance.loadContents(nextPageUrl);\n\t\t\t});\n\t\t\tdetailContentsHolder.on('click', '.js-detail-quick-edit', function (e) {\n\t\t\t\tthisInstance.ajaxEditHandling(jQuery(e.currentTarget).closest('.fieldValue'));\n\t\t\t});\n\t\t\tdetailContentsHolder.on('click', 'div.recordDetails span.squeezedWell', function (e) {\n\t\t\t\tlet currentElement = jQuery(e.currentTarget);\n\t\t\t\tlet relatedLabel = currentElement.data('reference');\n\t\t\t\tjQuery('.detailViewInfo .related .nav > li[data-reference=\"' + relatedLabel + '\"]').trigger('click');\n\t\t\t});\n\t\t\tdetailContentsHolder.on('click', '.relatedPopup', function (e) {\n\t\t\t\tlet editViewObj = new Vtiger_Edit_Js();\n\t\t\t\teditViewObj.showRecordsList(e);\n\t\t\t\treturn false;\n\t\t\t});\n\t\t\tdetailContentsHolder.on('click', '.viewThread', function (e) {\n\t\t\t\tthisInstance.hideButtonAction();\n\t\t\t\tlet currentTarget = jQuery(e.currentTarget),\n\t\t\t\t\tcurrentTargetParent = currentTarget.parent(),\n\t\t\t\t\tcommentActionsBlock = currentTarget.closest('.js-comment-actions'),\n\t\t\t\t\tcurrentCommentBlock = currentTarget.closest('.js-comment-details'),\n\t\t\t\t\tulElements = currentCommentBlock.find('ul');\n\t\t\t\tif (ulElements.length > 0) {\n\t\t\t\t\tulElements.show();\n\t\t\t\t\tcommentActionsBlock.find('.hideThreadBlock').show();\n\t\t\t\t\tcurrentTargetParent.hide();\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tlet commentId = currentTarget.closest('.js-comment-div').find('.js-comment-info-header').data('commentid');\n\t\t\t\tthisInstance.getChildComments(commentId).done(function (data) {\n\t\t\t\t\tjQuery(data).appendTo(jQuery(e.currentTarget).closest('.js-comment-details'));\n\t\t\t\t\tcommentActionsBlock.find('.hideThreadBlock').show();\n\t\t\t\t\tcurrentTargetParent.hide();\n\t\t\t\t});\n\t\t\t});\n\t\t\tdetailContentsHolder.on('click', '.js-view-parent-thread', function (e) {\n\t\t\t\tlet currentTarget = jQuery(e.currentTarget),\n\t\t\t\t\tcurrentTargetParent = currentTarget.parent(),\n\t\t\t\t\tcommentId = currentTarget.closest('.js-comment-div').find('.js-comment-info-header').data('commentid');\n\t\t\t\tthisInstance.getParentComments(commentId).done(function (data) {\n\t\t\t\t\t$(e.currentTarget.closest('.js-comment-details')).html(data);\n\t\t\t\t\tcurrentTarget.closest('.js-comment-actions').find('.hideThreadBlock').show();\n\t\t\t\t\tcurrentTargetParent.hide();\n\t\t\t\t});\n\t\t\t});\n\t\t\tdetailContentsHolder.on('click', '.hideThread', function (e) {\n\t\t\t\tlet currentTarget = jQuery(e.currentTarget);\n\t\t\t\tlet currentTargetParent = currentTarget.parent();\n\t\t\t\tlet commentActionsBlock = currentTarget.closest('.js-comment-actions');\n\t\t\t\tlet currentCommentBlock = currentTarget.closest('.js-comment-details');\n\t\t\t\tcurrentCommentBlock.find('ul').hide();\n\t\t\t\tcurrentTargetParent.hide();\n\t\t\t\tcommentActionsBlock.find('.js-view-thread-block').show();\n\t\t\t});\n\t\t\tdetailContentsHolder.on('click', '.detailViewThread', function (e) {\n\t\t\t\tlet recentCommentsTab = thisInstance.getTabByLabel(thisInstance.detailViewRecentCommentsTabLabel);\n\t\t\t\tlet commentId = jQuery(e.currentTarget)\n\t\t\t\t\t.closest('.js-comment-single')\n\t\t\t\t\t.find('.js-comment-info-header')\n\t\t\t\t\t.data('commentid');\n\t\t\t\tlet commentLoad = function (data) {\n\t\t\t\t\twindow.location.href = window.location.href + '#' + commentId;\n\t\t\t\t};\n\t\t\t\trecentCommentsTab.trigger('click', { commentid: commentId, callback: commentLoad });\n\t\t\t});\n\t\t\tdetailContentsHolder.on('click', '.moreRecentRecords', function (e) {\n\t\t\t\te.preventDefault();\n\t\t\t\tlet recentCommentsTab = thisInstance.getTabByModule($(this).data('label-key'), $(this).data('relation-id'));\n\t\t\t\tif (recentCommentsTab.length) {\n\t\t\t\t\trecentCommentsTab.trigger('click');\n\t\t\t\t} else {\n\t\t\t\t\tlet currentTarget = $(e.currentTarget),\n\t\t\t\t\t\tcontainer = currentTarget.closest(\"[class^='widgetContainer_']\");\n\t\t\t\t\tif (container.length) {\n\t\t\t\t\t\tlet page = container.find('[name=\"page\"]:last').val(),\n\t\t\t\t\t\t\turl = container.data('url');\n\t\t\t\t\t\tcurrentTarget.prop('disabled', true);\n\t\t\t\t\t\turl = url.replace('&page=1', '&page=' + ++page);\n\t\t\t\t\t\tAppConnector.request(url).done(function (data) {\n\t\t\t\t\t\t\tlet dataObj = $(data),\n\t\t\t\t\t\t\t\tcontainerTable = container.find('.js-detail-widget-content table');\n\t\t\t\t\t\t\tcurrentTarget.prop('disabled', false).addClass('d-none');\n\t\t\t\t\t\t\tcontainer.find('[name=\"page\"]:last').val(dataObj.find('[name=\"page\"]').val());\n\t\t\t\t\t\t\tif (containerTable.length) {\n\t\t\t\t\t\t\t\tcontainerTable.append(dataObj.find('tbody tr'));\n\t\t\t\t\t\t\t\tif (dataObj.find('.moreRecentRecords').length) {\n\t\t\t\t\t\t\t\t\tcurrentTarget.removeClass('d-none');\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tcontainer.find('.js-detail-widget-content').append(dataObj);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t\tdetailContentsHolder.on('change', '.relatedHistoryTypes', function (e) {\n\t\t\t\tlet widgetContent = jQuery(this).closest('.widgetContentBlock').find('.widgetContent'),\n\t\t\t\t\tprogressIndicatorElement = jQuery.progressIndicator({\n\t\t\t\t\t\tposition: 'html',\n\t\t\t\t\t\tblockInfo: {\n\t\t\t\t\t\t\tenabled: true,\n\t\t\t\t\t\t\telementToBlock: widgetContent\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\tAppConnector.request({\n\t\t\t\t\tmodule: app.getModuleName(),\n\t\t\t\t\tview: 'Detail',\n\t\t\t\t\trecord: app.getRecordId(),\n\t\t\t\t\tmode: 'showRecentRelation',\n\t\t\t\t\tpage: 1,\n\t\t\t\t\tlimit: widgetContent.find('.js-relatedHistoryPageLimit').val(),\n\t\t\t\t\ttype: $(e.currentTarget).val()\n\t\t\t\t}).done(function (data) {\n\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\twidgetContent.find('#relatedHistoryCurrentPage').remove();\n\t\t\t\t\twidgetContent.find('#moreRelatedUpdates').remove();\n\t\t\t\t\twidgetContent.html(data);\n\t\t\t\t\tVtiger_Index_Js.registerMailButtons(widgetContent);\n\t\t\t\t});\n\t\t\t});\n\t\t\tdetailContentsHolder.on('click', '.moreProductsService', function () {\n\t\t\t\tjQuery('.related .mainNav[data-reference=\"ProductsAndServices\"]:not(.d-none)').trigger('click');\n\t\t\t});\n\t\t\tdetailContentsHolder.on('click', '.moreRelatedUpdates', function () {\n\t\t\t\tlet widgetContainer = jQuery(this).closest('.widgetContentBlock');\n\t\t\t\tlet widgetContent = widgetContainer.find('.widgetContent');\n\t\t\t\tlet progressIndicatorElement = jQuery.progressIndicator({\n\t\t\t\t\tposition: 'html',\n\t\t\t\t\tblockInfo: {\n\t\t\t\t\t\tenabled: true,\n\t\t\t\t\t\telementToBlock: widgetContent\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tlet currentPage = widgetContent.find('#relatedHistoryCurrentPage').val();\n\t\t\t\tlet nextPage = parseInt(currentPage) + 1;\n\t\t\t\tlet types = widgetContainer.find('.relatedHistoryTypes').val();\n\t\t\t\tlet pageLimit = widgetContent.find('#relatedHistoryPageLimit').val();\n\t\t\t\tAppConnector.request({\n\t\t\t\t\tmodule: app.getModuleName(),\n\t\t\t\t\tview: 'Detail',\n\t\t\t\t\trecord: app.getRecordId(),\n\t\t\t\t\tmode: 'showRecentRelation',\n\t\t\t\t\tpage: nextPage,\n\t\t\t\t\tlimit: pageLimit,\n\t\t\t\t\ttype: types\n\t\t\t\t}).done(function (data) {\n\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\twidgetContent.find('#relatedHistoryCurrentPage').remove();\n\t\t\t\t\twidgetContent.find('#moreRelatedUpdates').remove();\n\t\t\t\t\twidgetContent.find('#relatedUpdates').append(data);\n\t\t\t\t});\n\t\t\t});\n\t\t\tdetailContentsHolder.on('click', '.moreRecentUpdates', function (e) {\n\t\t\t\tconst container = $(e.currentTarget).closest('.recentActivitiesContainer');\n\t\t\t\tlet newChange = container.find('#newChange').val(),\n\t\t\t\t\tnextPage = parseInt(container.find('#updatesCurrentPage').val()) + 1,\n\t\t\t\t\turl;\n\t\t\t\tif (container.closest('.js-detail-widget').length) {\n\t\t\t\t\tlet data = thisInstance.getFiltersData(\n\t\t\t\t\t\te,\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tpage: nextPage,\n\t\t\t\t\t\t\ttab_label: 'LBL_UPDATES',\n\t\t\t\t\t\t\tnewChange: newChange\n\t\t\t\t\t\t},\n\t\t\t\t\t\tcontainer.find('#updates')\n\t\t\t\t\t);\n\t\t\t\t\turl = data['params'];\n\t\t\t\t} else {\n\t\t\t\t\turl = thisInstance.getTabByLabel(thisInstance.detailViewRecentUpdatesTabLabel).data('url');\n\t\t\t\t\turl = url.replace('&page=1', '&page=' + nextPage) + '&skipHeader=true&newChange=' + newChange;\n\t\t\t\t\tif (url.indexOf('&whereCondition') === -1) {\n\t\t\t\t\t\tlet switchBtn = jQuery('.active .js-switch--recentActivities');\n\t\t\t\t\t\turl +=\n\t\t\t\t\t\t\t'&whereCondition=' +\n\t\t\t\t\t\t\t(typeof switchBtn.data('on-val') === 'undefined' ? switchBtn.data('off-val') : switchBtn.data('on-val'));\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tAppConnector.request(url).done(function (data) {\n\t\t\t\t\tlet dataContainer = jQuery(data);\n\t\t\t\t\tcontainer.find('#newChange').val(dataContainer.find('#newChange').val());\n\t\t\t\t\tcontainer.find('#updatesCurrentPage').val(dataContainer.find('#updatesCurrentPage').val());\n\t\t\t\t\tcontainer.find('.js-more-link').html(dataContainer.find('.js-more-link').html());\n\t\t\t\t\tcontainer.find('#updates ul').append(dataContainer.find('#updates ul').html());\n\t\t\t\t\tapp.event.trigger('DetailView.UpdatesWidget.AddMore', data, thisInstance);\n\t\t\t\t});\n\t\t\t});\n\t\t\tdetailContentsHolder.on('click', '.btnChangesReviewedOn', function (e) {\n\t\t\t\tlet progressInstance = jQuery.progressIndicator({\n\t\t\t\t\tposition: 'html',\n\t\t\t\t\tblockInfo: {\n\t\t\t\t\t\tenabled: true\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tlet url = 'index.php?module=ModTracker&action=ChangesReviewedOn&record=' + app.getRecordId();\n\t\t\t\tAppConnector.request(url).done(function (data) {\n\t\t\t\t\tprogressInstance.progressIndicator({ mode: 'hide' });\n\t\t\t\t\tjQuery(e.currentTarget).parent().remove();\n\t\t\t\t\tthisInstance.getTabByLabel(thisInstance.detailViewRecentUpdatesTabLabel).find('.count.badge').text('');\n\t\t\t\t\tif (selectedTabElement.data('labelKey') == thisInstance.detailViewRecentUpdatesTabLabel) {\n\t\t\t\t\t\tthisInstance.reloadTabContent();\n\t\t\t\t\t} else if (selectedTabElement.data('linkKey') == thisInstance.detailViewSummaryTabLabel) {\n\t\t\t\t\t\tlet updatesWidget = detailContentsHolder.find(\"[data-type='Updates']\");\n\t\t\t\t\t\tif (updatesWidget.length > 0) {\n\t\t\t\t\t\t\tlet params = thisInstance.getFiltersData(updatesWidget);\n\t\t\t\t\t\t\tthisInstance.loadWidget(updatesWidget, params['params']);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t\t\tdetailContentsHolder.on('click', '.moreRecentDocuments', function () {\n\t\t\t\tlet recentDocumentsTab = thisInstance.getTabByLabel(thisInstance.detailViewRecentDocumentsTabLabel);\n\t\t\t\trecentDocumentsTab.trigger('click');\n\t\t\t});\n\t\t\tdetailContentsHolder.on('click', '.moreRecentActivities', function (e) {\n\t\t\t\tlet currentTarget = $(e.currentTarget);\n\t\t\t\tcurrentTarget.prop('disabled', true);\n\t\t\t\tlet container = currentTarget.closest('.activityWidgetContainer');\n\t\t\t\tlet page = container.find('.currentPage').val();\n\t\t\t\tlet records = container.find('.countActivities').val();\n\t\t\t\tlet data = thisInstance.getFiltersData(e, { page: ++page });\n\t\t\t\tAppConnector.request({\n\t\t\t\t\ttype: 'POST',\n\t\t\t\t\tasync: false,\n\t\t\t\t\tdataType: 'html',\n\t\t\t\t\tdata: data['params']\n\t\t\t\t}).done(function (data) {\n\t\t\t\t\tcurrentTarget.prop('disabled', false);\n\t\t\t\t\tcurrentTarget.addClass('d-none');\n\t\t\t\t\tcontainer.find('.currentPage').remove();\n\t\t\t\t\tcontainer.find('.countActivities').remove();\n\t\t\t\t\tcontainer.find('.js-detail-widget-content').append(data);\n\t\t\t\t\tlet newRecords = container.find('.countActivities').val();\n\t\t\t\t\tcontainer.find('.countActivities').val(parseInt(newRecords) + parseInt(records));\n\t\t\t\t\tthisInstance.reloadWidgetActivitesStats(container);\n\t\t\t\t});\n\t\t\t});\n\t\t\tdetailContentsHolder.on('click', '.widgetFullscreen', function (e) {\n\t\t\t\tlet currentTarget = $(e.currentTarget);\n\t\t\t\tlet widgetContentBlock = currentTarget.closest('.widgetContentBlock');\n\t\t\t\tlet url = widgetContentBlock.data('url');\n\t\t\t\turl = url.replace('&view=Detail&', '&view=WidgetFullscreen&');\n\t\t\t\tlet progressIndicatorElement = jQuery.progressIndicator({\n\t\t\t\t\tposition: 'html',\n\t\t\t\t\tblockInfo: {\n\t\t\t\t\t\tenabled: true\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tapp.showModalWindow(null, 'index.php?' + url, function (modal) {\n\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t});\n\t\t\t});\n\t\t\tthisInstance.registerEventForRelatedList();\n\t\t\tthisInstance.registerMailPreviewWidget(detailContentsHolder.find('.widgetContentBlock[data-type=\"EmailList\"]'));\n\t\t\tthisInstance.registerMailPreviewWidget(\n\t\t\t\tdetailContentsHolder.find('.widgetContentBlock[data-type=\"HistoryRelation\"]')\n\t\t\t);\n\t\t\tdetailContentsHolder\n\t\t\t\t.find('.js-switch--recentActivities')\n\t\t\t\t.off()\n\t\t\t\t.on('change', function (e) {\n\t\t\t\t\tconst currentTarget = jQuery(e.currentTarget),\n\t\t\t\t\t\ttabElement = thisInstance.getTabByLabel(thisInstance.detailViewRecentUpdatesTabLabel),\n\t\t\t\t\t\tvariableName = currentTarget.data('urlparams'),\n\t\t\t\t\t\tvalueOn = $(this).data('on-val'),\n\t\t\t\t\t\tvalueOff = $(this).data('off-val');\n\t\t\t\t\tlet url = tabElement.data('url');\n\t\t\t\t\turl = url.replace('&' + variableName + '=' + valueOn, '').replace('&' + variableName + '=' + valueOff, '');\n\t\t\t\t\tif (typeof currentTarget.data('on-val') !== 'undefined') {\n\t\t\t\t\t\turl += '&' + variableName + '=' + valueOn;\n\t\t\t\t\t} else if (typeof currentTarget.data('off-val') !== 'undefined') {\n\t\t\t\t\t\turl += '&' + variableName + '=' + valueOff;\n\t\t\t\t\t}\n\t\t\t\t\ttabElement.data('url', url);\n\t\t\t\t\ttabElement.trigger('click');\n\t\t\t\t});\n\t\t\tapp.registerIframeEvents(detailContentsHolder);\n\t\t\tapp.registerBlockToggleEvent(detailContentsHolder);\n\t\t},\n\t\treloadWidgetActivitesStats: function (container) {\n\t\t\tlet countElement = container.find('.countActivities');\n\t\t\tlet totalElement = container.find('.totaltActivities');\n\t\t\tlet switchBtn = container.find('.active .js-switch');\n\t\t\tif (!switchBtn.length) {\n\t\t\t\tswitchBtn = container.find('.js-switch.previousMark');\n\t\t\t} else {\n\t\t\t\tcontainer.find('.js-switch').removeClass('previousMark');\n\t\t\t\tswitchBtn.addClass('previousMark');\n\t\t\t}\n\t\t\tcontainer.find('.js-switch').toggleClass('previousMark');\n\t\t\tif (!countElement.length || !totalElement.length || totalElement.val() === '') {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tlet stats = ' (' + countElement.val() + '/' + totalElement.val() + ')';\n\t\t\tlet switchBtnParent = switchBtn.parent();\n\t\t\tlet text = switchBtn.data('basic-text') + stats;\n\t\t\tswitchBtnParent.removeTextNode();\n\t\t\tswitchBtnParent.append(text);\n\t\t},\n\t\trefreshCommentContainer: function (commentId) {\n\t\t\tlet thisInstance = this;\n\t\t\tlet commentContainer = $('.commentsBody');\n\t\t\tlet params = {\n\t\t\t\tmodule: app.getModuleName(),\n\t\t\t\tview: 'Detail',\n\t\t\t\trecord: thisInstance.getRecordId(),\n\t\t\t\tmode: 'showThreadComments',\n\t\t\t\tcommentid: commentId\n\t\t\t};\n\t\t\tlet progressIndicatorElement = jQuery.progressIndicator({\n\t\t\t\tposition: 'html',\n\t\t\t\tblockInfo: {\n\t\t\t\t\tenabled: true,\n\t\t\t\t\telementToBlock: commentContainer\n\t\t\t\t}\n\t\t\t});\n\t\t\tAppConnector.request(params).done(function (data) {\n\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\tcommentContainer.html(data);\n\t\t\t});\n\t\t},\n\t\tupdateRecordsPDFTemplateBtn: function (form) {\n\t\t\tconst thisInstance = this;\n\t\t\tlet btnToolbar = $('.js-btn-toolbar .js-pdf');\n\t\t\tif (btnToolbar.length) {\n\t\t\t\tAppConnector.request({\n\t\t\t\t\tdata: {\n\t\t\t\t\t\tmodule: app.getModuleName(),\n\t\t\t\t\t\taction: 'PDF',\n\t\t\t\t\t\tmode: 'hasValidTemplate',\n\t\t\t\t\t\trecord: app.getRecordId(),\n\t\t\t\t\t\tview: app.getViewName()\n\t\t\t\t\t},\n\t\t\t\t\tdataType: 'json'\n\t\t\t\t})\n\t\t\t\t\t.done(function (data) {\n\t\t\t\t\t\tif (data['result'].valid === false) {\n\t\t\t\t\t\t\tbtnToolbar.addClass('d-none');\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tbtnToolbar.removeClass('d-none');\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t\t.fail(function (data, err) {\n\t\t\t\t\t\tapp.errorLog(data, err);\n\t\t\t\t\t});\n\t\t\t}\n\t\t},\n\t\tupdateWindowHeight: function (currentHeight, frame) {\n\t\t\tframe.height(currentHeight);\n\t\t},\n\t\tloadSubProducts: function (parentRow) {\n\t\t\tconst thisInstance = this;\n\t\t\tlet recordId = parentRow.data('product-id'),\n\t\t\t\tsubProrductParams = {\n\t\t\t\t\tmodule: 'Products',\n\t\t\t\t\taction: 'SubProducts',\n\t\t\t\t\trecord: recordId\n\t\t\t\t};\n\t\t\tAppConnector.request(subProrductParams).done(function (data) {\n\t\t\t\tlet responseData = data.result;\n\t\t\t\tthisInstance.addSubProducts(parentRow, responseData);\n\t\t\t});\n\t\t},\n\t\taddSubProducts: function (parentRow, responseData) {\n\t\t\tlet subProductsContainer = $('.js-subproducts-container ul', parentRow);\n\t\t\tfor (let id in responseData) {\n\t\t\t\tlet productText = $('<li>').text(responseData[id]);\n\t\t\t\tsubProductsContainer.append(productText);\n\t\t\t}\n\t\t},\n\t\tregisterSubProducts: function (container) {\n\t\t\tconst thisInstance = this;\n\t\t\tcontainer.find('.inventoryItems .js-inventory-row').each(function (index) {\n\t\t\t\tthisInstance.loadSubProducts($(this), false);\n\t\t\t});\n\t\t},\n\t\tregisterCollapsiblePanels(detailViewContainer) {\n\t\t\tconst panels = detailViewContainer.find('.js-detail-widget-collapse');\n\t\t\tconst storageName = `yf-${app.getModuleName()}-detail-widgets`;\n\t\t\tif (Quasar.plugins.LocalStorage.has(storageName)) {\n\t\t\t\tthis.setPanels({ panels, storageName });\n\t\t\t} else {\n\t\t\t\tpanels.collapse('show');\n\t\t\t\tlet panelsStorage = {};\n\t\t\t\tpanels.each((i, item) => {\n\t\t\t\t\tpanelsStorage[item.dataset.storageId] = 'shown';\n\t\t\t\t});\n\t\t\t\tQuasar.plugins.LocalStorage.set(storageName, panelsStorage);\n\t\t\t}\n\t\t\tpanels.on('hidden.bs.collapse shown.bs.collapse', (e) => {\n\t\t\t\tthis.updatePanelsStorage({ id: e.target.dataset.storageKey, type: e.type, storageName });\n\t\t\t});\n\t\t\tpanels.on('hide.bs.collapse show.bs.collapse', function (e) {\n\t\t\t\t$(e.currentTarget).siblings('.js-detail-widget-header').toggleClass('collapsed');\n\t\t\t});\n\t\t},\n\t\tsetPanels({ panels, storageName }) {\n\t\t\tconst panelsStorage = Quasar.plugins.LocalStorage.getItem(storageName);\n\t\t\tpanels.each((i, item) => {\n\t\t\t\tif (\n\t\t\t\t\tpanelsStorage[item.dataset.storageKey] === 'shown' ||\n\t\t\t\t\tundefined === panelsStorage[item.dataset.storageKey]\n\t\t\t\t) {\n\t\t\t\t\t$(item).collapse('show');\n\t\t\t\t\t$(item).siblings('.js-detail-widget-header').toggleClass('collapsed');\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\tupdatePanelsStorage({ id, type, storageName }) {\n\t\t\tconst panelsStorage = Quasar.plugins.LocalStorage.getItem(storageName);\n\t\t\tpanelsStorage[id] = type;\n\t\t\tQuasar.plugins.LocalStorage.set(storageName, panelsStorage);\n\t\t},\n\t\tregisterSendPdfFromPdfViewer: function (container) {\n\t\t\tcontainer.find('.js-email-pdf').on('click', function (e) {\n\t\t\t\tlet selectedPdfTemplate = $(e.currentTarget).closest('.js-detail-widget').find('.js-pdf-viewer-template').val();\n\t\t\t\tlet url = $(this).attr('data-url');\n\t\t\t\tif (url && selectedPdfTemplate && selectedPdfTemplate > 0) {\n\t\t\t\t\twindow.open(url + selectedPdfTemplate, '_blank');\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Register keyboard shortcuts events\n\t\t * @param {jQuery} container\n\t\t */\n\t\tregisterKeyboardShortcutsEvent: function (container) {\n\t\t\tdocument.addEventListener('keydown', (event) => {\n\t\t\t\tif (event.shiftKey && event.ctrlKey && event.code === 'KeyD') {\n\t\t\t\t\tcontainer.find('.js-duplicate-btn').trigger('click');\n\t\t\t\t}\n\t\t\t\tif (event.shiftKey && event.ctrlKey && event.code === 'KeyE' && container.find('.js-edit-btn').length) {\n\t\t\t\t\tcontainer.find('.js-edit-btn').trigger('click');\n\t\t\t\t}\n\t\t\t\tif (event.shiftKey && event.ctrlKey && event.code === 'KeyW' && container.find('.js-edit-btn').length) {\n\t\t\t\t\tApp.Components.QuickEdit.showModal({\n\t\t\t\t\t\tmodule: app.getModuleName(),\n\t\t\t\t\t\trecord: app.getRecordId(),\n\t\t\t\t\t\tremoveFromUrl: 'step'\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\tregisterEvents: function () {\n\t\t\tthis.registerSendSmsSubmitEvent();\n\t\t\tthis.registerAjaxEditEvent();\n\t\t\tthis.registerRelatedRowClickEvent();\n\t\t\tthis.registerBlockStatusCheckOnLoad();\n\t\t\tthis.registerEventForRelatedTabClick();\n\t\t\tVtiger_Helper_Js.showHorizontalTopScrollBar();\n\t\t\tthis.registerUrlFieldClickEvent();\n\t\t\tlet detailViewContainer = jQuery('div.detailViewContainer');\n\t\t\tif (detailViewContainer.length <= 0) {\n\t\t\t\t// Not detail view page\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tthis.registerWidgetProductAndServices();\n\t\t\tthis.registerSetReadRecord(detailViewContainer);\n\t\t\tthis.getForm().validationEngine(app.validationEngineOptionsForRecord);\n\t\t\tthis.loadWidgetsEvents();\n\t\t\tthis.loadWidgets();\n\t\t\tthis.registerBasicEvents();\n\t\t\tthis.registerEventForTotalRecordsCount();\n\t\t\tthis.registerProgress();\n\t\t\tthis.registerChat(detailViewContainer);\n\t\t\tthis.registerSendPdfFromPdfViewer(detailViewContainer);\n\t\t\tthis.registerKeyboardShortcutsEvent(detailViewContainer);\n\t\t\tApp.Components.ActivityNotifier.register(detailViewContainer);\n\t\t}\n\t}\n);\n"],"names":["_typeof","obj","Symbol","iterator","constructor","prototype","ownKeys","object","enumerableOnly","keys","Object","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","target","source","i","arguments","length","forEach","key","_defineProperty","getOwnPropertyDescriptors","defineProperties","defineProperty","value","_toPropertyKey","configurable","writable","arg","_toPrimitive","String","input","hint","prim","toPrimitive","res","call","TypeError","Number","jQuery","Class","detailInstance","getInstance","Vtiger_Detail_Js","instance","moduleClassName","app","getModuleName","getViewName","window","triggerDetailViewAction","detailActionUrl","callBackFunction","selectedIds","getRecordId","postData","selected_ids","JSON","stringify","AppConnector","request","type","url","dataType","data","done","showModalWindow","\"text-align\"","fail","triggerSMSmodal","App","Components","QuickCreate","createRecord","noCache","triggerTransferOwnership","massActionUrl","thisInstance","getRelatedModulesContainer","callback","params","validationEngineOptions","onValidationComplete","form","valid","attr","transferOwnershipSave","validationEngine","selectElement","getRelatedModuleContainer","Fields","Picklist","changeSelectElementView","transferOwner","val","relatedModules","recordId","module","action","record","transferOwnerId","related_modules","success","hideModalWindow","title","vtranslate","text","oldValue","element","find","removeAttr","trigger","fieldName","closest","html","showNotify","reloadRelatedList","page","loadRelatedList","runRecordChanger","id","mode","location","reload","jqXHR","textStatus","showWorkflowTriggerView","$","popover","treeInstance","jstree","core","parse","themes","name","responsive","icons","checkbox","three_state","plugins","on","tasks","selected","each","index","treeElement","record_id","parent","user","loadWidgets","view","targetPicklistChange","targetPicklist","detailViewContentHolder","detailViewForm","detailViewDetailsTabLabel","detailViewSummaryTabLabel","detailViewRecentCommentsTabLabel","detailViewRecentActivitiesTabLabel","detailViewRecentUpdatesTabLabel","detailViewRecentDocumentsTabLabel","fieldUpdatedEvent","updatedFields","fieldPreSave","tempData","init","loadWidgetsEvents","event","e","widgetContent","relatedModuleName","reloadWidgetActivitesStats","registerCommentEventsInDetail","registerShowSummary","Vtiger_Index_Js","registerMailButtons","preventDefault","progressIndicatorElement","progressIndicator","currentTarget","registerEmailEvents","registerBlockStatusCheckOnLoad","registerCollapsiblePanels","_this","container","getForm","widgetList","widget","is","loadWidget","validationEngineOptionsForRecord","registerRelatedModulesRecordCount","widgetContainer","contentContainer","registerFilterForAddingModuleRelatedRecordFromSummaryWidget","urlParams","queryParameters","split","keyValueMap","queryParamComponents","aDeferred","Deferred","async","showSelect2ElementView","registerModal","DropFile","register","relatedController","Vtiger_RelatedList_Js","getInstanceByUrl","getSelectedTab","setRelatedContainer","registerRelatedEvents","widgetRelatedRecordView","chart","Vtiger_Widget_Js","widgetInstance","postLoadWidget","resolve","reject","promise","registerWidgetProductAndServices","recordsToAdd","src_record","related_module","showRecordsList","_","setSelectEvent","reloadTabContent","load","cacheKey","relatedRecordCacheID","moduleCacheGet","newActive","removeClass","addClass","controlBox","prev","next","active","hasClass","nextElement","moduleCacheSet","prevElement","loadContents","detailContentsHolder","getContentHolder","requestPjax","responseData","Date","getUpdateFieldsArray","getTabByLabel","tabLabel","tabs","getTabs","targetTab","tab","labelKey","getTabByModule","moduleName","relationId","selectModuleTab","relatedTabContainer","getTabContainer","moduleTab","deSelectAllrelatedTabs","markTabAsSelected","tabElement","tabContainer","topTabs","dropdownMenuTabs","iteration","className","get","getRelatedModuleName","getRelatedListCurrentPageNum","hideButtonAction","getCommentThread","saveCommentAjax","commentMode","commentContentValue","editCommentReason","commentId","parentCommentId","commentInfoBlock","relatedTo","commentcontent","related_to","fromView","reasontoedit","parent_comments","addRelationBetweenRecords","result","_recordId","errorThrown","saveComment","errorMsg","closestCommentBlock","commentContent","commentInfoHeader","getCommentUI","getCommentBlock","clonedCommentBlock","clone","getEditCommentBlock","Text","Completions","registerSendSmsSubmitEvent","smsTextLength","submitButton","SendSmsSave","progressInstance","position","blockInfo","enabled","SendSmsUrl","serializeFormData","registerNameAjaxEditEvent","nameFields","recordLabel","nameFieldName","recordLabelElement","updateHeaderNameFields","nameField","salutatioField","salutatioValue","registerAjaxEditEvent","updateHeaderValues","currentElement","inArray","registerUrlFieldClickEvent","stopPropagation","registerRelatedRowClickEvent","targetElement","children","elem","recordUrl","href","relatedListInstance","registerEventForRelatedList","self","n","block","reloadDetailViewBlock","parents","blockContent","isEmpty","response","registerPostLoadEvents","registerListEvents","blocks","currentBlock","dynamicAttr","headerAnimationElement","not","bodyContents","blockId","cacheGet","ajaxEditHandling","currentTdElement","readRecord","detailViewValue","editElement","actionElement","fieldElement","prop","elementTarget","elementName","inputmask","focus","saveHandler","toStr","v","previousValue","ajaxEditNewValue","fieldInfo","Vtiger_Field_Js","dateTimeField","dateTime","field","off","preFieldSaveEvent","Event","fieldValue","isDefaultPrevented","Vtiger_Edit_Js","saveAjax","getCustomFieldNameValueMap","postSaveRecordDetails","displayValue","display_value","prevDisplayValue","prev_display_value","label","textTrusted","_isViewable","urlObject","convertUrlToObject","_isEditable","_reload","replace","old","new","selectedTabElement","registerSummaryViewContainerEvents","updateRecordsPDFTemplateBtn","addElementsToQuickCreateForCreatingRelation","customParams","appendTo","registerEventForActivityWidget","referenceModuleName","sourceModule","sourceRecord","fullFormUrl","preQuickCreateSave","taskGoToFullFormButton","eventsGoToFullFormButton","taskFullFormUrl","eventsFullFormUrl","callbackFunction","getFiltersDataAndLoad","QuickCreateParams","callbackPostShown","assign","summaryWidgetContainer","quickcreateUrl","quickCreateParams","autoCompleteFields","relatedParams","postQuickCreateSave","postSummaryWidgetAddRecord","loadModuleSummary","quickCreate","progress","showModal","restrictionsField","src_module","multi_select","search_key","search_value","_modal","registerAddingInventoryRecords","createUrl","addidtionalParams","concat","registerEmailEvent","showConfirmModal","confirmedCallback","d","Vtiger_Helper_Js","showMessage","getFiltersData","m","urlNewParams","item","selectedFilter","fieldlable","additionalParams","paramName","paramValue","extend","registerChangeFilterForWidget","state","siblings","summaryViewContainer","updatesWidget","remove","currentDiv","detailViewElement","descriptionText","descriptionEmpty","saveButton","closeButton","activityButtonContainer","fieldnameElement","ajaxEditNewLable","activityDiv","activityId","activityType","closeDescription","add","Promise","then","errorExists","addClickOutSideEvent","activitytype","show","Editor","toolbar","hide","one","registerFastEditingFields","relatedModule","relatedModuleRecordId","addRelations","registerChangeEventForModulesList","modulesSelectElement","selectedOptionValue","registerEventForRelatedTabClick","detailContainer","urlAttributes","elementToBlock","callBack","showHorizontalTopScrollBar","registerBasicEvents","notifyPostAjaxReady","getChildComments","dataObj","getParentComments","registerEventForTotalRecordsCount","totalNumberOfRecords","getRelatedPageCount","showPagingInfo","pageNumberElement","pageRange","newPagingInfo","listViewEntriesCount","parseInt","fieldNameValueMap","registerSetReadRecord","relatedTabKey","fastEditingFiels","fieldContainer","message","always","registerHelpInfo","showPopoverElementView","moreList","relationContainer","tab_label","numberOfRecords","addComment","closestAddCommentBlock","commentTextAreaElement","commentHtml","commentBlock","noCommentsMsgContainer","childComments","currentChildCommentsCount","newChildCommentCount","responsedata","prependTo","modifiedTime","commentInfoContent","commentEditStatus","commentReason","modifiedtime","formatToViewDate","formatToDay","registerCommentEvents","editCommentBlock","error","err","errorLog","recentCommentsTab","regex","hierarchy","join","which","submitSearchForm","searchTextDom","limit","isWidget","is_widget","eq","widgetDataContainer","registerMailPreviewWidget","row","mailBody","mailTeaser","toggleClass","loadMailPreviewWidget","typeValue","click","smodule","srecord","mailFilter","registerMapsEvents","mapView","OpenStreetMap_Map_Js","registerDetailView","summaryView","css","showProgressConfirmation","picklistName","picklistValue","registerProgress","loadChat","chatVue","chatContainer","padding","height","document","offset","top","outerHeight","ChatRecordRoomVueComponent","mount","el","registerChat","_this2","ready","registerBlockAnimationEvent","registerSubProducts","DateTime","MultiImage","Password","MultiAttachment","registerEventForClockPicker","currentPageNum","requestedPage","nextPageUrl","relatedLabel","editViewObj","currentTargetParent","commentActionsBlock","currentCommentBlock","ulElements","commentLoad","commentid","containerTable","append","currentPage","nextPage","types","pageLimit","newChange","indexOf","switchBtn","dataContainer","recentDocumentsTab","records","newRecords","widgetContentBlock","modal","variableName","valueOn","valueOff","registerIframeEvents","registerBlockToggleEvent","countElement","totalElement","stats","switchBtnParent","removeTextNode","refreshCommentContainer","commentContainer","btnToolbar","updateWindowHeight","currentHeight","frame","loadSubProducts","parentRow","subProrductParams","addSubProducts","subProductsContainer","productText","detailViewContainer","_this3","panels","storageName","Quasar","LocalStorage","has","setPanels","collapse","panelsStorage","dataset","storageId","set","updatePanelsStorage","storageKey","_ref","getItem","_ref2","registerSendPdfFromPdfViewer","selectedPdfTemplate","open","registerKeyboardShortcutsEvent","addEventListener","shiftKey","ctrlKey","code","QuickEdit","removeFromUrl","registerEvents","ActivityNotifier"],"mappings":";;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uFACA,YAAY,CAAC,SAAAA,OAAAA,CAAAC,GAAA,CAAAD,CAAAA,yBAAAA,CAAAA,OAAAA,OAAA,oBAAAE,MAAA,EAAA,QAAA,EAAA,OAAAA,MAAA,CAAAC,QAAA,UAAAF,GAAA,CAAA,CAAA,OAAA,OAAAA,GAAA,CAAAA,CAAAA,SAAAA,GAAA,SAAAA,GAAA,EAAA,UAAA,EAAA,OAAAC,MAAA,EAAAD,GAAA,CAAAG,WAAA,GAAAF,MAAA,EAAAD,GAAA,GAAAC,MAAA,CAAAG,SAAA,CAAAJ,QAAAA,CAAAA,OAAAA,GAAA,EAAAD,OAAA,CAAAC,GAAA,CAAAK,CAAAA,SAAAA,OAAAA,CAAAC,MAAA,CAAAC,cAAA,MAAAC,IAAA,CAAAC,MAAA,CAAAD,IAAA,CAAAF,MAAA,CAAA,CAAA,GAAAG,MAAA,CAAAC,qBAAA,MAAAC,OAAA,CAAAF,MAAA,CAAAC,qBAAA,CAAAJ,MAAA,CAAA,CAAAC,cAAA,GAAAI,OAAA,CAAAA,OAAA,CAAAC,MAAA,CAAAC,SAAAA,GAAA,SAAAJ,MAAA,CAAAK,wBAAA,CAAAR,MAAA,CAAAO,GAAA,CAAA,CAAAE,UAAA,CAAAP,CAAAA,CAAAA,CAAAA,IAAA,CAAAQ,IAAA,CAAAC,KAAA,CAAAT,IAAA,CAAAG,OAAA,EAAA,CAAA,OAAAH,IAAA,CAAAU,SAAAA,aAAAA,CAAAC,MAAA,CAAAC,CAAAA,IAAAA,IAAAA,MAAA,CAAAC,CAAA,CAAA,CAAA,CAAAA,CAAA,CAAAC,SAAA,CAAAC,MAAA,CAAAF,CAAA,EAAAD,CAAAA,MAAA,OAAAE,SAAA,CAAAD,CAAA,CAAAC,CAAAA,EAAAA,CAAAA,SAAA,CAAAD,CAAA,CAAA,CAAAA,CAAA,CAAAhB,CAAAA,CAAAA,OAAA,CAAAI,MAAA,CAAAW,MAAA,CAAAI,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,OAAA,UAAAC,GAAA,CAAA,CAAAC,eAAA,CAAAP,MAAA,CAAAM,GAAA,CAAAL,MAAA,CAAAK,GAAA,MAAAhB,MAAA,CAAAkB,yBAAA,CAAAlB,MAAA,CAAAmB,gBAAA,CAAAT,MAAA,CAAAV,MAAA,CAAAkB,yBAAA,CAAAP,MAAA,CAAAf,CAAAA,CAAAA,OAAA,CAAAI,MAAA,CAAAW,MAAA,CAAAI,CAAAA,CAAAA,OAAA,UAAAC,GAAA,CAAA,CAAAhB,MAAA,CAAAoB,cAAA,CAAAV,MAAA,CAAAM,GAAA,CAAAhB,MAAA,CAAAK,wBAAA,CAAAM,MAAA,CAAAK,GAAA,aAAAN,MAAA,CAAA,SAAAO,gBAAA1B,GAAA,CAAAyB,GAAA,CAAAK,KAAA,SAAAL,GAAA,CAAAM,cAAA,CAAAN,GAAA,EAAAA,GAAA,IAAAzB,GAAA,CAAAS,MAAA,CAAAoB,cAAA,CAAA7B,GAAA,CAAAyB,GAAA,EAAAK,KAAA,CAAAA,KAAA,CAAAf,UAAA,IAAAiB,YAAA,CAAA,CAAA,CAAA,CAAAC,QAAA,CAAAjC,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,GAAA,CAAAyB,GAAA,CAAA,CAAAK,KAAA,CAAA9B,GAAA,UAAA+B,cAAAG,CAAAA,GAAA,MAAAT,GAAA,CAAAU,YAAA,CAAAD,GAAA,6BAAAnC,OAAA,CAAA0B,GAAA,CAAAA,CAAAA,GAAA,CAAAW,MAAA,CAAAX,GAAA,CAAAU,CAAAA,SAAAA,YAAAA,CAAAE,KAAA,CAAAC,IAAA,gBAAAvC,OAAA,CAAAsC,KAAA,CAAAA,EAAAA,IAAAA,GAAAA,KAAA,QAAAA,KAAA,CAAA,IAAAE,IAAA,CAAAF,KAAA,CAAApC,MAAA,CAAAuC,WAAA,CAAAD,CAAAA,GAAAA,IAAA,eAAAE,GAAA,CAAAF,IAAA,CAAAG,IAAA,CAAAL,KAAA,CAAAC,IAAA,EAAAvC,SAAAA,CAAAA,CAAAA,GAAAA,QAAAA,GAAAA,OAAA,CAAA0C,GAAA,CAAA,CAAA,OAAAA,GAAA,CAAAE,MAAAA,IAAAA,SAAA,oEAAAL,IAAA,CAAAF,MAAA,CAAAQ,MAAA,EAAAP,KAAA,CAAA,CAEbQ,MAAM,CAACC,KAAK,CACX,kBAAkB,CAClB,CACCC,cAAc,CAAA,CAAA,CAAO,CACrBC,WAAW,CAAE,SAAAA,WAAA,EAAY,CACxB,GAAI,CAAA,CAAA,EAAAC,gBAAgB,CAACF,cAAuB,CAAE,CAC7C,IACCG,QAAQ,CADLC,eAAe,CAAGC,GAAG,CAACC,aAAa,EAAE,CAAG,GAAG,CAAGD,GAAG,CAACE,WAAW,EAAE,CAAG,KAAK,CAK1EJ,QAAQ,CAH8B,WAAW,EAA9C,OAAOK,MAAM,CAACJ,eAAe,CAAiB,CAGtC,IAAIF,gBAAkB,CAFtB,IAAIM,MAAM,CAACJ,eAAe,CAAG,CAIzCF,gBAAgB,CAACF,cAAc,CAAGG,SACnC,CACA,OAAOD,gBAAgB,CAACF,cACzB,CAAC;AAEH;AACA;AACA,KACES,uBAAuB,CAAE,SAAAA,uBAAUC,CAAAA,eAAe,CAAEC,gBAAgB,CAAE,CACjE,IAAAX,cAAc,CAAGE,gBAAgB,CAACD,WAAW,EAAE,CAC/CW,WAAW,CAAG,EAAE,CACpBA,WAAW,CAAC3C,IAAI,CAAC+B,cAAc,CAACa,WAAW,EAAE,CAAC,CAC1C,IAAAC,QAAQ,CAAG,CACdC,YAAY,CAAEC,IAAI,CAACC,SAAS,CAACL,WAAW,CACzC,CAAC,CAQDM,YAAY,CAACC,OAAO,CAPD,CAClBC,IAAI,CAAE,MAAM,CACZC,GAAG,CAAEX,eAAe,CACpBY,QAAQ,CAAE,MAAM,CAChBC,IAAI,CAAET,QACP,CAEiC,CAAC,CAChCU,IAAI,CAAC,SAAUD,IAAI,CAAE,CACjBA,IAAI,GACPlB,GAAG,CAACoB,eAAe,CAACF,IAAI,CAAE,CAAEG,YAAA,CAAc,MAAO,CAAC,CAAC,CACpB,UAAU,EAArC,OAAOf,gBAA8B,EACxCA,gBAAgB,CAACY,IAAI,CAAC,EAGzB,CAAC,CAAC,CACDI,IAAI,CAAC,UAAsB,EAAE,EAChC,CAAC;AAEH;AACA,KACEC,eAAe,CAAE,SAAAA,eAAAA,EAAM,CACtBC,GAAG,CAACC,UAAU,CAACC,WAAW,CAACC,YAAY,CAAC,aAAa,CAAE,CAAEC,OAAO,CAAO,CAAA,CAAA,CAAC,EACzE,CAAC,CACDC,wBAAwB,CAAE,SAAAA,wBAAAA,CAAUC,aAAa,CAAE,CAClD,IAAIC,YAAY,CAAG,IAAI,CACvBA,YAAY,CAACC,0BAA0B,CAAA,CAAA,CAAQ,CAO/CnB,YAAY,CAACC,OAAO,CAND,CAClBC,IAAI,CAAE,MAAM,CACZC,GAAG,CAAEc,aAAa,CAClBb,QAAQ,CAAE,MAAM,CAChBC,IAAI,CAAE,EACP,CACiC,CAAC,CAACC,IAAI,CAAC,SAAUD,IAAI,CAAE,CACvD,GAAIA,IAAI,CAAE,CACT,IAAIe,QAAQ,CAAG,UAAgB,CAC9B,IAAIC,MAAM,CAAApE,aAAA,CAAQkC,EAAAA,CAAAA,GAAG,CAACmC,uBAAuB,CAAE,CAC/CD,MAAM,CAACE,oBAAoB,CAAG,SAAUC,IAAI,CAAEC,KAAK,CAAE,CAMpD,OALIA,KAAK,EACiB,aAAa,EAAlCD,IAAI,CAACE,IAAI,CAAC,MAAM,CAAkB,EACrCR,YAAY,CAACS,qBAAqB,CAACH,IAAI,CAAC,GAI3C,CAAC,CACD5C,MAAM,CAAC,cAAc,CAAC,CAACgD,gBAAgB,CAACP,MAAM,EAC/C,CAAC,CACDlC,GAAG,CAACoB,eAAe,CAACF,IAAI,CAAE,SAAUA,IAAI,CAAE,CACzC,IAAIwB,aAAa,CAAGX,YAAY,CAACY,yBAAyB,EAAE,CAC5DnB,GAAG,CAACoB,MAAM,CAACC,QAAQ,CAACC,uBAAuB,CAACJ,aAAa,CAAE,SAAS,CAAC,CAC9C,UAAU,EAA7B,OAAOT,QAAsB,EAChCA,QAAQ,CAACf,IAAI,EAEf,CAAC,EACF,CACD,CAAC,EACF,CAAC,CACDsB,qBAAqB,CAAE,SAAAA,qBAAA,EAAgB,CAClC,IAAAO,aAAa,CAAGtD,MAAM,CAAC,kBAAkB,CAAC,CAACuD,GAAG,EAAE,CAChDC,cAAc,CAAGxD,MAAM,CAAC,kBAAkB,CAAC,CAACuD,GAAG,EAAE,CACjDE,QAAQ,CAAGzD,MAAM,CAAC,WAAW,CAAC,CAACuD,GAAG,EAAE,CACpCd,MAAM,CAAG,CACZiB,MAAM,CAAEnD,GAAG,CAACC,aAAa,EAAE,CAC3BmD,MAAM,CAAE,mBAAmB,CAC3BC,MAAM,CAAEH,QAAQ,CAChBI,eAAe,CAAEP,aAAa,CAC9BQ,eAAe,CAAEN,cAClB,CAAC,CACDpC,YAAY,CAACC,OAAO,CAACoB,MAAM,CAAC,CAACf,IAAI,CAAC,SAAUD,IAAI,CAAE,CACjD,GAAIA,IAAI,CAACsC,OAAO,CAAE,CACjBxD,GAAG,CAACyD,eAAe,EAAE,KACjBvB,OAAM,CAAG,CACZwB,KAAK,CAAE1D,GAAG,CAAC2D,UAAU,CAAC,YAAY,CAAC,CACnCC,IAAI,CAAE5D,GAAG,CAAC2D,UAAU,CAAC,qCAAqC,CAAC,CAC3D5C,IAAI,CAAE,MACP,CAAC,CACG8C,QAAQ,CAAGpE,MAAM,CAAC,mBAAmB,CAAC,CAACuD,GAAG,EAAE,CAC5Cc,OAAO,CAAGrE,MAAM,CAAC,oBAAoB,CAAC,CAE1CqE,OAAO,CAACC,IAAI,CAAC,iBAAgB,CAAGF,QAAQ,CAAG,KAAI,CAAC,CAACG,UAAU,CAAC,UAAU,CAAC,CACvEF,OAAO,CAACC,IAAI,CAAC,iBAAgB,CAAGhB,aAAa,CAAG,KAAI,CAAC,CAACR,IAAI,CAAC,UAAU,CAAE,UAAU,CAAC,CAClFuB,OAAO,CAACG,OAAO,CAAC,eAAe,CAAC,CAChC,IAAIC,SAAS,CAAGJ,OAAO,CAACC,IAAI,CAAC,iBAAgB,CAAGhB,aAAa,CAAG,KAAI,CAAC,CAAC7B,IAAI,CAAC,eAAe,CAAC,CAC3F4C,OAAO,CACLK,OAAO,CAAC,YAAY,CAAC,CACrBJ,IAAI,CAAC,QAAQ,CAAC,CACdK,IAAI,CACJ,kFAAiF,CAChFrB,aAAa,CACb,KAAI,CACJmB,SAAS,CACT,MACF,CAAC,CAEFlE,GAAG,CAACqE,UAAU,CAACnC,OAAM,EACtB,CACD,CAAC,EACF,CAAC;AAEH;AACA,KACES,yBAAyB,CAAE,SAAAA,yBAAA,EAAY,CAItC,OAHI,CAAA,CAAA,EAAA,IAAI,CAACX,0BAAmC,GAC3C,IAAI,CAACA,0BAA0B,CAAGvC,MAAM,CAAC,kBAAkB,CAAC,CAEtD,CAAA,IAAI,CAACuC,0BACb,CAAC,CACDsC,iBAAiB,CAAE,SAAAA,iBAAA,EAAY,CAC1B,IAAA3E,cAAc,CAAGE,gBAAgB,CAACD,WAAW,EAAE,CAC/CsC,MAAM,CAAG,EAAE,CACgC,CAAC,CAA5CzC,MAAM,CAAC,2BAAyB,CAAC,CAACtB,MAAU,GAC/C+D,MAAM,CAACqC,IAAI,CAAG9E,MAAM,CAAC,2BAAyB,CAAC,CAACuD,GAAG,EAAE,CAEtDrD,CAAAA,cAAc,CAAC6E,eAAe,CAACtC,MAAM,EACtC,CAAC,CACDuC,gBAAgB,CAAE,SAAAA,gBAAAA,CAAUC,EAAE,CAAE,CAC/B7D,YAAY,CAACC,OAAO,CAAC,CACpBqC,MAAM,CAAEnD,GAAG,CAACC,aAAa,EAAE,CAC3BoD,MAAM,CAAErD,GAAG,CAACQ,WAAW,EAAE,CACzB4C,MAAM,CAAE,MAAM,CACduB,IAAI,CAAE,eAAe,CACrBD,EAAE,CAAEA,EACL,CAAC,CAAC,CACAvD,IAAI,CAAC,UAAY,CACjBhB,MAAM,CAACyE,QAAQ,CAACC,MAAM,GACvB,CAAC,CAAC,CACDvD,IAAI,CAAC,SAAUwD,KAAK,CAAEC,UAAU,CAAe,CAC/C/E,GAAG,CAACqE,UAAU,CAAC,CACdtD,IAAI,CAAE,OAAO,CACb6C,IAAI,CAAEmB,UACP,CAAC,EACF,CAAC,EACH,CAAC,CACDC,uBAAuB,CAAE,SAAAA,uBAAUlF,CAAAA,QAAQ,CAAE,CAC5C,IAAIgE,OAAO,CAAGmB,CAAC,CAACnF,QAAQ,CAAC,CACzBgE,OAAO,CAACoB,OAAO,CAAC,MAAM,CAAC,CACvB,IAAMvF,cAAc,CAAGE,gBAAgB,CAACD,WAAW,EAAE,CACpDqC,QAAQ,CAAG,SAAUf,IAAI,CAAE,CAC1B,IAAIiE,YAAY,CAAGjE,IAAI,CAAC6C,IAAI,CAAC,uBAAuB,CAAC,CACrDoB,YAAY,CAACC,MAAM,CAAC,CACnBC,IAAI,CAAE,CACLnE,IAAI,CAAEP,IAAI,CAAC2E,KAAK,CAACpE,IAAI,CAAC6C,IAAI,CAAC,wBAAwB,CAAC,CAACf,GAAG,EAAE,CAAC,CAC3DuC,MAAM,CAAE,CACPC,IAAI,CAAE,QAAQ,CACdC,UAAU,CAAM,CAAA,CAAA,CAChBC,KAAK,CACN,CAAA,CAAA,CACD,CAAC,CACDC,QAAQ,CAAE,CACTC,WAAW,CACZ,CAAA,CAAA,CAAC,CACDC,OAAO,CAAE,CAAC,QAAQ,CAAE,UAAU,CAC/B,CAAC,CAAC,CACF3E,IAAI,CAAC6C,IAAI,CAAC,mBAAiB,CAAC,CAAC+B,EAAE,CAAC,OAAO,CAAE,UAAY,CAChD,IAAAC,KAAK,CAAG,EAAE,CACVC,QAAQ,CAAGb,YAAY,CAACC,MAAM,CAAC,aAAa,CAAM,CAAA,CAAA,CAAC,CACvDH,CAAC,CAACgB,IAAI,CAACD,QAAQ,CAAE,SAAUE,KAAK,CAAEC,WAAW,CAAE,CACrB,QAAQ,GAA7BA,WAAW,CAAC5D,IAAiB,GAChCwD,KAAK,CAACI,WAAW,CAACC,SAAS,CAAC,CAAG,EAAE,EAEnC,CAAC,CAAC,CACFnB,CAAC,CAACgB,IAAI,CAACD,QAAQ,CAAE,SAAUE,KAAK,CAAEC,WAAW,CAAE,CAC1CJ,KAAK,CAACI,WAAW,CAACE,MAAM,CAAC,SAAc,EAAyB,MAAM,GAA3BF,WAAW,CAAC5D,IAAe,EACzEwD,KAAK,CAACI,WAAW,CAACE,MAAM,CAAC,CAACzI,IAAI,CAACuI,WAAW,CAACC,SAAS,EAEtD,CAAC,CAAC,CACgC,CAAC,GAA/B/I,MAAM,CAACD,IAAI,CAAC2I,KAAK,CAAC,CAAC5H,MAAY,CAClC6B,GAAG,CAACqE,UAAU,CAAC,CACdX,KAAK,CAAE1D,GAAG,CAAC2D,UAAU,CAAC,gBAAgB,CAAC,CACvCC,IAAI,CAAE5D,GAAG,CAAC2D,UAAU,CAAC,kCAAkC,CAAC,CACxD5C,IAAI,CAAE,OACP,CAAC,CAAC,EAEFf,GAAG,CAACqE,UAAU,CAAC,CACdX,KAAK,CAAE1D,GAAG,CAAC2D,UAAU,CAAC,YAAY,CAAC,CACnCC,IAAI,CAAE5D,GAAG,CAAC2D,UAAU,CAAC,6BAA6B,CAAC,CACnD5C,IAAI,CAAE,MACP,CAAC,CAAC,CACFF,YAAY,CAACC,OAAO,CAAC,CACpBqC,MAAM,CAAEW,OAAO,CAAC5C,IAAI,CAAC,QAAQ,CAAC,EAAIlB,GAAG,CAACC,aAAa,EAAE,CACrDmD,MAAM,CAAE,UAAU,CAClBuB,IAAI,CAAE,SAAS,CACf2B,IAAI,CAAEpF,IAAI,CAAC6C,IAAI,CAAC,iBAAe,CAAC,CAACf,GAAG,EAAE,CACtCK,MAAM,CAAES,OAAO,CAAC5C,IAAI,CAAC,IAAI,CAAC,EAAIvB,cAAc,CAACa,WAAW,EAAE,CAC1DuF,KAAK,CAAEpF,IAAI,CAACC,SAAS,CAACmF,KAAK,CAC5B,CAAC,CAAC,CACA5E,IAAI,CAAC,UAAY,CACjBnB,GAAG,CAACqE,UAAU,CAAC,CACdX,KAAK,CAAE1D,GAAG,CAAC2D,UAAU,CAAC,YAAY,CAAC,CACnCC,IAAI,CAAE5D,GAAG,CAAC2D,UAAU,CAAC,+BAA+B,CAAC,CACrD5C,IAAI,CAAE,SACP,CAAC,CAAC,CACFf,GAAG,CAACyD,eAAe,EAAE,CACrB9D,cAAc,CAAC4G,WAAW,GAC3B,CAAC,CAAC,CACDjF,IAAI,CAAC,UAAY,CACjBtB,GAAG,CAACqE,UAAU,CAAC,CACdX,KAAK,CAAE1D,GAAG,CAAC2D,UAAU,CAAC,UAAU,CAAC,CACjCC,IAAI,CAAE5D,GAAG,CAAC2D,UAAU,CAAC,qCAAqC,CAAC,CAC3D5C,IAAI,CAAE,OACP,CAAC,CAAC,CACFf,GAAG,CAACyD,eAAe,GACpB,CAAC,CAAC,EAEL,CAAC,EACF,CAAC,CACF5C,YAAY,CAACC,OAAO,CAAC,CACpBqC,MAAM,CAAEW,OAAO,CAAC5C,IAAI,CAAC,QAAQ,CAAC,EAAIlB,GAAG,CAACC,aAAa,EAAE,CACrDuG,IAAI,CAAE,iBAAiB,CACvBnD,MAAM,CAAES,OAAO,CAAC5C,IAAI,CAAC,IAAI,CAAC,EAAIvB,cAAc,CAACa,WAAW,EACzD,CAAC,CAAC,CAACW,IAAI,CAAC,SAAUD,IAAI,CAAE,CACnBA,IAAI,EACPlB,GAAG,CAACoB,eAAe,CAACF,IAAI,CAAE,EAAE,CAAEe,QAAQ,EAExC,CAAC,EACF,CACD,CAAC,CACD,CACCwE,oBAAoB,CAAA,CAAA,CAAO,CAC3BC,cAAc,CAAA,CAAA,CAAO,CACrBC,uBAAuB,CAAA,CAAA,CAAO,CAC9BC,cAAc,GAAO,CACrBC,yBAAyB,CAAE,oBAAoB,CAC/CC,yBAAyB,CAAE,oBAAoB,CAC/CC,gCAAgC,CAAE,aAAa,CAC/CC,kCAAkC,CAAE,YAAY,CAChDC,+BAA+B,CAAE,aAAa,CAC9CC,iCAAiC,CAAE,WAAW,CAC9CC,iBAAiB,CAAE,sBAAsB;AAEzCC,aAAa,CAAE,CAAC,SAAS,CAAE,aAAa,CAAE,OAAO,CAAC;AAElDC,YAAY,CAAE,sBAAsB,CACpCC,QAAQ,CAAE,EAAE;AAEZC,IAAI,CAAE,SAAAA,IAAAA,EAAY,EAAE,CACpBC,iBAAiB,CAAE,SAAAA,mBAAY,CAC9B,IAAMzF,YAAY,CAAG,IAAI,CACzB/B,GAAG,CAACyH,KAAK,CAAC3B,EAAE,CAAC,6BAA6B,CAAE,SAAU4B,CAAC,CAAEC,aAAa,CAAEC,iBAAiB,CAAY,CAC1E,UAAU,GAAhCA,iBAAgC,EACnC7F,YAAY,CAAC8F,0BAA0B,CAACF,aAAa,CAACxD,OAAO,CAAC,0BAA0B,CAAC,CAAC,CAEjE,aAAa,GAAnCyD,iBAAmC,EACtC7F,YAAY,CAAC+F,6BAA6B,CAACH,aAAa,CAACxD,OAAO,CAAC,yBAAyB,CAAC,CAAC,CAEzFwD,aAAa,CAAC5D,IAAI,CAAC,0BAAwB,CAAC,CAAC5F,MAAM,EACtD4D,YAAY,CAACgG,mBAAmB,CAACJ,aAAa,CAAC,CAEtB,aAAa,GAAnCC,iBAAmC,GACtCI,eAAe,CAACC,mBAAmB,CAACN,aAAa,CAAC,CAClDA,aAAa,CAAC5D,IAAI,CAAC,gBAAgB,CAAC,CAAC+B,EAAE,CAAC,OAAO,CAAE,SAAU4B,CAAC,CAAE,CAC7DA,CAAC,CAACQ,cAAc,EAAE,CAClB,IAAIC,wBAAwB,CAAG1I,MAAM,CAAC2I,iBAAiB,EAAE,CACzDpI,GAAG,CAACoB,eAAe,CAAC,EAAE,CAAE6D,CAAC,CAACyC,CAAC,CAACW,aAAa,CAAC,CAACnH,IAAI,CAAC,KAAK,CAAC,CAAG,eAAe,CAAE,SAAUA,IAAI,CAAE,CACzF8G,eAAe,CAACC,mBAAmB,CAAC/G,IAAI,CAAC,CACzCiH,wBAAwB,CAACC,iBAAiB,CAAC,CAAEzD,IAAI,CAAE,MAAO,CAAC,EAC5D,CAAC,EACF,CAAC,CAAC,EAEH5C,YAAY,CAACuG,mBAAmB,CAACX,aAAa,CAAC,CACrB,YAAY,GAAlCC,iBAAkC,EACrC7F,YAAY,CAACwG,8BAA8B,EAAE,CAE9CxG,YAAY,CAACyG,yBAAyB,CAACb,aAAa,CAACxD,OAAO,CAAC,mBAAmB,CAAC,EAClF,CAAC,EACF,CAAC,CACDoC,WAAW,CAAE,SAAAA,WAAAA,EAAY,CAAAkC,IAAAA,KAAA,MACpBC,SAAS,CAAG,IAAI,CAACC,OAAO,EAAE,CAC1BC,UAAU,CAAGnJ,MAAM,CAAC,+BAA6B,CAAC,CAClDtB,MAAM,CAAGyK,UAAU,CAACzK,MAAM,CAC9ByK,UAAU,CAAC3C,IAAI,CAAC,SAACC,KAAK,CAAE2C,MAAM,CAAK,CAClCA,MAAM,CAAG5D,CAAC,CAAC4D,MAAM,CAAC,CACdA,MAAM,CAACC,EAAE,CAAC,UAAU,CAAC,EACxBL,KAAI,CAACM,UAAU,CAACF,MAAM,CAAC,CAEpB1K,MAAM,GAAK+H,KAAK,CAAG,CAAC,GACvBwC,SAAS,CAACjG,gBAAgB,CAAC,QAAQ,CAAC,CACpCiG,SAAS,CAACjG,gBAAgB,CAACzC,GAAG,CAACgJ,gCAAgC,CAAC,EAElE,CAAC,CAAC,CACF,IAAI,CAACC,iCAAiC,GACvC,CAAC,CACDF,UAAU,CAAE,SAAAA,WAAUG,eAAe,CAAEhH,MAAM,CAAE,CAAA,IAG1C0F,iBAAiB,CAFf7F,YAAY,CAAG,IAAI,CACxBoH,gBAAgB,CAAGlE,CAAC,CAAC,2BAA2B,CAAEiE,eAAe,CAAC,CAQnE,GANA,IAAI,CAACE,2DAA2D,CAACF,eAAe,CAAC,CAEhFtB,iBAAiB,CADdsB,eAAe,CAACnF,IAAI,CAAC,0BAAwB,CAAC,CAAC5F,MAAM,CACpC+K,eAAe,CAACnF,IAAI,CAAC,0BAAwB,CAAC,CAACf,GAAG,EAAE,CAEpDkG,eAAe,CAAChI,IAAI,CAAC,MAAM,CAAC,CAE7C,KAAA,CAAA,GAAAgB,MAAoB,CAAE,CACzB,IAAImH,SAAS,CAAGH,eAAe,CAAChI,IAAI,CAAC,KAAK,CAAC,CAC3C,GAAI,IAAA,EAAAmI,SAAsB,CACzB,OAED,IAECnD,KAAK,CAFFoD,eAAe,CAAGD,SAAS,CAACE,KAAK,CAAC,GAAG,CAAC,CACzCC,WAAW,CAAG,EAAE,CAEjB,IAAKtD,KAAK,CAAG,CAAC,CAAEA,KAAK,CAAGoD,eAAe,CAACnL,MAAM,CAAE+H,KAAK,EAAE,CAAE,CACxD,IAAIuD,oBAAoB,CAAGH,eAAe,CAACpD,KAAK,CAAC,CAACqD,KAAK,CAAC,GAAG,CAAC,CAC5DC,WAAW,CAACC,oBAAoB,CAAC,CAAC,CAAC,CAAC,CAAGA,oBAAoB,CAAC,CAAC,EAC9D,CACAvH,MAAM,CAAGsH,YACV,CACA,IAAIE,SAAS,CAAGzE,CAAC,CAAC0E,QAAQ,EAAE,CAoC5B,OAnCAR,gBAAgB,CAACf,iBAAiB,CAAC,EAAE,CAAC,CACtCvH,YAAY,CAACC,OAAO,CAAC,CACpBC,IAAI,CAAE,MAAM,CACZ6I,KAAK,CAAO,CAAA,CAAA,CACZ3I,QAAQ,CAAE,MAAM,CAChBC,IAAI,CAAEgB,MACP,CAAC,CAAC,CACAf,IAAI,CAAC,SAAUD,IAAI,CAAE,CAMrB,GALAiI,gBAAgB,CAACf,iBAAiB,CAAC,CAAEzD,IAAI,CAAE,MAAO,CAAC,CAAC,CACpDwE,gBAAgB,CAAC/E,IAAI,CAAClD,IAAI,CAAC,CAC3BM,GAAG,CAACoB,MAAM,CAACC,QAAQ,CAACgH,sBAAsB,CAACX,eAAe,CAACnF,IAAI,CAAC,UAAU,CAAC,CAAC,CAC5E/D,GAAG,CAAC8J,aAAa,CAACX,gBAAgB,CAAC,CACnC3H,GAAG,CAACC,UAAU,CAACsI,QAAQ,CAACC,QAAQ,CAACb,gBAAgB,CAAC,CAC9CvB,iBAAiB,CAAE,CACtB,IAAIqC,iBAAiB,CAAGC,qBAAqB,CAACC,gBAAgB,CAC7DjB,eAAe,CAAChI,IAAI,CAAC,KAAK,CAAC,CAC3Ba,YAAY,CAACqI,cAAc,EAC5B,CAAC,CACDH,iBAAiB,CAACI,mBAAmB,CAAClB,gBAAgB,CAAC,CACvDc,iBAAiB,CAACK,qBAAqB,EAAE,CACzCvI,YAAY,CAACwI,uBAAuB,CAACrB,eAAe,CAAA,CAAA,CAAM,CAAC,CAC3D,IAAIsB,KAAK,CAAGrB,gBAAgB,CAACpF,IAAI,CAAC,sBAAoB,CAAC,CACvD,GAAIyG,KAAK,CAACrM,MAAM,EAA0C,WAAW,EAAjD,OAAOgC,MAAM,CAAAsK,gBAAoC,CAAE,CACtE,IAAIC,cAAc,CAAGD,gBAAgB,CAAC7K,WAAW,CAACuJ,gBAAgB,CAAEqB,KAAK,CAACxH,GAAG,EAAE,CAAC,CAChF0H,cAAc,CAACnD,IAAI,CAAC4B,gBAAgB,CAAC,CACrCuB,cAAc,CAACC,cAAc,GAC9B,CACD,CACA3K,GAAG,CAACyH,KAAK,CAACxD,OAAO,CAAC,6BAA6B,CAAEkF,gBAAgB,CAAEvB,iBAAiB,CAAE7F,YAAY,CAAC,CACnG2H,SAAS,CAACkB,OAAO,CAAC1I,MAAM,EACzB,CAAC,CAAC,CACDZ,IAAI,CAAC,UAAY,CACjB6H,gBAAgB,CAACf,iBAAiB,CAAC,CAAEzD,IAAI,CAAE,MAAO,CAAC,CAAC,CACpD+E,SAAS,CAACmB,MAAM,GACjB,CAAC,CAAC,CACInB,SAAS,CAACoB,OAAO,EACzB,CAAC;AAGH;AACA,KACEC,gCAAgC,CAAE,SAAAA,kCAAY,CAC7C,IAAIhJ,YAAY,CAAG,IAAI,CACvB,IAAI,CAAC4G,OAAO,EAAE,CAAC7C,EAAE,CAAC,OAAO,CAAE,8BAA8B,CAAE,SAAC4B,CAAC,CAAK,CAAA,IAC7DW,aAAa,CAAGpD,CAAC,CAACyC,CAAC,CAACW,aAAa,CAAC,CAClCnG,MAAM,CAAG,CACZiB,MAAM,CAAEnD,GAAG,CAACC,aAAa,EAAE,CAC3BmD,MAAM,CAAE,cAAc,CACtBuB,IAAI,CAAE,gBAAgB,CACtBqG,YAAY,CAAE,EAAE,CAChBC,UAAU,CAAEjL,GAAG,CAACQ,WAAW,EAAE,CAC7B0K,cAAc,CAAE7C,aAAa,CAAClE,OAAO,CAAC,0BAA0B,CAAC,CAACJ,IAAI,CAAC,0BAAwB,CAAC,CAACf,GAAG,EACrG,CAAC,CACGhC,GAAG,CAAGqH,aAAa,CAACnH,IAAI,CAAC,KAAK,CAAC,CACnClB,GAAG,CAACmL,eAAe,CAACnK,GAAG,CAAE,SAACoK,CAAC,CAAEtL,QAAQ,CAAK,CACzCA,QAAQ,CAACuL,cAAc,CAAC,SAACnK,IAAI,CAAK,CACjC,IAAK,IAAIjD,CAAC,IAAIiD,IAAI,CACjBgB,MAAM,CAAC8I,YAAY,CAACpN,IAAI,CAACK,CAAC,CAAC,CAE5B4C,YAAY,CAACC,OAAO,CAACoB,MAAM,CAAC,CAACf,IAAI,CAAC,UAAY,CAC7CY,YAAY,CAACuJ,gBAAgB,GAC9B,CAAC,EACF,CAAC,EACF,CAAC,EACF,CAAC,EACF,CAAC,CAEDf,uBAAuB,CAAE,SAAAA,uBAAAA,CAAU7B,SAAS,CAAE6C,IAAI,CAAE,CAC/C,IAAAC,QAAQ,CAAG,IAAI,CAAChL,WAAW,EAAE,CAAG,GAAG,CAAGkI,SAAS,CAACxH,IAAI,CAAC,IAAI,CAAC,CAC1DuK,oBAAoB,CAAGzL,GAAG,CAAC0L,cAAc,CAACF,QAAQ,CAAC,CACvD,GAA6B,IAAI,GAA7BC,oBAA6B,CAAE,CAClC,IAAIE,SAAS,CAAGjD,SAAS,CAAC3E,IAAI,CAAC,+BAA+B,CAAG0H,oBAAoB,CAAG,IAAI,CAAC,CACzFE,SAAS,CAACxN,MAAM,GACnBuK,SAAS,CAAC3E,IAAI,CAAC,0BAA0B,CAAC,CAAC6H,WAAW,CAAC,QAAQ,CAAC,CAChElD,SAAS,CAAC3E,IAAI,CAAC,+BAA+B,CAAG0H,oBAAoB,CAAG,IAAI,CAAC,CAACI,QAAQ,CAAC,QAAQ,CAAC,EAElG,CAAC,IACGC,UAAU,CAAGpD,SAAS,CAAC3E,IAAI,CAAC,iBAAiB,CAAC,CAC9CgI,IAAI,CAAGD,UAAU,CAAC/H,IAAI,CAAC,OAAO,CAAC,CAC/BiI,IAAI,CAAGF,UAAU,CAAC/H,IAAI,CAAC,OAAO,CAAC,CAC/BkI,MAAM,CAAGvD,SAAS,CAAC3E,IAAI,CAAC,0BAA0B,CAAC,CACL,CAAC,EAA/C2E,SAAS,CAAC3E,IAAI,CAAC,mBAAmB,CAAC,CAAC5F,MAAW,EAAI,CAAC8N,MAAM,CAACD,IAAI,EAAE,CAAC7N,MAAM,CAC3E6N,IAAI,CAACH,QAAQ,CAAC,UAAU,CAAC,CAEzBG,IAAI,CAACJ,WAAW,CAAC,UAAU,CAAC,CAEqB,CAAC,EAA/ClD,SAAS,CAAC3E,IAAI,CAAC,mBAAmB,CAAC,CAAC5F,MAAW,EAAI,CAAC8N,MAAM,CAACF,IAAI,EAAE,CAAC5N,MAAM,CAC3E4N,IAAI,CAACF,QAAQ,CAAC,UAAU,CAAC,CAEzBE,IAAI,CAACH,WAAW,CAAC,UAAU,CAAC,CAEzBL,IAAI,GACPS,IAAI,CAAClG,EAAE,CAAC,OAAO,CAAE,UAAY,CAC5B,GAAIb,CAAAA,CAAC,CAAC,IAAI,CAAC,CAACiH,QAAQ,CAAC,UAAU,CAAC,EAGhC,IAAID,MAAM,CAAGvD,SAAS,CAAC3E,IAAI,CAAC,0BAA0B,CAAC,CACvDkI,MAAM,CAACL,WAAW,CAAC,QAAQ,CAAC,CAC5B,IAAIO,WAAW,CAAGF,MAAM,CAACD,IAAI,EAAE,CAC/BG,WAAW,CAACN,QAAQ,CAAC,QAAQ,CAAC,CACzBM,WAAW,CAACH,IAAI,EAAE,CAAC7N,MAAM,EAC7B6N,IAAI,CAACH,QAAQ,CAAC,UAAU,CAAC,CAEtBI,MAAM,CAACF,IAAI,EAAE,EAChBA,IAAI,CAACH,WAAW,CAAC,UAAU,CAAC,CAE7B5L,GAAG,CAACoM,cAAc,CAACZ,QAAQ,CAAEW,WAAW,CAACjL,IAAI,CAAC,IAAI,CAAC,EAAC,CACrD,CAAC,CAAC,CACF6K,IAAI,CAACjG,EAAE,CAAC,OAAO,CAAE,UAAY,CAC5B,GAAA,CAAIb,CAAC,CAAC,IAAI,CAAC,CAACiH,QAAQ,CAAC,UAAU,CAAC,CAGhC,CAAA,IAAID,MAAM,CAAGvD,SAAS,CAAC3E,IAAI,CAAC,0BAA0B,CAAC,CACvDkI,MAAM,CAACL,WAAW,CAAC,QAAQ,CAAC,CAC5B,IAAIS,WAAW,CAAGJ,MAAM,CAACF,IAAI,EAAE,CAC/BM,WAAW,CAACR,QAAQ,CAAC,QAAQ,CAAC,CACzBQ,WAAW,CAACN,IAAI,EAAE,CAAC5N,MAAM,EAC7B4N,IAAI,CAACF,QAAQ,CAAC,UAAU,CAAC,CAEtBI,MAAM,CAACD,IAAI,EAAE,EAChBA,IAAI,CAACJ,WAAW,CAAC,UAAU,CAAC,CAE7B5L,GAAG,CAACoM,cAAc,CAACZ,QAAQ,CAAEa,WAAW,CAACnL,IAAI,CAAC,IAAI,CAAC,EAAC,CACrD,CAAC,CAAC,EAEJ,CAAC,CAEDoL,YAAY,CAAE,SAAAA,YAAUtL,CAAAA,GAAG,CAAEE,IAAI,CAAE,CAC9B,IAAAa,YAAY,CAAG,IAAI,CACnB2H,SAAS,CAAGjK,MAAM,CAACkK,QAAQ,EAAE,CAE7B4C,oBAAoB,CAAG,IAAI,CAACC,gBAAgB,EAAE,CAC9CtK,MAAM,CAAGlB,GAAG,CAkBhB,OAjBoB,WAAW,EAA3B,OAAOE,IAAoB,GAC9BgB,MAAM,CAAG,EAAE,CACXA,MAAM,CAAClB,GAAG,CAAGA,GAAG,CAChBkB,MAAM,CAAChB,IAAI,CAAGA,IAAI,CAAA,CAEnBL,YAAY,CAAC4L,WAAW,CAACvK,MAAM,CAAC,CAACf,IAAI,CAAC,SAAUuL,YAAY,CAAE,CAC7DH,oBAAoB,CAACnI,IAAI,CAACsI,YAAY,CAAC,CACvCA,YAAY,CAAGH,oBAAoB,CAACnI,IAAI,EAAE,CAC1CrC,YAAY,CAACwG,8BAA8B,EAAE,CAE7C/G,GAAG,CAACoB,MAAM,CAACC,QAAQ,CAACC,uBAAuB,CAACyJ,oBAAoB,CAAC,CAEjE/K,GAAG,CAACoB,MAAM,CAAC+J,IAAI,CAAC3C,QAAQ,CAACuC,oBAAoB,CAAC,CAC9CxK,YAAY,CAAC4G,OAAO,EAAE,CAAClG,gBAAgB,EAAE,CACzCzC,GAAG,CAACyH,KAAK,CAACxD,OAAO,CAAC,mCAAmC,CAAEyI,YAAY,CAAC,CACpEhD,SAAS,CAACkB,OAAO,CAAC8B,YAAY,EAC/B,CAAC,CAAC,CACKhD,SAAS,CAACoB,OAAO,EACzB,CAAC,CACD8B,oBAAoB,CAAE,SAAAA,oBAAAA,EAAY,CACjC,WAAW,CAACxF,aACb,CAAC;AAEH;AACA;AACA,KACEyF,aAAa,CAAE,SAAAA,aAAUC,CAAAA,QAAQ,CAAE,CAC9B,IAAAC,IAAI,CAAG,IAAI,CAACC,OAAO,EAAE,CACrBC,SAAS,CAAQ,CAAA,CAAA,CASrB,OARAF,IAAI,CAAC9G,IAAI,CAAC,SAAUC,KAAK,CAAEpC,OAAO,CAAE,CAAA,IAC/BoJ,GAAG,CAAGzN,MAAM,CAACqE,OAAO,CAAC,CACrBqJ,QAAQ,CAAGD,GAAG,CAAChM,IAAI,CAAC,UAAU,CAAC,CACnC,GAAIiM,QAAQ,EAAIL,QAAQ,CAEvB,OADAG,SAAS,CAAGC,GAAG,CAAA,CAAA,CAGjB,CAAC,CAAC,CACKD,SACR,CAAC,CACDG,cAAc,CAAE,SAAAA,eAAUC,UAAU,CAAmB,CAAjB,IAAAC,UAAU,CAAA,CAAA,CAAApP,SAAA,CAAAC,MAAA,EAAAD,KAAAA,CAAAA,GAAAA,SAAA,CAAAA,CAAAA,CAAAA,CAAAA,SAAA,IAAG,EAAE,CAChD6O,IAAI,CAAG,IAAI,CAACC,OAAO,EAAE,CACrBC,SAAS,CAAQ,CAAA,CAAA,CAWrB,OAVAF,IAAI,CAAC9G,IAAI,CAAC,SAAUC,KAAK,CAAEpC,OAAO,CAAE,CACnC,IAAIoJ,GAAG,CAAGzN,MAAM,CAACqE,OAAO,CAAC,CACzB,GACCoJ,GAAG,CAAChM,IAAI,CAAC,WAAW,CAAC,EAAImM,UAAU,GAClC,CAACC,UAAU,EAAKA,UAAU,EAAIA,UAAU,EAAIJ,GAAG,CAAChM,IAAI,CAAC,aAAa,CAAE,CAAC,CAGtE,OADA+L,SAAS,CAAGC,GAAG,CAAA,CAAA,CAGjB,CAAC,CAAC,CACKD,SACR,CAAC,CACDM,eAAe,CAAE,SAAAA,eAAA,EAAY,KACxBC,mBAAmB,CAAG,IAAI,CAACC,eAAe,EAAE,CAC5CC,SAAS,CAAGF,mBAAmB,CAACzJ,IAAI,CAAC,eAAe,CAAC,CACzD,IAAI,CAAC4J,sBAAsB,EAAE,CAC7B,IAAI,CAACC,iBAAiB,CAACF,SAAS,EACjC,CAAC,CACDC,sBAAsB,CAAE,SAAAA,sBAAA,EAAY,CACnC,IAAI,CAACX,OAAO,EAAE,CAACpB,WAAW,CAAC,QAAQ,EACpC,CAAC,CACDgC,iBAAiB,CAAE,SAAAA,iBAAUC,CAAAA,UAAU,CAAE,CACxCA,UAAU,CAAChC,QAAQ,CAAC,QAAQ,CAAC,CAC7B5G,CAAC,CACA,uCAAsC,CACrC4I,UAAU,CAAC3M,IAAI,CAAC,WAAW,CAAC,CAC5B,yBAAuB,CACvB2M,UAAU,CAAC3M,IAAI,CAAC,aAAa,CAAC,CAC9B,KACF,CAAC,CAAC2K,QAAQ,CAAC,QAAQ,EACpB,CAAC,CACDP,gBAAgB,CAAE,SAAAA,gBAAAA,EAAY,CAC7B,IAAI,CAAClB,cAAc,EAAE,CAACnG,OAAO,CAAC,OAAO,EACtC,CAAC,CACDmG,cAAc,CAAE,SAAAA,cAAA,EAAY,CAC3B,IAAI0D,YAAY,CAAG,IAAI,CAACL,eAAe,EAAE,CACzC,OAAOK,YAAY,CAAC/J,IAAI,CAAC,oCAAoC,CAC9D,CAAC,CACD0J,eAAe,CAAE,SAAAA,eAAA,EAAY,CAC5B,OAAOhO,MAAM,CAAC,aAAa,CAC5B,CAAC,CACDuN,OAAO,CAAE,SAAAA,OAAA,EAAY,CAChB,IAAAe,OAAO,CAAG,IAAI,CAACN,eAAe,EAAE,CAAC1J,IAAI,CAAC,0BAA0B,CAAC,CACjEiK,gBAAgB,CAAG,IAAI,CAACP,eAAe,EAAE,CAAC1J,IAAI,CAAC,mBAAmB,CAAC,CAYvE,OAXAiK,gBAAgB,CAAC/H,IAAI,CAAC,UAAgB,CACjC,IAAAoC,aAAa,CAAG5I,MAAM,CAAC,IAAI,CAAC,CAC5BwO,SAAS,CAAG5F,aAAa,CAACnH,IAAI,CAAC,WAAW,CAAC,CAC3CgN,SAAS,CAAG7F,aAAa,CAAC6D,QAAQ,CAAC,SAAS,CAAC,CAAG,SAAS,CAAG,YAAY,CAE3E,IAAA,EAAA+B,SAAsB,EAC4D,CAAC,CAAnFF,OAAO,CAACvQ,MAAM,CAAC,GAAG,CAAG0Q,SAAS,CAAG,oBAAmB,CAAGD,SAAS,CAAG,KAAI,CAAC,CAAC9P,MAAU,EAEnF4P,OAAO,CAACnQ,IAAI,CAACyK,aAAa,CAAC8F,GAAG,CAAC,CAAC,CAAC,EAEnC,CAAC,CAAC,CACKJ,OACR,CAAC,CACDvB,gBAAgB,CAAE,SAAAA,gBAAAA,EAAY,CAI7B,OAHI,CAAI,CAAA,EAAA,IAAA,CAAC7F,uBAAgC,GACxC,IAAI,CAACA,uBAAuB,CAAGlH,MAAM,CAAC,0BAA0B,CAAC,CAAA,CAE3D,IAAI,CAACkH,uBACb,CAAC;AAEH;AACA;AACA,KACEgC,OAAO,CAAE,SAAAA,OAAAA,EAAY,CAIpB,OAHI,CAAI,CAAA,EAAA,IAAA,CAAC/B,cAAuB,GAC/B,IAAI,CAACA,cAAc,CAAGnH,MAAM,CAAC,aAAa,CAAC,CAAA,CAErC,IAAI,CAACmH,cACb,CAAC,CACDpG,WAAW,CAAE,SAAAA,WAAA,EAAY,CACxB,OAAOR,GAAG,CAACQ,WAAW,EACvB,CAAC,CACD4N,oBAAoB,CAAE,SAAAA,oBAAAA,EAAY,CACjC,GAAoE,CAAC,EAAjE3O,MAAM,CAAC,oBAAoB,CAAE,IAAI,CAAC+M,gBAAgB,EAAE,CAAC,CAACrO,MAAW,CACpE,OAAOsB,MAAM,CAAC,oBAAoB,CAAE,IAAI,CAAC+M,gBAAgB,EAAE,CAAC,CAACxJ,GAAG,EAElE,CAAC,CACDqL,4BAA4B,CAAE,SAAAA,4BAAAA,EAAY,CACzC,OAAO5O,MAAM,CAAC,gCAA8B,CAAE,IAAI,CAAC+M,gBAAgB,EAAE,CAAC,CAACxJ,GAAG,EAC3E,CAAC;AAGH;AACA,KACEsL,gBAAgB,CAAE,SAAAA,gBAAA,EAAY,CAC7BrJ,CAAC,CAAC,mBAAmB,CAAC,CAAC2G,WAAW,CAAC,wBAAwB,EAC5D,CAAC;AAGH;AACA;AACA,KACE2C,gBAAgB,CAAE,SAAAA,gBAAUvN,CAAAA,GAAG,CAAE,CAChC,IAAI0I,SAAS,CAAGjK,MAAM,CAACkK,QAAQ,EAAE,CAMjC,OALA9I,YAAY,CAACC,OAAO,CAACE,GAAG,CAAC,CACvBG,IAAI,CAAC,SAAUD,IAAI,CAAE,CACrBwI,SAAS,CAACkB,OAAO,CAAC1J,IAAI,EACvB,CAAC,CAAC,CACDI,IAAI,CAAC,UAAsB,EAAE,CAAC,CACzBoI,SAAS,CAACoB,OAAO,EACzB,CAAC;AAEH;AACA,KACE0D,eAAe,CAAE,SAAAA,eAAAA,CAChB1K,OAAO,CACP2K,WAAW,CACXC,mBAAmB,CACnBC,iBAAiB,CACjBC,SAAS,CACTC,eAAe,CACfnF,SAAS,CACR,KACG3H,YAAY,CAAG,IAAI,CACnBoG,wBAAwB,CAAG1I,MAAM,CAAC2I,iBAAiB,CAAC,EAAE,CAAC,CACvD0G,gBAAgB,CAAGhL,OAAO,CAACK,OAAO,CAAC,oBAAoB,CAAC,CACxD4K,SAAS,CAAGD,gBAAgB,CAAC/K,IAAI,CAAC,aAAa,CAAC,CAACf,GAAG,EAAE,CACrD+L,SAAS,GACbA,SAAS,CAAGhN,YAAY,CAACvB,WAAW,EAAE,CAAA,CAEvC,IAAIC,QAAQ,CAAG,CACd2C,MAAM,CAAE,UAAU,CAClB4L,cAAc,CAAEN,mBAAmB,CACnCO,UAAU,CAAEF,SAAS,CACrB5L,MAAM,CAAE,aACT,CAAC,CACkB,MAAM,EAArBsL,WAAqB,EACxBhO,QAAQ,CAAAyO,QAAY,CAAG,WAAW,CAClCzO,QAAQ,CAAA4C,MAAU,CAAGuL,SAAS,CAC9BnO,QAAQ,CAAA0O,YAAgB,CAAGR,iBAAiB,CAC5ClO,QAAQ,CAAA2O,eAAmB,CAAGP,eAAe,EACpB,KAAK,EAApBJ,WAAoB,GAC9BhO,QAAQ,CAAA2O,eAAmB,CAAGR,SAAS,CAAA,CAExC/N,YAAY,CAACC,OAAO,CAACL,QAAQ,CAAC,CAC5BU,IAAI,CAAC,SAAUD,IAAI,CAAE,CACrBiH,wBAAwB,CAACC,iBAAiB,CAAC,CAAEzD,IAAI,CAAE,MAAO,CAAC,CAAC,CACzC,KAAK,EAApB8J,WAAoB,EACvB1M,YAAY,CAACsN,yBAAyB,CACrC,aAAa,CACbnO,IAAI,CAACoO,MAAM,CAACC,SAAS,CACrBxN,YAAY,CAAC8K,aAAa,CAAC9K,YAAY,CAACgF,gCAAgC,CAAC,CACzE,CAAEuG,UAAU,CAAE,IAAK,CACpB,CAAC,CAEFtN,GAAG,CAACyH,KAAK,CAACxD,OAAO,CAAC,kCAAkC,CAAE6K,gBAAgB,CAAErO,QAAQ,CAAES,IAAI,CAAC,CACvFwI,SAAS,CAACkB,OAAO,CAAC1J,IAAI,EACvB,CAAC,CAAC,CACDI,IAAI,CAAC,SAAUyD,UAAU,CAAEyK,WAAW,CAAE,CACxCrH,wBAAwB,CAACC,iBAAiB,CAAC,CAAEzD,IAAI,CAAE,MAAO,CAAC,CAAC,CAC5Db,OAAO,CAACE,UAAU,CAAC,UAAU,CAAC,CAC9B0F,SAAS,CAACmB,MAAM,CAAC9F,UAAU,CAAEyK,WAAW,EACzC,CAAC,EACH,CAAC,CACDC,WAAW,CAAE,SAAAA,WAAU/H,CAAAA,CAAC,CAAE,CACzB,IAMCgI,QAAQ,CACRf,iBAAiB,CAPdjF,SAAS,CAAGjK,MAAM,CAACkK,QAAQ,EAAE,CAChCtB,aAAa,CAAG5I,MAAM,CAACiI,CAAC,CAACW,aAAa,CAAC,CACvCoG,WAAW,CAAGpG,aAAa,CAACnH,IAAI,CAAC,MAAM,CAAC,CACxCyO,mBAAmB,CAAGtH,aAAa,CAAClE,OAAO,CAAC,uBAAuB,CAAC,CACpEyL,cAAc,CAAGD,mBAAmB,CAAC5L,IAAI,CAAC,qBAAqB,CAAC,CAChE2K,mBAAmB,CAAGkB,cAAc,CAACxL,IAAI,EAAE,CAG5C,GAAI,EAAE,GAAKsK,mBAAmB,CAI7B,OAHAgB,QAAQ,CAAG1P,GAAG,CAAC2D,UAAU,CAAC,oCAAoC,CAAC,CAC/DiM,cAAc,CAACnN,gBAAgB,CAAC,YAAY,CAAEiN,QAAQ,CAAE,OAAO,CAAE,YAAY,CAAM,CAAA,CAAA,CAAC,CACpFhG,SAAS,CAACmB,MAAM,CAAC6E,QAAQ,CAAC,CACnBhG,SAAS,CAACoB,OAAO,EAAE,CAEvB,MAAM,GAAK2D,WAAW,GACzBE,iBAAiB,CAAGgB,mBAAmB,CAAC5L,IAAI,CAAC,yBAAuB,CAAC,CAACf,GAAG,EAAE,CAE5E,CAAA,IAAIc,OAAO,CAAGrE,MAAM,CAACiI,CAAC,CAACW,aAAa,CAAC,CACpCwH,iBAAiB,CAAGF,mBAAmB,CAACxL,OAAO,CAAC,qBAAqB,CAAC,CAACJ,IAAI,CAAC,yBAAyB,CAAC,CACtG6K,SAAS,CAAGiB,iBAAiB,CAAC3O,IAAI,CAAC,WAAW,CAAC,CAC/C2N,eAAe,CAAGgB,iBAAiB,CAAC3O,IAAI,CAAC,iBAAiB,CAAC,CAU5D,OATI,IAAA,CAACsN,eAAe,CACnB1K,OAAO,CACP2K,WAAW,CACXC,mBAAmB,CACnBC,iBAAiB,CACjBC,SAAS,CACTC,eAAe,CACfnF,SACD,CAAC,CACMA,SAAS,CAACoB,OAAO,EACzB,CAAC;AAEH;AACA;AACA,KACEgF,YAAY,CAAE,SAAAA,YAAAA,CAAUlB,SAAS,CAAE,CAC9B,IAAAlF,SAAS,CAAGjK,MAAM,CAACkK,QAAQ,EAAE,CAWjC,OALA9I,YAAY,CAACC,OAAO,CALL,CACd0F,IAAI,CAAE,YAAY,CAClBrD,MAAM,CAAE,aAAa,CACrBE,MAAM,CAAEuL,SACT,CAC6B,CAAC,CAC5BzN,IAAI,CAAC,SAAUD,IAAI,CAAE,CACrBwI,SAAS,CAACkB,OAAO,CAAC1J,IAAI,EACvB,CAAC,CAAC,CACDI,IAAI,CAAC,UAAsB,EAAE,CAAC,CACzBoI,SAAS,CAACoB,OAAO,EACzB,CAAC;AAEH;AACA;AACA,KACEiF,eAAe,CAAE,SAAAA,eAAA,EAAY,CAC5B,IAAIC,kBAAkB,CAAGvQ,MAAM,CAAC,uBAAuB,CAAE,IAAI,CAAC+M,gBAAgB,EAAE,CAAC,CAC/EyD,KAAK,CAAW,CAAA,CAAA,CAAA,CAAA,CAAA,CAAC,CACjBrE,WAAW,CAAC,6BAA6B,CAAC,CAC1CC,QAAQ,CAAC,sBAAsB,CAAC,CAKlC,OAJAmE,kBAAkB,CAChBjM,IAAI,CAAC,uBAAuB,CAAC,CAC7B6H,WAAW,CAAC,sBAAsB,CAAC,CACnCC,QAAQ,CAAC,oBAAoB,CAAC,CACzBmE,kBACR,CAAC;AAEH;AACA;AACA,KACEE,mBAAmB,CAAE,SAAAA,mBAAAA,EAAY,CAChC,IAAIF,kBAAkB,CAAGvQ,MAAM,CAAC,wBAAwB,CAAE,IAAI,CAAC+M,gBAAgB,EAAE,CAAC,CAChFyD,KAAK,CAAW,CAAA,CAAA,CAAA,CAAA,CAAA,CAAC,CACjBrE,WAAW,CAAC,8BAA8B,CAAC,CAC3CC,QAAQ,CAAC,sBAAsB,CAAC,CAMlC,OALAmE,kBAAkB,CAChBjM,IAAI,CAAC,uBAAuB,CAAC,CAC7B6H,WAAW,CAAC,sBAAsB,CAAC,CACnCC,QAAQ,CAAC,oBAAoB,CAAC,CAChC,IAAIrK,GAAG,CAACoB,MAAM,CAACuN,IAAI,CAACC,WAAW,CAACJ,kBAAkB,CAACjM,IAAI,CAAC,iBAAiB,CAAC,CAAC,CACpEiM,kBACR,CAAC;AAEH;AACA,KACEK,0BAA0B,CAAE,SAAAA,0BAAAA,EAAY,CACvC,IAAItO,YAAY,CAAG,IAAI,CACvBtC,MAAM,CAAC,MAAM,CAAC,CAACqG,EAAE,CAAC,QAAQ,CAAE,WAAW,CAAE,SAAU4B,CAAC,CAAE,CACjD,IAAArF,IAAI,CAAG5C,MAAM,CAACiI,CAAC,CAACW,aAAa,CAAC,CAC9BiI,aAAa,CAAGjO,IAAI,CAAC0B,IAAI,CAAC,UAAU,CAAC,CAACK,IAAI,EAAE,CAACjG,MAAM,CACvD,GAAoB,GAAG,CAAnBmS,aAAmB,CAAE,CACxB,IAAIpO,MAAM,CAAG,CACZwB,KAAK,CAAE1D,GAAG,CAAC2D,UAAU,CAAC,YAAY,CAAC,CACnCC,IAAI,CAAE5D,GAAG,CAAC2D,UAAU,CAAC,gCAAgC,CAAC,CACtD5C,IAAI,CAAE,OACP,CAAC,CAED,OADAf,GAAG,CAACqE,UAAU,CAACnC,MAAM,CAAC,CAEvB,CAAA,CAAA,CACA,IAAIqO,YAAY,CAAGlO,IAAI,CAAC0B,IAAI,CAAC,SAAS,CAAC,CACvCwM,YAAY,CAAChO,IAAI,CAAC,UAAU,CAAE,UAAU,CAAC,CACzCR,YAAY,CAACyO,WAAW,CAACnO,IAAI,CAAC,CAC9BqF,CAAC,CAACQ,cAAc,GACjB,CAAC,EACF,CAAC;AAEH;AACA,KACEsI,WAAW,CAAE,SAAAA,WAAAA,CAAUnO,IAAI,CAAE,CAAA,IACxBoO,gBAAgB,CAAGhR,MAAM,CAAC2I,iBAAiB,CAAC,CAC/CsI,QAAQ,CAAE,MAAM,CAChBC,SAAS,CAAE,CACVC,OAAO,GACR,CACD,CAAC,CAAC,CACEC,UAAU,CAAGxO,IAAI,CAACyO,iBAAiB,EAAE,CACzCjQ,YAAY,CAACC,OAAO,CAAC+P,UAAU,CAAC,CAC9B1P,IAAI,CAAC,UAAgB,CACrBnB,GAAG,CAACyD,eAAe,EAAE,CACrBgN,gBAAgB,CAACrI,iBAAiB,CAAC,CAClCzD,IAAI,CAAE,MACP,CAAC,EACF,CAAC,CAAC,CACDrD,IAAI,CAAC,UAAsB,EAAE,EAChC,CAAC;AAEH;AACA;AACA,KACEyP,yBAAyB,CAAE,SAAAA,yBAAA,EAAY,KAClChP,YAAY,CAAG,IAAI,CACnBwK,oBAAoB,CAAGxK,YAAY,CAACyK,gBAAgB,EAAE,CAC1DD,oBAAoB,CAACzG,EAAE,CAAC/D,YAAY,CAACoF,iBAAiB,CAAE,YAAY,CAAE,UAAqB,CAAA,IACtF9E,IAAI,CAAGN,YAAY,CAAC4G,OAAO,EAAE,CAC7BqI,UAAU,CAAG3O,IAAI,CAACnB,IAAI,CAAC,YAAY,CAAC,CACpC+P,WAAW,CAAG,EAAE,CACpB,IAAK,IAAI/K,KAAK,IAAI8K,UAAU,CAAE,CAChB,CAAC,EAAV9K,KAAU,GACb+K,WAAW,EAAI,GAAG,CAGnB,CAAA,IAAIC,aAAa,CAAGF,UAAU,CAAC9K,KAAK,CAAC,CACrC+K,WAAW,EAAI5O,IAAI,CAAC0B,IAAI,CAAC,UAAS,CAAGmN,aAAa,CAAG,KAAI,CAAC,CAAClO,GAAG,GAC/D,CACA,IAAImO,kBAAkB,CAAG5E,oBAAoB,CAACpI,OAAO,CAAC,cAAc,CAAC,CAACJ,IAAI,CAAC,cAAc,CAAC,CAC1FoN,kBAAkB,CAACvN,IAAI,CAACqN,WAAW,EACpC,CAAC,EACF,CAAC,CACDG,sBAAsB,CAAE,SAAAA,sBAAA,EAAY,CAC/B,IAAArP,YAAY,CAAG,IAAI,CACnBwK,oBAAoB,CAAGxK,YAAY,CAACyK,gBAAgB,EAAE,CACtDnK,IAAI,CAAGN,YAAY,CAAC4G,OAAO,EAAE,CAC7BqI,UAAU,CAAG3O,IAAI,CAACnB,IAAI,CAAC,YAAY,CAAC,CACpCiQ,kBAAkB,CAAG5E,oBAAoB,CAACpI,OAAO,CAAC,cAAc,CAAC,CAACJ,IAAI,CAAC,cAAc,CAAC,CACtFL,KAAK,CAAG,EAAE,CACd,IAAK,IAAIwC,KAAK,IAAI8K,UAAU,CAAE,CAAA,IACzBE,aAAa,CAAGF,UAAU,CAAC9K,KAAK,CAAC,CACjCmL,SAAS,CAAGhP,IAAI,CAAC0B,IAAI,CAAC,UAAS,CAAGmN,aAAa,CAAG,KAAI,CAAC,CAC3D,GAAuB,CAAC,CAApBG,SAAS,CAAClT,MAAU,CAAE,CACzB,IAAI8S,WAAW,CAAGI,SAAS,CAACrO,GAAG,EAAE,CACjCU,KAAK,EAAIuN,WAAW,CAAG,GAAG,CAC1BE,kBAAkB,CAACpN,IAAI,CAAC,WAAU,CAAGmN,aAAa,CAAG,KAAI,CAAC,CAACtN,IAAI,CAACqN,WAAW,EAC5E,CACD,CACA,IAAIK,cAAc,CAAGH,kBAAkB,CAACpN,IAAI,CAAC,aAAa,CAAC,CAC3D,GAA4B,CAAC,CAAzBuN,cAAc,CAACnT,MAAU,CAAE,CAC9B,IAAIoT,cAAc,CAAGD,cAAc,CAAC1N,IAAI,EAAE,CAC1CF,KAAK,CAAG6N,cAAc,CAAG7N,MAC1B,CACAyN,kBAAkB,CAAC5O,IAAI,CAAC,OAAO,CAAEmB,KAAK,EACvC,CAAC,CACD8N,qBAAqB,CAAE,SAAAA,qBAAA,EAAY,CAC9B,IAAAzP,YAAY,CAAG,IAAI,CACnBwK,oBAAoB,CAAGxK,YAAY,CAACyK,gBAAgB,EAAE,CAC1DD,oBAAoB,CAACzG,EAAE,CAAC/D,YAAY,CAACoF,iBAAiB,CAAE,uBAAuB,CAAE,SAAUO,CAAC,CAAE,CAC7F3F,YAAY,CAAC0P,kBAAkB,CAAChS,MAAM,CAACiI,CAAC,CAACW,aAAa,CAAC,EACxD,CAAC,EACF,CAAC,CACDoJ,kBAAkB,CAAE,SAAAA,kBAAAA,CAAUC,cAAc,CAAE,CAC7C,IAAI3P,YAAY,CAAG,IAAI,CACvB,GAAI2P,cAAc,CAACxF,QAAQ,CAAC,WAAW,CAAC,CAEvC,OADAnK,YAAY,CAACqP,sBAAsB,EAAE,CAAA,CAAA,CAAA,CAErC,IAEG5L,IAAI,CAAGkM,cAAc,CAACnP,IAAI,CAAC,MAAM,CAAC,CAClC6E,aAAa,CAAG,IAAI,CAACwF,oBAAoB,EAAE,CAC3CL,oBAAoB,CAAGxK,YAAY,CAACyK,gBAAgB,EAAE,CAC1D,GAA2C,IAAI,EAA3C/M,MAAM,CAACkS,OAAO,CAACnM,IAAI,CAAE4B,aAAa,CAAS,CAAE,CAAA,IAC5C6J,WAAW,CAAGS,cAAc,CAAC1O,GAAG,EAAE,CAClCmO,kBAAkB,CAAG5E,oBAAoB,CAACpI,OAAO,CAAC,cAAc,CAAC,CAACJ,IAAI,CAAC,GAAG,CAAGyB,IAAI,CAAG,QAAQ,CAAC,CACjG2L,kBAAkB,CAACvN,IAAI,CAACqN,WAAW,EACpC,CACD,CAAC;AAEH;AACA,KACEW,0BAA0B,CAAE,SAAAA,0BAAA,EAAY,CACvC,IAAIrF,oBAAoB,CAAG,IAAI,CAACC,gBAAgB,EAAE,CAClDD,oBAAoB,CAACzG,EAAE,CAAC,OAAO,CAAE,WAAW,CAAE,SAAU4B,CAAC,CAAE,CAC1DA,CAAC,CAACmK,eAAe,GAClB,CAAC,EACF,CAAC;AAEH;AACA,KACEC,4BAA4B,CAAE,SAAAA,4BAAA,EAAY,CACzC,IAAIvF,oBAAoB,CAAG,IAAI,CAACC,gBAAgB,EAAE,CAClDD,oBAAoB,CAACzG,EAAE,CAAC,OAAO,CAAE,kBAAkB,CAAE,SAAU4B,CAAC,CAAE,CACjE,IAAIqK,aAAa,CAAGtS,MAAM,CAACiI,CAAC,CAAC3J,MAAM,CAAE0B,MAAM,CAACiI,CAAC,CAACW,aAAa,CAAC,CAAC,CAC7D,GAAA,EAAI0J,aAAa,CAACjJ,EAAE,CAAC,gBAAgB,CAAC,EAA8D,CAAC,CAA3DiJ,aAAa,CAACC,QAAQ,CAAC,0BAAwB,CAAC,CAAC7T,MAAU,CACjGsB,EAAAA,CAAAA,MAAM,CAACiI,CAAC,CAAC3J,MAAM,CAAC,CAAC+K,EAAE,CAAC,0BAAwB,CAAC,CAC7C,CAAA,IAAAmJ,IAAI,CAAGxS,MAAM,CAACiI,CAAC,CAACW,aAAa,CAAC,CAC9B6J,SAAS,CAAGD,IAAI,CAAC/Q,IAAI,CAAC,WAAW,CAAC,CACb,WAAW,EAAhC,OAAOgR,SAAyB,GACnC/R,MAAM,CAACyE,QAAQ,CAACuN,IAAI,CAAGD,SAAS,EAAA,CAElC,CAAC,EACF,CAAC,CACD1N,eAAe,CAAE,SAAAA,gBAAUtC,MAAM,CAAE,CAClC,IAAIwH,SAAS,CAAGjK,MAAM,CAACkK,QAAQ,EAAE,CAC7B,MAAAzH,MAAmB,GACtBA,MAAM,CAAG,EAAE,EAEZ,IAAIkQ,mBAAmB,CAAGlI,qBAAqB,CAACtK,WAAW,CAC1D,IAAI,CAACY,WAAW,EAAE,CAClBR,GAAG,CAACC,aAAa,EAAE,CACnB,IAAI,CAACmK,cAAc,EAAE,CACrB,IAAI,CAACgE,oBAAoB,EAC1B,CAAC,CASD,OARAgE,mBAAmB,CACjB5N,eAAe,CAACtC,MAAM,CAAC,CACvBf,IAAI,CAAC,SAAUD,IAAI,CAAE,CACrBwI,SAAS,CAACkB,OAAO,CAAC1J,IAAI,EACvB,CAAC,CAAC,CACDI,IAAI,CAAC,SAAUyD,UAAU,CAAEyK,WAAW,CAAE,CACxC9F,SAAS,CAACmB,MAAM,CAAC9F,UAAU,CAAEyK,WAAW,EACzC,CAAC,CAAC,CACI9F,SAAS,CAACoB,OAAO,EACzB,CAAC;AAEH;AACA,KACEuH,2BAA2B,CAAE,SAAAA,2BAAAA,EAAY,CAClC,IAAAC,IAAI,CAAG,IAAI,CACb/F,oBAAoB,CAAG,IAAI,CAACC,gBAAgB,EAAE,CAC9C5E,iBAAiB,CAAG0K,IAAI,CAAClE,oBAAoB,EAAE,CACnD,GAAIxG,iBAAiB,CAAE,CACtB,IAAIqC,iBAAiB,CAAGC,qBAAqB,CAACtK,WAAW,CACxD0S,IAAI,CAAC9R,WAAW,EAAE,CAClBR,GAAG,CAACC,aAAa,EAAE,CACnBqS,IAAI,CAAClI,cAAc,EAAE,CACrBxC,iBACD,CAAC,CACDqC,iBAAiB,CAACI,mBAAmB,CAACkC,oBAAoB,CAAC,CAC3DtC,iBAAiB,CAACK,qBAAqB,GACxC,CACAiC,oBAAoB,CAACxI,IAAI,CAAC,sBAAsB,CAAC,CAACkC,IAAI,CAAC,SAAUsM,CAAC,CAAEC,KAAK,CAAE,CAC1EF,IAAI,CAACG,qBAAqB,CAACxN,CAAC,CAACuN,KAAK,CAAC,CAAA,CAAA,CAAO,EAC3C,CAAC,CAAC,CACFjG,oBAAoB,CAACxI,IAAI,CAAC,mCAAmC,CAAC,CAAC+B,EAAE,CAAC,OAAO,CAAE,SAAU4B,CAAC,CAAE,CACvF,IAAM3J,MAAM,CAAGkH,CAAC,CAACyC,CAAC,CAAC3J,MAAM,CAAC,CAAC,SAE1BA,MAAM,CAAC+K,EAAE,CAAC,OAAO,CAAC,EAClB/K,MAAM,CAAC+K,EAAE,CAAC,QAAQ,CAAC,EACnB/K,MAAM,CAAC2U,OAAO,EAAE,CAAC5J,EAAE,CAAC,QAAQ,CAAC,EAC7B/K,MAAM,CAACmO,QAAQ,CAAC,qBAAqB,CAAC,EACtCnO,MAAM,CAAC2U,OAAO,EAAE,CAACxG,QAAQ,CAAC,qBAAqB,CAAC,CAIjD,EAAA,KAAAoG,IAAI,CAACG,qBAAqB,CAACxN,CAAC,CAAC,IAAI,CAAC,CAACd,OAAO,CAAC,kBAAkB,CAAC,CAC/D,CAAC,EACF,CAAC;AAEH;AACA;AACA,KACEsO,qBAAqB,CAAE,SAAAA,qBAAUD,CAAAA,KAAK,CAA4B,CAA1B,IAAApK,iBAAiB,CAAA,EAAA,CAAA,CAAAlK,SAAA,CAAAC,MAAA,EAAAD,SAAA,eAAAA,SAAA,CAAA,CAAA,CAAA,CAClDoU,IAAI,CAAG,IAAI,CACXK,YAAY,CAAGH,KAAK,CAACzO,IAAI,CAAC,eAAe,CAAC,CAC1C6O,OAAO,CAAGD,YAAY,CAAC7J,EAAE,CAAC,QAAQ,CAAC,CACrC9H,GAAG,CAAGwR,KAAK,CAACtR,IAAI,CAAC,KAAK,CAAC,CACvByR,YAAY,CAAC7J,EAAE,CAAC,UAAU,CAAC,EAAI9H,GAAG,GACjCoH,iBAAiB,EACpBuK,YAAY,CAACvK,iBAAiB,EAAE,CAEjCvH,YAAY,CAACC,OAAO,CAACE,GAAG,CAAC,CAACG,IAAI,CAAC,SAAU0R,QAAQ,CAAE,CAClDF,YAAY,CAACvO,IAAI,CAACyO,QAAQ,CAAC,CAC3B,IAAM5I,iBAAiB,CAAGC,qBAAqB,CAACC,gBAAgB,CAACnJ,GAAG,CAAEsR,IAAI,CAAClI,cAAc,EAAE,CAAC,CAC5FH,iBAAiB,CAACI,mBAAmB,CAACsI,YAAY,CAAC,CAC/CC,OAAO,CACV3I,iBAAiB,CAACK,qBAAqB,EAAE,EAEzCL,iBAAiB,CAAC6I,sBAAsB,EAAE,CAC1C7I,iBAAiB,CAAC8I,kBAAkB,EAAE,EAExC,CAAC,CAAC,EAEJ,CAAC,CACDxK,8BAA8B,CAAE,SAAAA,8BAAA,EAAY,KACvCyK,MAAM,CAAG,IAAI,CAACxG,gBAAgB,EAAE,CAACzI,IAAI,CAAC,kBAAkB,CAAC,CACzDZ,MAAM,CAAGnD,GAAG,CAACC,aAAa,EAAE,CAChC+S,MAAM,CAAC/M,IAAI,CAAC,SAAUC,KAAK,CAAEsM,KAAK,CAAE,CAAA,IAC/BS,YAAY,CAAGxT,MAAM,CAAC+S,KAAK,CAAC,CAC5BU,WAAW,CAAGD,YAAY,CAAC1Q,IAAI,CAAC,cAAc,CAAC,CACnD,GAAI5F,OAAA,CAAOuW,WAAW,CAAA,GAAA,WAAqB,EAAI,CAAAA,CAAAA,GAAAA,WAAqB,CAAE,CAAA,IACjEC,sBAAsB,CAAGF,YAAY,CAAClP,IAAI,CAAC,kBAAkB,CAAC,CAACqP,GAAG,CAAC,SAAS,CAAC,CAC7EC,YAAY,CAAGJ,YAAY,CAAC9O,OAAO,CAAC,kBAAkB,CAAC,CAACJ,IAAI,CAAC,eAAe,CAAC,CAC7EuP,OAAO,CAAGH,sBAAsB,CAACjS,IAAI,CAAC,IAAI,CAAC,CAE3CxC,KAAK,CAAGsB,GAAG,CAACuT,QAAQ,CADTpQ,MAAM,CAAG,GAAG,CAAGmQ,OAAO,CACF,IAAI,CAAC,CAC3B,IAAI,EAAb5U,KAAa,GACH,CAAC,EAAVA,KAAU,EACbyU,sBAAsB,CAACtH,QAAQ,CAAC,QAAQ,CAAC,CACzCoH,YAAY,CAAClP,IAAI,CAAC,oBAAoB,CAAC,CAAC6H,WAAW,CAAC,QAAQ,CAAC,CAC7DyH,YAAY,CAACzH,WAAW,CAAC,QAAQ,CAAC,GAElCuH,sBAAsB,CAACtH,QAAQ,CAAC,QAAQ,CAAC,CACzCoH,YAAY,CAAClP,IAAI,CAAC,oBAAoB,CAAC,CAAC6H,WAAW,CAAC,QAAQ,CAAC,CAC7DyH,YAAY,CAACxH,QAAQ,CAAC,QAAQ,CAAC,CAAA,EAGlC,CACD,CAAC,EACF,CAAC;AAEH;AACA;AACA,KACE2H,gBAAgB,CAAE,SAAAA,gBAAAA,CAAUC,gBAAgB,CAAE,CAAA,IACvC1R,YAAY,CAAG,IAAI,CACrB2R,UAAU,CAAGzO,CAAC,CAAC,gBAAgB,CAAC,CACnC0O,eAAe,CAAG1O,CAAC,CAAC,QAAQ,CAAEwO,gBAAgB,CAAC,CAC/CG,WAAW,CAAG3O,CAAC,CAAC,OAAO,CAAEwO,gBAAgB,CAAC,CAC1CI,aAAa,CAAG5O,CAAC,CAAC,uBAAuB,CAAEwO,gBAAgB,CAAC,CAC5DK,YAAY,CAAG7O,CAAC,CAAC,YAAY,CAAE2O,WAAW,CAAC,CAC5CF,UAAU,CAACK,IAAI,CAAC,UAAU,CAAA,CAAA,CAAM,CAAC,CACjC9O,CAAC,CAAC6O,YAAY,CAAC,CAAC7N,IAAI,CAAC,SAAUC,KAAK,CAAEpC,OAAO,CAAE,CAAA,IAC1CI,SAAS,CAAGe,CAAC,CAACnB,OAAO,CAAC,CAACd,GAAG,EAAE,CAC/BgR,aAAa,CAAG/O,CAAC,CAACnB,OAAO,CAAC,CAC1BmQ,WAAW,CASJ,CAAC,CAAC,EARRhP,CAAC,CAAC0M,OAAO,CAACqC,aAAa,CAAC9S,IAAI,CAAC,MAAM,CAAC,CAAE,CACrC,OAAO,CACP,aAAa,CACb,eAAe,CACf,iBAAiB,CACjB,aAAa,CACb,mBAAmB,CACnB,oBAAoB,CACpB,CAAO,CAELgD,SAAS,CADTA,SAAS,CAAG,IACH,CACV4P,YAAY,CAAG7O,CAAC,CAAC,UAAS,CAAGgP,WAAW,CAAG,4BAAyB,CAAEL,WAAW,CAAC,CACtF,GAAqC,CAAA,UAAU,EAA3CE,YAAY,CAACvR,IAAI,CAAC,UAAU,CAAe,EAAkC,UAAU,GAAxCuR,YAAY,CAACvR,IAAI,CAAC,MAAM,CAAgB,KAGjE,CAAC,EAAvBqR,WAAW,CAACzV,MAAW,CAGvByV,EAAAA,CAAAA,WAAW,CAAC9K,EAAE,CAAC,UAAU,CAAC,CAG1BgL,CAAAA,YAAY,CAACvR,IAAI,CAAC,gBAAgB,CAAC,EACtCuR,YAAY,CAACI,SAAS,EAAE,CAEzBP,eAAe,CAAC9H,QAAQ,CAAC,QAAQ,CAAC,CAClCgI,aAAa,CAAChI,QAAQ,CAAC,QAAQ,CAAC,CAChC+H,WAAW,CACThI,WAAW,CAAC,QAAQ,CAAC,CACrBoG,QAAQ,EAAE,CACVxU,MAAM,CAAC,sDAAkD,CAAC,CAC1DA,MAAM,CAAC,QAAQ,CAAC,CAChB2W,KAAK,EAAE,CACT,IAAIC,WAAW,CAAG,SAAdA,WAAWA,CAAa1M,CAAC,CAAE,CAsD9B,SAAS2M,KAAKA,CAACC,CAAC,CAAE,CACjB,OAAO,KAAA,CAAA,GAAAA,CAAe,EAAU,IAAI,GAAVA,CAAU,CAAG,EAAE,CAAGA,CAAC,CAAG,EACjD,CAvDAvS,YAAY,CAACgP,yBAAyB,EAAE,CACxC,IAAIjN,OAAO,CAAGmB,CAAC,CAACyC,CAAC,CAAC3J,MAAM,CAAC,CACzB,GAAA,EAAIkH,CAAC,CAACyC,CAAC,CAACW,aAAa,CAAC,CAACtE,IAAI,CAAC,sBAAsB,CAAC,CAAC5F,MAAM,GACrD2F,OAAO,CAACK,OAAO,CAAC,eAAe,CAAC,CAAChG,MAAM,EAAI2F,OAAO,CAACoI,QAAQ,CAAC,cAAc,CAAC,CAAA,CAAA,EAAA,EAK/EpI,OAAO,CAACK,OAAO,CAAC,aAAa,CAAC,CAAC2E,EAAE,CAAC2K,gBAAgB,CAAC,EACnD3P,OAAO,CAACK,OAAO,CAAC,gBAAgB,CAAC,CAAChG,MAAM,EACxC2F,OAAO,CAACoI,QAAQ,CAAC,mCAAmC,CAAC,EACrDpI,OAAO,CAACK,OAAO,CAAC,0BAA0B,CAAC,CAAChG,MAAM,EAClD2F,OAAO,CAAC4O,OAAO,CAAC,sBAAsB,CAAC,CAACvU,MAAM,GAI/CsV,gBAAgB,CAACzP,UAAU,CAAC,UAAU,CAAC,CACvCyP,gBAAgB,CAAC7H,WAAW,CAAC,gBAAgB,CAAC,CAC9C,IAAI2I,aAAa,CAAGP,aAAa,CAAC9S,IAAI,CAAC,WAAW,CAAC,CAClD0S,WAAW,CAAGI,aAAa,CAAC7P,OAAO,CAAC,OAAO,CAAC,CAC5CqQ,gBAAgB,CAC2C,CAAC,CAA3DZ,WAAW,CAAC7P,IAAI,CAAC,UAAS,CAAGkQ,WAAW,CAAG,KAAI,CAAC,CAAC9V,MAAU,CACxDyV,WAAW,CAAC7P,IAAI,CAAC,UAAS,CAAGkQ,WAAW,CAAG,KAAI,CAAC,CAACjR,GAAG,EAAE,CACtD4Q,WAAW,CAAC7P,IAAI,CAAC,UAAS,CAAGG,SAAS,CAAG,KAAI,CAAC,CAAClB,GAAG,EAAE,CACxDyR,SAAS,CAAGC,eAAe,CAAC9U,WAAW,CAACkU,YAAY,CAAC5S,IAAI,CAAC,WAAW,CAAC,CAAC,CACvEyT,aAAa,CAAG,EAAE,CAClBC,QAAQ,CAAA,CAAA,CAAQ,CAqBjB,GApBmD,CAAC,EAAhDhB,WAAW,CAAC7P,IAAI,CAAC,kBAAkB,CAAC,CAAC5F,MAAW,EACnDyV,WAAW,CAAC7P,IAAI,CAAC,kBAAkB,CAAC,CAACkC,IAAI,CAAC,UAAY,CACrD,IAAI4O,KAAK,CAAG,CACXrP,IAAI,CAAEP,CAAC,CAAC,IAAI,CAAC,CAAC1C,IAAI,CAAC,MAAM,CAAC,CAC1BxB,IAAI,CAAEkE,CAAC,CAAC,IAAI,CAAC,CAAC/D,IAAI,CAAC,WAAW,CAAC,CAACH,IACjC,CAAC,CACoB,UAAU,EAA3B8T,KAAK,CAAA9T,IAAsB,GAC9B6T,QAAQ,CAAO,CAAA,CAAA,CAAA,CAEhBD,aAAa,CAAC/W,IAAI,CAACiX,KAAK,EACzB,CAAC,CAAC,CAECf,YAAY,CAAChL,EAAE,CAAC,gBAAgB,CAAC,GAEnC0L,gBAAgB,CADbV,YAAY,CAAChL,EAAE,CAAC,UAAU,CAAC,CACX,GAAG,CAEH,GAAG,CAEvBgL,YAAY,CAAGA,YAAY,CAACtW,MAAM,CAAC,qBAAmB,CAAC,CAEpDsW,CAAAA,YAAY,CAACrR,gBAAgB,CAAC,UAAU,CAAC,CAI5C,OAHIqR,KAAAA,YAAY,CAACvR,IAAI,CAAC,gBAAgB,CAAC,EACtCuR,YAAY,CAACI,SAAS,EAAE,CAAA,CAQ1B,GADAJ,YAAY,CAACrR,gBAAgB,CAAC,MAAM,CAAC,CACjC4R,KAAK,CAACE,aAAa,CAAC,GAAKF,KAAK,CAACG,gBAAgB,CAAC,CACnDZ,WAAW,CAAC/H,QAAQ,CAAC,QAAQ,CAAC,CAC9B8H,eAAe,CAAC/H,WAAW,CAAC,QAAQ,CAAC,CACrCiI,aAAa,CAACjI,WAAW,CAAC,QAAQ,CAAC,CACnC8H,UAAU,CAACK,IAAI,CAAC,UAAU,CAAA,CAAA,CAAO,CAAC,CAClCH,WAAW,CAACkB,GAAG,CAAC,cAAc,CAAC,CAAA,KACzB,CACN,IAAIC,iBAAiB,CAAGtV,MAAM,CAACuV,KAAK,CAACjT,YAAY,CAACsF,YAAY,CAAC,CAK/D,GAJAyM,YAAY,CAAC7P,OAAO,CAAC8Q,iBAAiB,CAAE,CACvCE,UAAU,CAAET,gBAAgB,CAC5BtR,QAAQ,CAAEnB,YAAY,CAACvB,WAAW,EACnC,CAAC,CAAC,CACEuU,iBAAiB,CAACG,kBAAkB,EAAE,CAEzC,OADA,KAAAxB,UAAU,CAACK,IAAI,CAAC,UAAU,GAAO,CAAC,CAGnCH,WAAW,CAAC/H,QAAQ,CAAC,QAAQ,CAAC,CAC9BsJ,cAAc,CAACC,QAAQ,CACtBrT,YAAY,CAACsT,0BAA0B,CAAC,CACvCR,KAAK,CAAE3Q,SAAS,CAChBxF,KAAK,CAAE8V,gBACR,CAAC,CACF,CAAC,CACCrT,IAAI,CAAC,SAAU0R,QAAQ,CAAE,CAKzB,GAJAe,WAAW,CAACkB,GAAG,CAAC,cAAc,CAAC,CAC/BpB,UAAU,CAACK,IAAI,CAAC,UAAU,GAAO,CAAC,CAClCJ,eAAe,CAAC/H,WAAW,CAAC,QAAQ,CAAC,CACrCiI,aAAa,CAACjI,WAAW,CAAC,QAAQ,CAAC,CAAA,CAC/B,CAACiH,QAAQ,CAACrP,OAAO,CAAA,CAAA,IAGf8R,qBAAqB,CAAGzC,QAAQ,CAACvD,MAAM,CACzCiG,YAAY,CAAGD,qBAAqB,CAACpR,SAAS,CAAC,CAACsR,aAAa,CAChEC,gBAAgB,CAAGH,qBAAqB,CAACpR,SAAS,CAAC,CAACwR,kBAAkB,CA0BvE,GAzBIf,aAAa,CAACxW,MAAM,EAAIyW,QAAQ,GACnCW,YAAY,CACXD,qBAAqB,CAACX,aAAa,CAAC,CAAC,CAAC,CAACnP,IAAI,CAAC,CAACgQ,aAAa,CAC1D,GAAG,CACHF,qBAAqB,CAACX,aAAa,CAAC,CAAC,CAAC,CAACnP,IAAI,CAAC,CAACgQ,aAAa,CAE5D7B,CAAAA,eAAe,CAACvP,IAAI,CAACmR,YAAY,CAAC,CAClCvV,GAAG,CAACqE,UAAU,CAAC,CACdX,KAAK,CAAE1D,GAAG,CAAC2D,UAAU,CAAC,mBAAmB,CAAC,CAC1CC,IAAI,CACH,KAAK,CACL6Q,SAAS,CAACvT,IAAI,CAACyU,KAAK,cACV,CAEV3V,GAAG,CAAC2D,UAAU,CAAC,eAAe,CAAC,CAC/B,QAAQ,CACR8R,gBAAgB,CAAA,UACT,CAEPzV,GAAG,CAAC2D,UAAU,CAAC,aAAa,CAAC,CAC7B,QAAQ,CACR4R,YAAY,CACbxU,IAAI,CAAE,MAAM,CACZ6U,WAAW,CACZ,CAAA,CAAA,CAAC,CAAC,CACE,KAAAN,qBAAqB,CAAAO,WAAyB,CAAE,CACnD,IAAIC,SAAS,CAAG9V,GAAG,CAAC+V,kBAAkB,CAAC5V,MAAM,CAACyE,QAAQ,CAACuN,IAAI,CAAC,CACxDhS,MAAM,GAAKA,MAAM,CAACkG,MAAM,CAG3BlG,MAAM,CAACyE,QAAQ,CAACuN,IAAI,CAAG,mBAAmB,CAAG2D,SAAS,CAAA3S,MAAU,CAAG,YAAY,CAF/EhD,MAAM,CAACkG,MAAM,CAACzB,QAAQ,CAACuN,IAAI,CAAG,mBAAmB,CAAG2D,SAAS,CAAA3S,MAAU,CAAG,oBAI5E,CAAC,KAAA,CACA,CAAAmS,CAAAA,GAAAA,qBAAqB,CAAAU,WAAyB,EAC9C,CAAA,CAAA,GAAAV,qBAAqB,CAAAW,OAAoB,IAEzChR,CAAC,CAACmD,iBAAiB,CAAC,CACnBsI,QAAQ,CAAE,MAAM,CAChBC,SAAS,CAAE,CACVC,OAAO,CAAA,CAAA,CACR,CACD,CAAC,CAAC,CACEzQ,MAAM,GAAKA,MAAM,CAACkG,MAAM,CAG3BlG,MAAM,CAACyE,QAAQ,CAACC,MAAM,EAAE,CAFxB1E,MAAM,CAACyE,QAAQ,CAACuN,IAAI,CAAGhS,MAAM,CAACyE,QAAQ,CAACuN,IAAI,CAAC+D,OAAO,CAAC,aAAa,CAAE,oBAAoB,CAAC,EAK1FpC,YAAY,CAAC7P,OAAO,CAAClC,YAAY,CAACoF,iBAAiB,CAAE,CACpDgP,GAAG,CAAE5B,aAAa,CAClB6B,GAAG,CAAE5B,gBACN,CAAC,CAAC,CACFA,gBAAgB,CAAG,KAAAA,CAAAA,GAAAA,gBAA8B,CAAG,EAAE,CAAGA,gBAAgB,CACzER,aAAa,CAAC9S,IAAI,CAAC,WAAW,CAAEsT,gBAAgB,CAAC,CACjDV,YAAY,CAAC5S,IAAI,CAAC,eAAe,CAAEsT,gBAAgB,CAAC,CAChDzS,YAAY,CAAC0E,oBAAoB,GAC8B,CAAC,CAA/DxB,CAAC,CAAC,yBAAyB,CAAElD,YAAY,CAAC4G,OAAO,EAAE,CAAC,CAACxK,MAAU,CAClE4D,YAAY,CAAC2E,cAAc,CAAC3C,IAAI,CAAC,uBAAuB,CAAC,CAACE,OAAO,CAAC,OAAO,CAAC,CAE1ElC,YAAY,CAAC2E,cAAc,CAACzC,OAAO,CAAC,OAAO,CAAC,CAE7ClC,YAAY,CAAC0E,oBAAoB,CAAQ,CAAA,CAAA,CACzC1E,YAAY,CAAC2E,cAAc,CAAQ,CAAA,CAAA,CAAA,CAEpC,IAAI2P,kBAAkB,CAAGtU,YAAY,CAACqI,cAAc,EAAE,CACtD,GAAIiM,kBAAkB,CAACnV,IAAI,CAAC,SAAS,CAAC,EAAIa,YAAY,CAAC+E,yBAAyB,CAAE,CACjF,IAAIyF,oBAAoB,CAAGxK,YAAY,CAACyK,gBAAgB,EAAE,CAC1DzK,YAAY,CAACuJ,gBAAgB,EAAE,CAC/BvJ,YAAY,CAACuU,kCAAkC,CAAC/J,oBAAoB,CAAC,CACrExK,YAAY,CAACsQ,2BAA2B,GACzC,CACAtQ,YAAY,CAACwU,2BAA2B,CAACxU,YAAY,CAAC4G,OAAO,EAAE,EAAC,CACjE,CAAC,CAAC,CACDrH,IAAI,CAAC,SAAUwD,KAAK,CAAEC,UAAU,CAAEyK,WAAW,CAAE,CAC/CoE,WAAW,CAAC/H,QAAQ,CAAC,QAAQ,CAAC,CAC9B8H,eAAe,CAAC/H,WAAW,CAAC,QAAQ,CAAC,CACrCiI,aAAa,CAACjI,WAAW,CAAC,QAAQ,CAAC,CACnCgI,WAAW,CAACkB,GAAG,CAAC,cAAc,CAAC,CAC/BpB,UAAU,CAACK,IAAI,CAAC,UAAU,CAAA,CAAA,CAAO,CAAC,CAClC/T,GAAG,CAACqE,UAAU,CAAC,CACdtD,IAAI,CAAE,OAAO,CACb2C,KAAK,CAAE1D,GAAG,CAAC2D,UAAU,CAAC,qBAAqB,CAAC,CAC5CC,IAAI,CAAEmB,UACP,CAAC,EACF,CAAC,EACH,CAAC,CACF,CAAC,CACD6O,WAAW,CAAC9N,EAAE,CAAC,cAAc,CAAEsO,WAAW,EAAC,CAC5C,CAAC,EACF,CAAC;AAEH;AACA,KACEoC,2CAA2C,CAAE,SAAAA,2CAAAA,CAAU9N,SAAS,CAAE+N,YAAY,CAAE,CAC/EhX,MAAM,CAAC,oEAA8D,CAAC,CAACiX,QAAQ,CAAChO,SAAS,CAAC,CAC1FjJ,MAAM,CAACwG,IAAI,CAACwQ,YAAY,CAAE,SAAUvQ,KAAK,CAAExH,KAAK,CAAE,CACjDe,MAAM,CAAC,gCAA6B,CAAGyG,KAAK,CAAG,aAAW,CAAGxH,KAAK,CAAG,MAAK,CAAC,CAACgY,QAAQ,CAAChO,SAAS,EAC/F,CAAC,EACF,CAAC;AAEH;AACA;AACA,KACEiO,8BAA8B,CAAE,SAAAA,8BAAA,EAAY,CAC3C,IAAI5U,YAAY,CAAG,IAAI,CAEvB;AACH;AACA,MACGtC,MAAM,CAAC,iBAAiB,CAAC,CAACqG,EAAE,CAAC,OAAO,CAAE,SAAU4B,CAAC,CAAE,CAAA,IAC9CkP,mBAAmB,CAAG,UAAU,CAChC1T,QAAQ,CAAGnB,YAAY,CAACvB,WAAW,EAAE,CACrC2C,MAAM,CAAGnD,GAAG,CAACC,aAAa,EAAE,CAC5B6D,OAAO,CAAGrE,MAAM,CAACiI,CAAC,CAACW,aAAa,CAAC,CAEjCoO,YAAY,CAAG,EAAE,CACrBA,YAAY,CAAAI,YAAgB,CAAG1T,MAAM,CACrCsT,YAAY,CAAAK,YAAgB,CAAG5T,QAAQ,CACnC,IAAA6T,WAAW,CAAGjT,OAAO,CAAC5C,IAAI,CAAC,KAAK,CAAC,CACjC8V,kBAAkB,CAAG,SAArBA,kBAAkBA,CAAa9V,IAAI,CAAE,CACxCa,YAAY,CAACyU,2CAA2C,CAACtV,IAAI,CAAEuV,YAAY,CAAC,CAAA,IACxEQ,sBAAsB,CAAG/V,IAAI,CAAC6C,IAAI,CAAC,0CAAwC,CAAC,CAACA,IAAI,CAAC,mBAAmB,CAAC,CACtGmT,wBAAwB,CAAGhW,IAAI,CAAC6C,IAAI,CAAC,wCAAsC,CAAC,CAACA,IAAI,CAAC,mBAAmB,CAAC,CACtGoT,eAAe,CAAGF,sBAAsB,CAAC/V,IAAI,CAAC,KAAK,CAAC,CAAG,GAAG,CAAG6V,WAAW,CACxEK,iBAAiB,CAAGF,wBAAwB,CAAChW,IAAI,CAAC,KAAK,CAAC,CAAG,GAAG,CAAG6V,WAAW,CAChFE,sBAAsB,CAAC/V,IAAI,CAAC,KAAK,CAAEiW,eAAe,CAAC,CACnDD,wBAAwB,CAAChW,IAAI,CAAC,KAAK,CAAEkW,iBAAiB,EACvD,CAAC,CACGC,gBAAgB,CAAG,SAAnBA,gBAAgBA,EAAe,CAClCtV,YAAY,CAACuV,qBAAqB,CAAC5P,CAAC,CAAC,CACrC3F,YAAY,CAACgH,UAAU,CAAC9D,CAAC,CAAC,4CAA0C,CAAC,EACtE,CAAC,CACGsS,iBAAiB,CAAG,EAAE,CAC1BA,iBAAiB,CAAAC,iBAAqB,CAAGR,kBAAkB,CAC3DO,iBAAiB,CAAAF,gBAAoB,CAAGA,gBAAgB,CACxDE,iBAAiB,CAAArW,IAAQ,CAAG7D,MAAM,CAACoa,MAAM,CAAC,EAAE,CAAEhB,YAAY,CAAC,CAC3Dc,iBAAiB,CAAA3V,OAAW,CAAA,CAAA,CAAQ,CACpCJ,GAAG,CAACC,UAAU,CAACC,WAAW,CAACC,YAAY,CAAsB4V,UAAAA,CAAAA,iBAAiB,EAC/E,CAAC,EACF,CAAC;AAEH;AACA,KACEnO,2DAA2D,CAAE,SAAAA,2DAAAA,CAAUV,SAAS,CAAE,CACjF,IAAI3G,YAAY,CAAG,IAAI,CACvB2G,SAAS,CACP3E,IAAI,CAAC,yBAAyB,CAAC,CAC/B+Q,GAAG,EAAE,CACLhP,EAAE,CAAC,OAAO,CAAE,SAAU4B,CAAC,CAAE,KACrBgK,cAAc,CAAGjS,MAAM,CAACiI,CAAC,CAACW,aAAa,CAAC,CACxCqP,sBAAsB,CAAGhG,cAAc,CAACvN,OAAO,CAAC,mBAAmB,CAAC,CACpEyS,mBAAmB,CAAGc,sBAAsB,CAACxW,IAAI,CAAC,YAAY,CAAC,CAC/DyW,cAAc,CAAGjG,cAAc,CAACxQ,IAAI,CAAC,KAAK,CAAC,CAC3C0W,iBAAiB,CAAG,EAAE,CACtBC,kBAAkB,CAAGnG,cAAc,CAACxQ,IAAI,CAAC,KAAK,CAAC,CAC/CmM,UAAU,CAAGqE,cAAc,CAACvN,OAAO,CAAC,0BAA0B,CAAC,CAACJ,IAAI,CAAC,0BAAwB,CAAC,CAACf,GAAG,EAAE,CACpG8U,aAAa,CAAG,EAAE,CAClBC,mBAAmB,CAAG,SAAtBA,mBAAmBA,CAAa7W,IAAI,CAAE,CACzCa,YAAY,CAACiW,0BAA0B,CAAC9W,IAAI,CAAEwQ,cAAc,CAAC,CAClC,aAAa,EAApCkF,mBAAoC,EACvC7U,YAAY,CAACkW,iBAAiB,GAEhC,CAAC,CACiC,WAAW,EAAzC,OAAOJ,kBAAkC,EAC5C5S,CAAC,CAACgB,IAAI,CAAC4R,kBAAkB,CAAE,SAAU3R,KAAK,CAAExH,KAAK,CAAE,CAClDoZ,aAAa,CAAC5R,KAAK,CAAC,CAAGxH,MACxB,CAAC,CAAC,CAEqC,CAAC,CAArCrB,MAAM,CAACD,IAAI,CAAC0a,aAAa,CAAC,CAAC3Z,MAAU,GACxCyZ,iBAAiB,CAAA1W,IAAQ,CAAG4W,aAAa,EAE1CF,iBAAiB,CAAAhW,OAAW,CAAA,CAAA,CAAO,CACnCgW,iBAAiB,CAAAP,gBAAoB,CAAGU,mBAAmB,CAAA,IAMvDG,WAAW,CALXC,QAAQ,CAAG1Y,MAAM,CAAC2I,iBAAiB,CAAC,CACvCuI,SAAS,CAAE,CACVC,OAAO,CAAA,CAAA,CACR,CACD,CAAC,CAAC,CAKDsH,WAAW,CAHR/X,MAAM,GAAKA,MAAM,CAACkG,MAAM,CAGb7E,GAAG,CAACC,UAAU,CAACC,WAAW,CAF1BvB,MAAM,CAACkG,MAAM,CAAC7E,GAAG,CAACC,UAAU,CAACC,WAAW,CAIvDwW,WAAW,CAACvP,OAAO,CAACgP,cAAc,CAAEtK,UAAU,CAAEuK,iBAAiB,CAAC,CAACzW,IAAI,CAAC,SAAUD,IAAI,CAAE,CACvFgX,WAAW,CAACE,SAAS,CAAClX,IAAI,CAAE0W,iBAAiB,CAAElG,cAAc,CAAC,CAC9DyG,QAAQ,CAAC/P,iBAAiB,CAAC,CAAEzD,IAAI,CAAE,MAAO,CAAC,EAC5C,CAAC,EACF,CAAC,CAAC,CACH+D,SAAS,CACP3E,IAAI,CAAC,uBAAuB,CAAC,CAC7B+Q,GAAG,CAAC,OAAO,CAAC,CACZhP,EAAE,CAAC,OAAO,CAAE,SAAU4B,CAAC,CAAE,CAAA,IACrBgQ,sBAAsB,CAAGjY,MAAM,CAACiI,CAAC,CAACW,aAAa,CAAC,CAAClE,OAAO,CAAC,mBAAmB,CAAC,CAC7EyS,mBAAmB,CAAGc,sBAAsB,CAACxW,IAAI,CAAC,YAAY,CAAC,CAC/DmX,iBAAiB,CAAGpT,CAAC,CAAC,IAAI,CAAC,CAAC/D,IAAI,CAAC,IAAI,CAAC,CACtCgB,MAAM,CAAG,CACZiB,MAAM,CAAEyT,mBAAmB,CAC3B0B,UAAU,CAAEtY,GAAG,CAACC,aAAa,EAAE,CAC/BgL,UAAU,CAAElJ,YAAY,CAACvB,WAAW,EAAE,CACtC+X,YAAY,CAAA,CAAA,CAAM,CAClBjL,UAAU,CAAEoK,sBAAsB,CAACxW,IAAI,CAAC,YAAY,CACrD,CAAC,CACGmX,iBAAiB,EAA4C,CAAC,CAAzChb,MAAM,CAACD,IAAI,CAACib,iBAAiB,CAAC,CAACla,MAAU,GACjE+D,MAAM,CAAAsW,UAAc,CAAGH,iBAAiB,CAACha,GAAG,CAC5C6D,MAAM,CAAAuW,YAAgB,CAAGJ,iBAAiB,CAAC7S,IAAI,CAAA,CAEhDxF,GAAG,CAACmL,eAAe,CAACjJ,MAAM,CAAE,SAACwW,MAAM,CAAE5Y,QAAQ,CAAK,CACjDA,QAAQ,CAACuL,cAAc,CAAC,SAACqB,YAAY,CAAK,CACzC3K,YAAY,CACVsN,yBAAyB,CAACuH,mBAAmB,CAAEvZ,MAAM,CAACD,IAAI,CAACsP,YAAY,CAAC,CAAE,IAAI,CAAE,CAChFY,UAAU,CAAEpL,MAAM,CAACoL,UACpB,CAAC,CAAC,CACDnM,IAAI,CAAC,UAAY,CACjBY,YAAY,CAACgH,UAAU,CAAC2O,sBAAsB,CAAC3T,IAAI,CAAC,qBAAqB,CAAC,EAC3E,CAAC,EACH,CAAC,EACF,CAAC,EACF,CAAC,EACH,CAAC,CACD4U,8BAA8B,CAAE,SAAAA,8BAAAA,EAAY,CAC3ClZ,MAAM,CAAC,kCAAkC,CAAC,CAACqG,EAAE,CAAC,OAAO,CAAE,SAAU4B,CAAC,CAAE,CAC/D,IAAAgK,cAAc,CAAGjS,MAAM,CAACiI,CAAC,CAACW,aAAa,CAAC,CACxCuQ,SAAS,CAAGlH,cAAc,CAACxQ,IAAI,CAAC,KAAK,CAAC,CACtC2W,kBAAkB,CAAGnG,cAAc,CAACxQ,IAAI,CAAC,KAAK,CAAC,CAC/C2X,iBAAiB,CAAG,EAAE,CACQ,WAAW,EAAzC,OAAOhB,kBAAkC,EAC5C5S,CAAC,CAACgB,IAAI,CAAC4R,kBAAkB,CAAE,SAAU3R,KAAK,CAAExH,KAAK,CAAE,CAClDma,iBAAiB,CAAG,GAAG,CAAG3S,KAAK,CAAG,GAAG,CAAGxH,KAAK,CAC7Cka,SAAS,CAAGA,SAAS,CAACE,MAAM,CAACD,iBAAiB,EAC/C,CAAC,CAAC,CAEH1Y,MAAM,CAACyE,QAAQ,CAACuN,IAAI,CAAGyG,UACxB,CAAC,EACF,CAAC,CACDG,kBAAkB,CAAE,SAAAA,kBAAAA,EAAY,CAC/B,IAAI,CAACvM,gBAAgB,EAAE,CACrBzI,IAAI,CAAC,sBAAsB,CAAC,CAC5B+B,EAAE,CAAC,OAAO,CAAE,SAAU4B,CAAC,CAAE,CACzB1H,GAAG,CAACgZ,gBAAgB,CAAC,CACpBtV,KAAK,CAAE1D,GAAG,CAAC2D,UAAU,CAAC,uCAAuC,CAAC,CAC9DsV,iBAAiB,CAAE,SAAAA,iBAAAA,EAAM,CACxBpY,YAAY,CAACC,OAAO,CAAC,CACpBqC,MAAM,CAAE,aAAa,CACrBC,MAAM,CAAE,UAAU,CAClBiK,UAAU,CAAErN,GAAG,CAACC,aAAa,EAAE,CAC/BoD,MAAM,CAAErD,GAAG,CAACQ,WAAW,EACxB,CAAC,CAAC,CAACW,IAAI,CAAC,SAAU+X,CAAC,CAAE,CACpBC,gBAAgB,CAACC,WAAW,CAAC,CAAExV,IAAI,CAAEsV,CAAC,CAAC5J,MAAO,CAAC,EAChD,CAAC,EACF,CACD,CAAC,EACF,CAAC,EACH,CAAC,CACDgI,qBAAqB,CAAE,SAAAA,qBAAAA,CAAU5P,CAAC,CAAExF,MAAM,CAAE,CAC3C,IAAIhB,IAAI,CAAG,IAAI,CAACmY,cAAc,CAAC3R,CAAC,CAAExF,MAAM,CAAC,CACzC,IAAI,CAAC6G,UAAU,CAAC7H,IAAI,CAAAwH,SAAa,CAAExH,IAAI,CAAAgB,MAAU,EAClD,CAAC,CACDmX,cAAc,CAAE,SAAAA,cAAU3R,CAAAA,CAAC,CAAExF,MAAM,CAAE,CACpC,IAAIwP,cAAc,CAEjBA,cAAc,CADXhK,CAAC,CAACW,aAAa,CACD5I,MAAM,CAACiI,CAAC,CAACW,aAAa,CAAC,CAEvBX,CAAC,CAEf,IAAAgQ,sBAAsB,CAAGhG,cAAc,CAACvN,OAAO,CAAC,mBAAmB,CAAC,CACpE0E,MAAM,CAAG6O,sBAAsB,CAAC3T,IAAI,CAAC,qBAAqB,CAAC,CAC3D/C,GAAG,CAAG,GAAG,CAAG6H,MAAM,CAAC3H,IAAI,CAAC,KAAK,CAAC,CAC9BmI,SAAS,CAAG,EAAE,CAClBrI,GAAG,CAACkV,OAAO,CAAC,yBAAyB,CAAE,SAAUoD,CAAC,CAAEjb,GAAG,CAAEK,KAAK,CAAE,CAC/D2K,SAAS,CAAChL,GAAG,CAAC,CAAGK,MAClB,CAAC,CAAC,CACF,IAAI6a,YAAY,CAAG,EAAE,CAgDrB,OA/CA7B,sBAAsB,CAAC3T,IAAI,CAAC,8BAA8B,CAAC,CAACkC,IAAI,CAAC,SAAUsM,CAAC,CAAEiH,IAAI,CAAE,CAAA,IAC/E9a,KAAK,CAAG,EAAE,CACVoF,OAAO,CAAGrE,MAAM,CAAC+Z,IAAI,CAAC,CACtBhU,IAAI,CAAG1B,OAAO,CAAC5C,IAAI,CAAC,WAAW,CAAC,CACpC,GAA4B,OAAO,EAA/B4C,OAAO,CAACvB,IAAI,CAAC,MAAM,CAAY,CAc5B,CAAA,IACFkX,cAAc,CAAG3V,OAAO,CAACC,IAAI,CAAC,iBAAiB,CAAC,CAACf,GAAG,EAAE,CACtD0W,UAAU,CAAG5V,OAAO,CAAC5C,IAAI,CAAC,YAAY,CAAC,CACvC1D,MAAM,CAAGsG,OAAO,CAAC5C,IAAI,CAAC,QAAQ,CAAC,CACnC,GAA+B,OAAO,GAAlC4C,OAAO,CAAC5C,IAAI,CAAC,QAAQ,CAAa,CACrCxC,KAAK,CAAG+a,cAAc,CAAA,KAElBA,GAAAA,cAAc,EAAIC,UAAU,CAC/Bhb,KAAK,CAAG,CAAC,CAAClB,MAAM,CAAE,GAAG,CAAEic,cAAc,CAAC,CAAC,CAEvC,KAAA,MAGH,CAAC,QA1BI3V,OAAO,CAACiQ,IAAI,CAAC,SAAS,CAAC,CAAE,CAC5BrV,KAAK,CAAqC,WAAW,EAA7C,OAAOoF,OAAO,CAAC5C,IAAI,CAAC,QAAQ,CAAiB,CAA4B4C,OAAO,CAAC5C,IAAI,CAAC,SAAS,CAAC,CAAhD4C,OAAO,CAAC5C,IAAI,CAAC,QAAQ,CAA2B,CACxG,IAAIyY,gBAAgB,CAAG7V,OAAO,CAAC5C,IAAI,CAAC,QAAQ,CAAC,CACzCvE,OAAA,CAAOgd,gBAAgB,CAAA,IAAA,CAAA,CAAAhd,OAAA,CAAA,KAAA,CAAA,CAAA,CAAA,WAAA,CAAqB,EAAI,CAAA,CAAA,GAAAgd,gBAA0B,EAC7E1U,CAAC,CAACgB,IAAI,CAAC0T,gBAAgB,CAAE,SAAUC,SAAS,CAAEC,UAAU,CAAE,CACrDD,SAAS,IAAIL,YAAY,CAC5BA,YAAY,CAACK,SAAS,CAAC,CAAChc,IAAI,CAACic,UAAU,CAAC,CAExCN,YAAY,CAACK,SAAS,CAAC,CAAGC,WAE5B,CAAC,EAEH,CAeGrU,IAAI,EAAI9G,KAAK,GACe,OAAO,GAAlCoF,OAAO,CAAC5C,IAAI,CAAC,QAAQ,CAAa,CACrCqY,YAAY,CAAC/T,IAAI,CAAC,CAAG9G,KAAK,CAEtB8G,IAAI,IAAI+T,YAAY,CACvBA,YAAY,CAAC/T,IAAI,CAAC,CAAC5H,IAAI,CAACc,KAAK,CAAC,CAE9B6a,YAAY,CAAC/T,IAAI,CAAC,CAAG,CAAC9G,KAAK,CAAC,EAIhC,CAAC,CAAC,CACE,IAAA,EAAAwD,MAAmB,EACtB+C,CAAC,CAAC6U,MAAM,CAACP,YAAY,CAAErX,MAAM,CAAC,CAExB,CAAEwG,SAAS,CAAEzD,CAAC,CAAC4D,MAAM,CAAC,CAAE3G,MAAM,CAAE+C,CAAC,CAAC6U,MAAM,CAACzQ,SAAS,CAAEkQ,YAAY,CAAE,CAC1E,CAAC,CACDQ,6BAA6B,CAAE,SAAAA,6BAAAA,EAAY,CAC1C,IAAIhY,YAAY,CAAG,IAAI,CACvBtC,MAAM,CAAC,YAAY,CAAC,CAACqG,EAAE,CAAC,QAAQ,CAAE,SAAU4B,CAAC,CAAEsS,KAAK,CAAE,CACrD/U,CAAC,CAACyC,CAAC,CAACW,aAAa,CAAC,CAAClE,OAAO,CAAC,iBAAiB,CAAC,CAAC0H,QAAQ,CAAC,QAAQ,CAAC,CAACoO,QAAQ,EAAE,CAACrO,WAAW,CAAC,QAAQ,CAAC,CACjG7J,YAAY,CAACuV,qBAAqB,CAAC5P,CAAC,EACrC,CAAC,CAAC,CACFjI,MAAM,CAAC,kBAAkB,CAAC,CAACqG,EAAE,CAAC,gBAAgB,CAAE,SAAU4B,CAAC,CAAEsS,KAAK,CAAE,CACnEjY,YAAY,CAACuV,qBAAqB,CAAC5P,CAAC,EACrC,CAAC,EACF,CAAC;AAEH;AACA,KACE4O,kCAAkC,CAAE,SAAAA,kCAAAA,CAAU4D,oBAAoB,CAAE,CACnE,IAAInY,YAAY,CAAG,IAAI,CAKvB;AACH;AACA;AAQA;AACA;AAiDA;AACA;AA2EA;AACA;AACA,MA9IG,IAAI,CAAC4U,8BAA8B,EAAE,CACrC,IAAI,CAACoD,6BAA6B,EAAE,CACpC,IAAI,CAACpB,8BAA8B,EAAE,CACrC,IAAI,CAACI,kBAAkB,EAAE,CAIzBmB,oBAAoB,CAACpF,GAAG,CAAC,OAAO,CAAC,CAAChP,EAAE,CAAC,OAAO,CAAE,4BAA4B,CAAE,SAAU4B,CAAC,CAAE,CACxF,IAAIW,aAAa,CAAG5I,MAAM,CAACiI,CAAC,CAACW,aAAa,CAAC,CAC3CA,aAAa,CAACwD,QAAQ,CAAC,QAAQ,CAAC,CAChC,IAAI4H,gBAAgB,CAAGpL,aAAa,CAAClE,OAAO,CAAC,aAAa,CAAC,CAC3DpC,YAAY,CAACyR,gBAAgB,CAACC,gBAAgB,EAC/C,CAAC,CAAC,CAIFyG,oBAAoB,CAACpU,EAAE,CAAC/D,YAAY,CAACoF,iBAAiB,CAAE,yBAAyB,CAAE,UAAY,CAC9F,IACCjF,MAAM,CADHiY,aAAa,CAAGD,oBAAoB,CAACnW,IAAI,CAAC,uBAAuB,CAAC,CAElEoW,aAAa,CAAChc,MAAM,GACvB+D,MAAM,CAAGH,YAAY,CAACsX,cAAc,CAACc,aAAa,CAAC,CACnDA,aAAa,CAACpW,IAAI,CAAC,uBAAuB,CAAC,CAACsC,MAAM,EAAE,CAAC+T,MAAM,EAAE,CAC7DrY,YAAY,CAACgH,UAAU,CAACoR,aAAa,CAAEjY,MAAM,CAAAA,MAAU,CAAC,EAE1D,CAAC,CAAC,CAEFgY,oBAAoB,CAACpU,EAAE,CAAC,OAAO,CAAE,oBAAoB,CAAE,SAAU4B,CAAC,CAAE,CACnE,IAAIW,aAAa,CAAG5I,MAAM,CAACiI,CAAC,CAACW,aAAa,CAAC,CAC3CA,aAAa,CAACnD,OAAO,CAAC,MAAM,CAAC,CAC7B,IAAIlE,GAAG,CAAGqH,aAAa,CAACnH,IAAI,CAAC,KAAK,CAAC,CACnC,GAAIF,GAAG,CACN,GAAIqH,aAAa,CAAC6D,QAAQ,CAAC,UAAU,CAAC,CAAE,CACvC,IAAIgM,WAAW,CAAG1W,GAAG,CAACC,UAAU,CAACC,WAAW,CACxCvB,MAAM,GAAKA,MAAM,CAACkG,MAAM,GAC3B6R,WAAW,CAAG/X,MAAM,CAACkG,MAAM,CAAC7E,GAAG,CAACC,UAAU,CAACC,WAAW,CAEvDwW,CAAAA,WAAW,CAACvP,OAAO,CAAC3H,GAAG,CAAE,UAAU,CAAE,CAAEY,OAAO,CAAO,CAAA,CAAA,CAAC,CAAC,CAACT,IAAI,CAAC,SAACD,IAAI,CAAK,CACtEgX,WAAW,CAACE,SAAS,CACpBlX,IAAI,CACJ,CACCmW,gBAAgB,CAAE,SAAAA,gBAAAA,EAAM,CACvB,IAAIxO,MAAM,CAAGR,aAAa,CAAClE,OAAO,CAAC,qBAAqB,CAAC,CACzD,GAAI0E,MAAM,CAAC1K,MAAM,CAAE,CAClB4D,YAAY,CAACgH,UAAU,CAACF,MAAM,CAAC,CAC/B,IAAIsR,aAAa,CAAGpY,YAAY,CAACyK,gBAAgB,EAAE,CAACzI,IAAI,CAAC,uBAAuB,CAAC,CACtD,CAAC,CAAxBoW,aAAa,CAAChc,MAAU,EAC3B4D,YAAY,CAACgH,UAAU,CAACoR,aAAa,EAEvC,CAAC,KACApY,YAAY,CAACyC,eAAe,EAAE,CAE/BzC,YAAY,CAACkH,iCAAiC,GAC/C,CACD,CAAC,CACDZ,aACD,EACD,CAAC,EACF,CAAC,KACArI,GAAG,CAACoB,eAAe,CAAC,IAAI,CAAEJ,GAAG,EAGhC,CAAC,CAAC,CAKFkZ,oBAAoB,CAACpU,EAAE,CAAC,OAAO,CAAE,kBAAkB,CAAE,SAAU4B,CAAC,CAAE,CACjE,IAAIW,aAAa,CAAG5I,MAAM,CAACiI,CAAC,CAACW,aAAa,CAAC,CAC1CgS,UAAU,CAAGhS,aAAa,CAAClE,OAAO,CAAC,sBAAsB,CAAC,CAC1DyP,WAAW,CAAGyG,UAAU,CAACtW,IAAI,CAAC,OAAO,CAAC,CACtCuW,iBAAiB,CAAGD,UAAU,CAACtW,IAAI,CAAC,QAAQ,CAAC,CAC7CwW,eAAe,CAAGF,UAAU,CAACtW,IAAI,CAAC,sBAAsB,CAAC,CACzDyW,gBAAgB,CAAGH,UAAU,CAACtW,IAAI,CAAC,oBAAoB,CAAC,CACxD0W,UAAU,CAAGJ,UAAU,CAACtW,IAAI,CAAC,sBAAsB,CAAC,CACpD2W,WAAW,CAAGL,UAAU,CAACtW,IAAI,CAAC,uBAAuB,CAAC,CACtD4W,uBAAuB,CAAGN,UAAU,CAACtW,IAAI,CAAC,iCAAiC,CAAC,CAC5E6W,gBAAgB,CAAGnb,MAAM,CAAC,YAAY,CAAEmU,WAAW,CAAC,CACpD1P,SAAS,CAAG0W,gBAAgB,CAAC5X,GAAG,EAAE,CAClC8Q,YAAY,CAAGrU,MAAM,CAAC,UAAS,CAAGyE,SAAS,CAAG,KAAI,CAAE0P,WAAW,CAAC,CAChEyD,gBAAgB,CAAG,SAAnBA,gBAAgBA,EAAS,CACxB,IAAI9C,aAAa,CAAGqG,gBAAgB,CAAC1Z,IAAI,CAAC,WAAW,CAAC,CACrDsT,gBAAgB,CAAGV,YAAY,CAAC9Q,GAAG,EAAE,CACrC6X,gBAAgB,CAAG/G,YAAY,CAAC9Q,GAAG,EAAE,CACrC8X,WAAW,CAAGT,UAAU,CAAClW,OAAO,CAAC,kBAAkB,CAAC,CACpD4W,UAAU,CAAGD,WAAW,CAAC/W,IAAI,CAAC,aAAa,CAAC,CAACf,GAAG,EAAE,CAClDqK,UAAU,CAAGyN,WAAW,CAAC/W,IAAI,CAAC,iBAAiB,CAAC,CAACf,GAAG,EAAE,CACtDgY,YAAY,CAAGF,WAAW,CAAC/W,IAAI,CAAC,eAAe,CAAC,CAACf,GAAG,EAAE,CAAC,OACpDuR,aAAa,EAAIC,gBAAgB,CAAA,KACpCyG,gBAAgB,EAAE,EAElBZ,UAAU,CAACjS,iBAAiB,EAAE,CAC9BwL,WAAW,CAACsH,GAAG,CAACP,uBAAuB,CAAC,CAAC9O,QAAQ,CAAC,QAAQ,CAAC,CACpD,IAAIsP,OAAO,CAAC,SAAUvQ,OAAO,CAAEC,MAAM,CAAE,CAC7CD,OAAO,CAACkJ,YAAY,CAACrR,gBAAgB,CAAC,UAAU,CAAC,EAClD,CAAC,CAAC,CAAC2Y,IAAI,CAAC,SAACC,WAAW,CAAK;AACxB,OACIA,WAAW,CACd,KAAAlC,gBAAgB,CAACmC,oBAAoB,CAACjB,UAAU,CAAEhD,gBAAgB,CAAC,CAG5B;AAAvC7C,gBAAgB,CAAGV,YAAY,CAAC9Q,GAAG,EAAE,CACrCnC,YAAY,CAACC,OAAO,CAAC,CACpBsC,MAAM,CAAE,UAAU,CAClBC,MAAM,CAAE0X,UAAU,CAClBlG,KAAK,CAAE3Q,SAAS,CAChBxF,KAAK,CAAE8V,gBAAgB,CACvBrR,MAAM,CAAEkK,UAAU,CAClBkO,YAAY,CAAEP,YACf,CAAC,CAAC,CAAC7Z,IAAI,CAAC,UAAM,CACbkZ,UAAU,CAACjS,iBAAiB,CAAC,CAAEzD,IAAI,CAAE,MAAO,CAAC,CAAC,CAC9C2V,iBAAiB,CAAC1O,WAAW,CAAC,QAAQ,CAAC,CACvCvD,aAAa,CAACmT,IAAI,EAAE,CACpBjB,eAAe,CAACnW,IAAI,CAACyW,gBAAgB,CAAC,CACtCD,gBAAgB,CAAC1Z,IAAI,CAAC,WAAW,CAAEsT,gBAAgB,CAAC,CAC3B,EAAE,GAAvBA,gBAAuB,CAC1BgG,gBAAgB,CAAC5O,WAAW,CAAC,QAAQ,CAAC,CAEtC4O,gBAAgB,CAAC3O,QAAQ,CAAC,QAAQ,EAEpC,CAAC,CAAC,CAEJ,CAAC,CAAC,CAEJ,CAAC,CACDoP,gBAAgB,CAAG,SAAnBA,gBAAgBA,EAAe,CAC9BnH,YAAY,CAAC9Q,GAAG,CAAC4X,gBAAgB,CAAC1Z,IAAI,CAAC,WAAW,CAAC,CAAC,CACpD0S,WAAW,CAACsH,GAAG,CAACP,uBAAuB,CAAC,CAAC9O,QAAQ,CAAC,QAAQ,CAAC,CAC3DyO,iBAAiB,CAAC1O,WAAW,CAAC,QAAQ,CAAC,CACvCvD,aAAa,CAACmT,IAAI,GACnB,CAAC,CACFha,GAAG,CAACoB,MAAM,CAACuN,IAAI,CAACsL,MAAM,CAACzR,QAAQ,CAACqQ,UAAU,CAAE,CAAEqB,OAAO,CAAE,KAAM,CAAC,CAAC,CAC/DrT,aAAa,CAACsT,IAAI,EAAE,CACpBrB,iBAAiB,CAACzO,QAAQ,CAAC,QAAQ,CAAC,CACpC8O,uBAAuB,CAAC/O,WAAW,CAAC,QAAQ,CAAC,CAC7CgI,WAAW,CAAChI,WAAW,CAAC,QAAQ,CAAC,CAAC4P,IAAI,EAAE,CACxCf,UAAU,CAAC3F,GAAG,CAAC,OAAO,CAAC,CAAC8G,GAAG,CAAC,OAAO,CAAEvE,gBAAgB,CAAC,CACtDqD,WAAW,CAAC5F,GAAG,CAAC,OAAO,CAAC,CAAC8G,GAAG,CAAC,OAAO,CAAEX,gBAAgB,EACvD,CAAC,CAAC,CAOFhW,CAAC,CAAC,uBAAuB,CAAC,CAACa,EAAE,CAAC,OAAO,CAAE,SAAU4B,CAAC,CAAE,CACnD3F,YAAY,CACViL,OAAO,EAAE,CACTxP,MAAM,CAAC,mBAAkB,CAAGuE,YAAY,CAAC8E,yBAAyB,CAAG,kBAAiB,CAAC,CACvF5C,OAAO,CAAC,OAAO,EAClB,CAAC,CAAC,CACF,IAAI,CAAC4X,yBAAyB,GAC/B,CAAC,CACDxM,yBAAyB,CAAE,SAAAA,yBAAUyM,CAAAA,aAAa,CAAEC,qBAAqB,CAAE1F,kBAAkB,CAAoB,CAG5G,IAAApM,iBAAiB,CAHyE/H,MAAM,CAAA,CAAA,CAAAhE,SAAA,CAAAC,MAAA,EAAA,KAAA,CAAA,GAAAD,SAAA,CAAA,CAAA,CAAA,CAAAA,SAAA,CAAA,CAAA,CAAA,CAAG,EAAE,CAAE8C,GAAG,CAAA,CAAA,CAAA9C,SAAA,CAAAC,MAAA,CAAAD,SAAA,CAAA,CAAA,CAAA,CAAA,KAAA,CAAA,CAC1GwL,SAAS,CAAGjK,MAAM,CAACkK,QAAQ,EAAE,CAC7B5H,YAAY,CAAG,IAAI,CA8BvB,OA5BIsU,IAAAA,EAAAA,kBAA+B,GAClCA,kBAAkB,CAAGtU,YAAY,CAACqI,cAAc,EAAE,CAAA,CAGlDH,iBAAiB,CADdjJ,GAAG,CACckJ,qBAAqB,CAACC,gBAAgB,CAACnJ,GAAG,CAAEqV,kBAAkB,CAAC,CAE/DnM,qBAAqB,CAACtK,WAAW,CACpDmC,YAAY,CAACvB,WAAW,EAAE,CAC1BR,GAAG,CAACC,aAAa,EAAE,CACnBoW,kBAAkB,CAClByF,aACD,CAAC,CAEF7R,iBAAiB,CACf+R,YAAY,CAACD,qBAAqB,CAAE7Z,MAAM,CAAC,CAC3Cf,IAAI,CAAC,SAAUD,IAAI,CAAE,CACjB,IAAAgZ,oBAAoB,CAAGnY,YAAY,CAACyK,gBAAgB,EAAE,CACtD2N,aAAa,CAAGD,oBAAoB,CAACnW,IAAI,CAAC,uBAAuB,CAAC,CACtE,GAA2B,CAAC,CAAxBoW,aAAa,CAAChc,MAAU,CAAE,CAC7B,IAAI+D,QAAM,CAAGH,YAAY,CAACsX,cAAc,CAACc,aAAa,CAAC,CACvDA,aAAa,CAACpW,IAAI,CAAC,uBAAuB,CAAC,CAACsC,MAAM,EAAE,CAAC+T,MAAM,EAAE,CAC7DrY,YAAY,CAACgH,UAAU,CAACoR,aAAa,CAAEjY,QAAM,CAAAA,MAAU,EACxD,CACAwH,SAAS,CAACkB,OAAO,CAAC1J,IAAI,EACvB,CAAC,CAAC,CACDI,IAAI,CAAC,SAAUyD,UAAU,CAAEyK,WAAW,CAAE,CACxC9F,SAAS,CAACmB,MAAM,CAAC9F,UAAU,CAAEyK,WAAW,EACzC,CAAC,CAAC,CACI9F,SAAS,CAACoB,OAAO,EACzB,CAAC;AAEH;AACA;AACA,KACEkN,0BAA0B,CAAE,SAAAA,0BAAU9W,CAAAA,IAAI,CAAEwQ,cAAc,CAAE,CACvD,IAAAgG,sBAAsB,CAAGhG,cAAc,CAACvN,OAAO,CAAC,mBAAmB,CAAC,CACpE+E,eAAe,CAAGwO,sBAAsB,CAAC3T,IAAI,CAAC,+BAA6B,CAAC,CAEhF,IAAI,CAACgF,UAAU,CAACG,eAAe,CAAC,CAChC,IAAIiR,aAAa,CAAG,IAAI,CAAC3N,gBAAgB,EAAE,CAACzI,IAAI,CAAC,uBAAuB,CAAC,CACzE,GAA2B,CAAC,CAAxBoW,aAAa,CAAChc,MAAU,CAAE,CAC7B,IAAI+D,MAAM,CAAG,IAAI,CAACmX,cAAc,CAACc,aAAa,CAAC,CAC/CA,aAAa,CAACpW,IAAI,CAAC,uBAAuB,CAAC,CAACsC,MAAM,EAAE,CAAC+T,MAAM,EAAE,CAC7D,IAAI,CAACrR,UAAU,CAACoR,aAAa,CAAEjY,MAAM,CAAAA,MAAU,EAChD,CACD,CAAC,CACD+Z,iCAAiC,CAAE,SAAAA,iCAAAA,EAAY,CAC9Cxc,MAAM,CAAC,uBAAuB,CAAC,CAACqG,EAAE,CAAC,QAAQ,CAAE,SAAU4B,CAAC,CAAE,CACzD,IAAIwU,oBAAoB,CAAGzc,MAAM,CAACiI,CAAC,CAACW,aAAa,CAAC,CAClD,GAAkC,KAAK,EAAnC6T,oBAAoB,CAAClZ,GAAG,EAAW,CACtCvD,MAAM,CAAC,mCAAiC,CAAC,CAACmM,WAAW,CAAC,QAAQ,CAAC,CAAA,KACzD,CACNnM,MAAM,CAAC,mCAAiC,CAAC,CAACmM,WAAW,CAAC,QAAQ,CAAC,CAC/D,IAAIuQ,mBAAmB,CAAGD,oBAAoB,CAAClZ,GAAG,EAAE,CACpDvD,MAAM,CAAC,mCAAiC,CAAC,CACvCjC,MAAM,CAAC,QAAQ,CAAG2e,mBAAmB,CAAG,GAAG,CAAC,CAC5CtQ,QAAQ,CAAC,QAAQ,EACpB,CACD,CAAC,EACF,CAAC,CACDuQ,+BAA+B,CAAE,SAAAA,+BAAAA,EAAY,CAAA,IACxCra,YAAY,CAAG,IAAI,CACnBwK,oBAAoB,CAAGxK,YAAY,CAACyK,gBAAgB,EAAE,CACtD6P,eAAe,CAAG9P,oBAAoB,CAACpI,OAAO,CAAC,oBAAoB,CAAC,CAExE1E,MAAM,CAAC,UAAU,CAAE4c,eAAe,CAAC,CAACvW,EAAE,CAAC,OAAO,CAAE,2BAA2B,CAAE,SAAU4B,CAAC,CAAE4U,aAAa,CAAE,CACxG,IAAIzO,UAAU,CAAGpO,MAAM,CAACiI,CAAC,CAACW,aAAa,CAAC,CACxC,GAAI,CAACwF,UAAU,CAAC3B,QAAQ,CAAC,UAAU,CAAC,CAAE,CACrC,IAAIpI,OAAO,CAAGrE,MAAM,CAAC,aAAa,CAAC,CACnCqE,OAAO,CAACsE,iBAAiB,CAAC,CACzBsI,QAAQ,CAAE,MAAM,CAChBC,SAAS,CAAE,CACVC,OAAO,CAAA,CAAA,CAAM,CACb2L,cAAc,CAAEF,eACjB,CACD,CAAC,CAAC,CACF,IAAIrb,GAAG,CAAG6M,UAAU,CAAC3M,IAAI,CAAC,KAAK,CAAC,CAChC,GAA6B,WAAW,EAApC,OAAOob,aAA6B,CAAE,CACzC,IAAIE,SAAQ,CAAGF,aAAa,CAACra,QAAQ,CACrC,OAAOqa,aAAa,CAACra,SACtB,CACAF,YAAY,CACVuK,YAAY,CAACtL,GAAG,CAAEsb,aAAa,CAAC,CAChCnb,IAAI,CAAC,SAAUD,IAAI,CAAE;AACrBa,YAAY,CAAC4L,sBAAsB,EAAE,CACrC5L,YAAY,CAAC6L,iBAAiB,CAACC,UAAU,CAAC,CAC1CsL,gBAAgB,CAACsD,0BAA0B,EAAE,CAC7C3Y,OAAO,CAACsE,iBAAiB,CAAC,CAAEzD,IAAI,CAAE,MAAO,CAAC,CAAC,CAC3C3E,GAAG,CAAC8J,aAAa,CAACyC,oBAAoB,CAAC,CAChB,UAAU,EAA7B,OAAOiQ,QAAsB,EAChCA,QAAQ,CAACtb,IAAI,CAAC,CAGX2M,UAAU,CAAC3M,IAAI,CAAC,SAAS,CAAC,EAAIa,YAAY,CAAC+E,yBAAyB,EACvE/E,YAAY,CAACwE,WAAW,EAAE,CAE3BxE,YAAY,CAAC2a,mBAAmB,EAAE,CAElC1c,GAAG,CAAC2c,mBAAmB,EAAE,CACzB3c,GAAG,CAACyH,KAAK,CAACxD,OAAO,CAAC,0BAA0B,CAAE/C,IAAI,CAAEa,YAAY,EACjE,CAAC,CAAC,CACDT,IAAI,CAAC,UAAY,CACjBwC,OAAO,CAACsE,iBAAiB,CAAC,CAAEzD,IAAI,CAAE,MAAO,CAAC,EAC3C,CAAC,EACH,CACD,CAAC,EACF,CAAC;AAEH;AACA,KACEiY,gBAAgB,CAAE,SAAAA,gBAAAA,CAAUhO,SAAS,CAAE,CAAA,IAClClF,SAAS,CAAGjK,MAAM,CAACkK,QAAQ,EAAE,CAC7B3I,GAAG,CACN,SAAS,CACThB,GAAG,CAACC,aAAa,EAAE,CACnB,sBAAsB,CACtB,IAAI,CAACO,WAAW,EAAE,CAClB,oCAAoC,CACpCoO,SAAS,CACNiO,OAAO,CAAG,IAAI,CAACtO,gBAAgB,CAACvN,GAAG,CAAC,CAIxC,OAHA6b,OAAO,CAAC1b,IAAI,CAAC,SAAUD,IAAI,CAAE,CAC5BwI,SAAS,CAACkB,OAAO,CAAC1J,IAAI,EACvB,CAAC,CAAC,CACKwI,SAAS,CAACoB,OAAO,EACzB,CAAC;AAEH;AACA;AACA;AACA,KACEgS,iBAAiB,CAAA,SAAAA,iBAAClO,CAAAA,SAAS,CAAE,CAC5B,IAAIlF,SAAS,CAAGzE,CAAC,CAAC0E,QAAQ,EAAE,CAC3B3I,GAAG,CACF,SAAS,CACThB,GAAG,CAACC,aAAa,EAAE,CACnB,sBAAsB,CACtB,IAAI,CAACO,WAAW,EAAE,CAClB,qCAAqC,CACrCoO,SAAS,CAIX,WAHI,CAACL,gBAAgB,CAACvN,GAAG,CAAC,CAACG,IAAI,CAAC,SAAUD,IAAI,CAAE,CAC/CwI,SAAS,CAACkB,OAAO,CAAC1J,IAAI,EACvB,CAAC,CAAC,CACKwI,SAAS,CAACoB,OAAO,EACzB,CAAC;AAEH;AACA;AACA,KACEiS,iCAAiC,CAAE,SAAAA,mCAAY,CAAA,IAC1Chb,YAAY,CAAG,IAAI,CACnBwK,oBAAoB,CAAG,IAAI,CAACC,gBAAgB,EAAE,CAClDD,oBAAoB,CAACzG,EAAE,CAAC,OAAO,CAAE,uBAAuB,CAAE,SAAU4B,CAAC,CAAE,CAAA,IAClE5D,OAAO,CAAGrE,MAAM,CAACiI,CAAC,CAACW,aAAa,CAAC,CACjC2U,oBAAoB,CAAGvd,MAAM,CAAC,aAAa,CAAC,CAACuD,GAAG,EAAE,CAGtD,GAFAc,OAAO,CAAC+H,QAAQ,CAAC,QAAQ,CAAC,CAC1B/H,OAAO,CAACuC,MAAM,EAAE,CAAC+B,iBAAiB,CAAC,EAAE,CAAC,CACV,EAAE,EAA1B4U,oBAA0B,CAAE,CAC3B,IAAA3G,kBAAkB,CAAGtU,YAAY,CAACqI,cAAc,EAAE,CAClDxC,iBAAiB,CAAG7F,YAAY,CAACqM,oBAAoB,EAAE,CACvDnE,iBAAiB,CAAGC,qBAAqB,CAACtK,WAAW,CACxDmC,YAAY,CAACvB,WAAW,EAAE,CAC1BR,GAAG,CAACC,aAAa,EAAE,CACnBoW,kBAAkB,CAClBzO,iBACD,CAAC,CACDqC,iBAAiB,CAACgT,mBAAmB,EAAE,CAAC9b,IAAI,CAAC,UAAY,CACxDY,YAAY,CAACmb,cAAc,GAC5B,CAAC,EACF,CAAC,KACAnb,YAAY,CAACmb,cAAc,EAAE,CAE9BpZ,OAAO,CAACuC,MAAM,EAAE,CAAC+B,iBAAiB,CAAC,CAAEzD,IAAI,CAAE,MAAO,CAAC,EACpD,CAAC,EACF,CAAC,CACDuY,cAAc,CAAE,SAAAA,gBAAY,CAAA,IACvBF,oBAAoB,CAAGvd,MAAM,CAAC,aAAa,CAAC,CAACuD,GAAG,EAAE,CAClDma,iBAAiB,CAAG1d,MAAM,CAAC,kBAAkB,CAAC,CAC9C2d,SAAS,CAAGD,iBAAiB,CAACvZ,IAAI,EAAE,CACpCyZ,aAAa,CAAGD,SAAS,CAAG,IAAI,CAAGJ,oBAAoB,CAAG,GAAG,CAC7DM,oBAAoB,CAAGC,QAAQ,CAAC9d,MAAM,CAAC,cAAc,CAAC,CAACuD,GAAG,EAAE,CAAC,CACrC,CAAC,EAAzBsa,oBAAyB,CAG5B7d,MAAM,CAAC,kBAAkB,CAAC,CAAC2E,IAAI,CAAC,EAAE,CAAC,CAFnC3E,MAAM,CAAC,kBAAkB,CAAC,CAAC2E,IAAI,CAACiZ,aAAa,EAI/C,CAAC,CACDhI,0BAA0B,CAAE,SAAAA,0BAAAA,CAAUmI,iBAAiB,CAAE,CACxD,OAAOA,iBACR,CAAC,CACDC,qBAAqB,CAAE,SAAAA,qBAAAA,CAAUlR,oBAAoB,CAAE,CACtD,IAAIxK,YAAY,CAAG,IAAI,CACvBwK,oBAAoB,CAACzG,EAAE,CAAC,OAAO,CAAE,gBAAgB,CAAE,SAAU4B,CAAC,CAAE,CAC/D,IAAIgK,cAAc,CAAGjS,MAAM,CAACiI,CAAC,CAACW,aAAa,CAAC,CAC5CqJ,cAAc,CAACvN,OAAO,CAAC,YAAY,CAAC,CAAC0H,QAAQ,CAAC,QAAQ,CAAC,CACvDpM,MAAM,CAAC,0CAA0C,CAAC,CAACsE,IAAI,CAAC,QAAQ,CAAC,CAACH,IAAI,CAAC5D,GAAG,CAAC2D,UAAU,CAAC,SAAS,CAAC,CAAC,CACjG,IAAIzB,MAAM,CAAG,CACZiB,MAAM,CAAEnD,GAAG,CAACC,aAAa,EAAE,CAC3BmD,MAAM,CAAE,UAAU,CAClBC,MAAM,CAAEtB,YAAY,CAACvB,WAAW,EAAE,CAClCqU,KAAK,CAAE,UAAU,CACjBnW,KAAK,CAAE,IACR,CAAC,CACDmC,YAAY,CAACC,OAAO,CAACoB,MAAM,CAAC,CAACf,IAAI,CAAC,SAAUD,IAAI,CAAE,CACjD,IAAIgB,MAAM,CAAG,CACZ0B,IAAI,CAAE5D,GAAG,CAAC2D,UAAU,CAAC,oBAAoB,CAAC,CAC1CD,KAAK,CAAE1D,GAAG,CAAC2D,UAAU,CAAC,QAAQ,CAAC,CAC/B5C,IAAI,CAAE,MACP,CAAC,CACDf,GAAG,CAACqE,UAAU,CAACnC,MAAM,CAAC,CACtB,IAAIwb,aAAa,CAAGje,MAAM,CAAC,oBAAoB,CAAC,CAAC,CAEhDie,aAAa,CAACxc,IAAI,CAAC,SAAS,CAAC,EAAIa,YAAY,CAAC+E,yBAAyB,EACvE4W,aAAa,CAACxc,IAAI,CAAC,SAAS,CAAC,EAAIa,YAAY,CAAC8E,yBAAyB,GAEvE9E,YAAY,CAACuJ,gBAAgB,GAE/B,CAAC,EACF,CAAC,EACF,CAAC,CACDuQ,yBAAyB,CAAE,SAAAA,2BAAY,CAAA,IAClC9Z,YAAY,CAAG,IAAI,CACnB4b,gBAAgB,CAAGle,MAAM,CAAC,kCAAkC,CAAC,CACjEke,gBAAgB,CAAC7X,EAAE,CAAC,QAAQ,CAAE,SAAU4B,CAAC,CAAE,CAAA,IACtCoM,YAAY,CAAGrU,MAAM,CAACiI,CAAC,CAACW,aAAa,CAAC,CACtCuV,cAAc,CAAG9J,YAAY,CAAC3P,OAAO,CAAC,YAAY,CAAC,CACnDgE,wBAAwB,CAAG1I,MAAM,CAAC2I,iBAAiB,CAAC,CACvDyV,OAAO,CAAE7d,GAAG,CAAC2D,UAAU,CAAC,qBAAqB,CAAC,CAC9C+M,QAAQ,CAAE,0BAA0B,CACpCC,SAAS,CAAE,CACVC,OAAO,CAAA,CAAA,CACR,CACD,CAAC,CAAC,CACE1M,SAAS,CAAG0Z,cAAc,CAAC1c,IAAI,CAAC,WAAW,CAAC,CAChDgD,SAAS,CAAGA,SAAS,CAACgS,OAAO,CAAC,IAAI,CAAE,EAAE,CAAC,CACnC,IAAAjB,UAAU,CAAGnB,YAAY,CAAC9Q,GAAG,EAAE,CAC/BqY,WAAW,CAAGvH,YAAY,CAACrR,gBAAgB,CAAC,UAAU,CAAC,CAC3D,GAAI4Y,WAAW,CAEd,OADA,KAAAuC,cAAc,CAACxV,iBAAiB,CAAC,CAAEzD,IAAI,CAAE,MAAO,CAAC,CAAC,CAGnD,IAAIoQ,iBAAiB,CAAGtV,MAAM,CAACuV,KAAK,CAACjT,YAAY,CAACsF,YAAY,CAAC,CAC/DyM,YAAY,CAAC7P,OAAO,CAAC8Q,iBAAiB,CAAE,CACvCE,UAAU,CAAEA,UAAU,CACtB/R,QAAQ,CAAEnB,YAAY,CAACvB,WAAW,EACnC,CAAC,CAAC,CACF2U,cAAc,CAACC,QAAQ,CACtBrT,YAAY,CAACsT,0BAA0B,CAAC,CACvCR,KAAK,CAAE3Q,SAAS,CAChBxF,KAAK,CAAEuW,UACR,CAAC,CAAC,CAEH,CAAA,CAAA,CAAC,CAAC6I,MAAM,CAAC,UAAM,CACd3V,wBAAwB,CAACC,iBAAiB,CAAC,CAAEzD,IAAI,CAAE,MAAO,CAAC,CAAC,CAC5D3E,GAAG,CAACqE,UAAU,CAAC,CACdX,KAAK,CAAE1D,GAAG,CAAC2D,UAAU,CAAC,mBAAmB,CAAC,CAC1C5C,IAAI,CAAE,SACP,CAAC,CAAC,CACFgB,YAAY,CAACuJ,gBAAgB,GAC9B,CAAC,EACF,CAAC,EACF,CAAC,CACDyS,gBAAgB,CAAE,SAAAA,gBAAU1b,CAAAA,IAAI,CAAE,CAC5BA,IAAI,GACRA,IAAI,CAAG,IAAI,CAACsG,OAAO,EAAE,EAEtB3I,GAAG,CAACge,sBAAsB,CAAC3b,IAAI,CAAC0B,IAAI,CAAC,eAAe,CAAC,EACtD,CAAC;AAEH;AACA;AACA,KACEkF,iCAAiC,UAAAA,iCAAC6E,CAAAA,YAAY,CAAE,CACzC,IAAAmQ,QAAQ,CAAGhZ,CAAC,CAAC,8BAA8B,CAAC,CAC9CiZ,iBAAiB,CAAGpQ,YAAY,CAC/BoQ,iBAAiB,EAAwC,WAAW,EAA/C,OAAOA,iBAAiB,CAAC/f,MAAsB,GACxE+f,iBAAiB,CAAGjZ,CAAC,CACpB,yHACD,CAAC,EAEFiZ,iBAAiB,CAACjY,IAAI,CAAC,SAACsM,CAAC,CAAEiH,IAAI,CAAK,CACnCA,IAAI,CAAGvU,CAAC,CAACuU,IAAI,CAAC,CACd,IAAIlM,UAAU,CAAGkM,IAAI,CAACtY,IAAI,CAAC,YAAY,CAAC,CACvC4a,aAAa,CAAGtC,IAAI,CAACtY,IAAI,CAAC,WAAW,CAAC,CACZ,CAAC,GAAxBsY,IAAI,CAACtY,IAAI,CAAC,OAAO,CAAO,EAC3BL,YAAY,CAACC,OAAO,CAAC,CACpBqC,MAAM,CAAEnD,GAAG,CAACC,aAAa,EAAE,CAC3BmD,MAAM,CAAE,cAAc,CACtBC,MAAM,CAAErD,GAAG,CAACQ,WAAW,EAAE,CACzBsb,aAAa,CAAEA,aAAa,CAC5BnX,IAAI,CAAE,yBAAyB,CAC/B2I,UAAU,CAAEA,UAAU,CACtB6Q,SAAS,CAAE3E,IAAI,CAACtY,IAAI,CAAC,WAAW,CACjC,CAAC,CAAC,CAACC,IAAI,CAAC,SAAC0R,QAAQ,CAAK,CACjBA,QAAQ,CAACrP,OAAO,GACqB,CAAC,GAArCqP,QAAQ,CAACvD,MAAM,CAAC8O,eAAqB,GACxCvL,QAAQ,CAACvD,MAAM,CAAC8O,eAAe,CAAG,EAAE,EAErC5E,IAAI,CAACzV,IAAI,CAAC,QAAQ,CAAC,CAACH,IAAI,CAACiP,QAAQ,CAACvD,MAAM,CAAC8O,eAAe,CAAC,CACzDH,QAAQ,CACNla,IAAI,CAAC,kFAA8E,CAAC,CACpFH,IAAI,CAACiP,QAAQ,CAACvD,MAAM,CAAC8O,eAAe,CAAC,EAEzC,CAAC,EAEH,CAAC,EACF,CAAC;AAEH;AACA,KACEC,UAAU,CAAE,SAAAA,UAAUhW,CAAAA,aAAa,CAAEnH,IAAI,CAAE,CAAA,IACpCoR,IAAI,CAAG,IAAI,CACb3N,IAAI,CAAG0D,aAAa,CAACnH,IAAI,CAAC,MAAM,CAAC,CACpCod,sBAAsB,CAAGjW,aAAa,CAAClE,OAAO,CAAC,uBAAuB,CAAC,CACvEoa,sBAAsB,CAAGD,sBAAsB,CAACva,IAAI,CAAC,qBAAqB,CAAC,CAC3E+K,gBAAgB,CAAGzG,aAAa,CAAClE,OAAO,CAAC,oBAAoB,CAAC,CAE/D,GADAoa,sBAAsB,CAACna,IAAI,CAAC,EAAE,CAAC,CACnB,KAAK,EAAbO,IAAa,CAAE,CAClB,IAAI6Z,WAAW,CAAGlM,IAAI,CAACxC,YAAY,CAAC5O,IAAI,CAAAoO,MAAU,CAAAC,SAAa,CAAC,CAChEiP,WAAW,CAACrd,IAAI,CAAC,SAAUD,IAAI,CAAE,CAChC,IAAIud,YAAY,CAAGH,sBAAsB,CAACna,OAAO,CAAC,qBAAqB,CAAC,CACvEoI,oBAAoB,CAAG+F,IAAI,CAAC9F,gBAAgB,EAAE,CAC9CkS,sBAAsB,CAAGzZ,CAAC,CAAC,4BAA4B,CAAEsH,oBAAoB,CAAC,CAE/E,GADAmS,sBAAsB,CAACtE,MAAM,EAAE,CACL,CAAC,CAAvBqE,YAAY,CAACtgB,MAAU,CAAE,CAC5BmgB,sBAAsB,CAAClE,MAAM,EAAE,CAC/B,IAAIuE,aAAa,CAAGF,YAAY,CAAC1a,IAAI,CAAC,IAAI,CAAC,CAC3C,GAA4B,CAAC,EAAzB4a,aAAa,CAACxgB,MAAW,CAAE,CAC9B,IAAIygB,yBAAyB,CAAG9P,gBAAgB,CAC7C/K,IAAI,CAAC,uBAAuB,CAAC,CAC7B7C,IAAI,CAAC,2BAA2B,CAAC,CACnC2d,oBAAoB,CAAGD,yBAAyB,CAAG,CAAC,CACrD9P,gBAAgB,CAAC/K,IAAI,CAAC,0BAA0B,CAAC,CAACH,IAAI,CAACib,oBAAoB,CAAC,CAC5E,IAAIhQ,eAAe,CAAGC,gBAAgB,CAAC/K,IAAI,CAAC,yBAAyB,CAAC,CAAC7C,IAAI,CAAC,WAAW,CAAC,CACxFoR,IAAI,CAACsK,gBAAgB,CAAC/N,eAAe,CAAC,CAAC1N,IAAI,CAAC,SAAU2d,YAAY,CAAE,CACnE7Z,CAAC,CAAC6Z,YAAY,CAAC,CAACpI,QAAQ,CAAC+H,YAAY,CAAC,CACtC3P,gBAAgB,CAAC/K,IAAI,CAAC,uBAAuB,CAAC,CAAC4X,IAAI,EAAE,CACrD7M,gBAAgB,CAAC/K,IAAI,CAAC,kBAAkB,CAAC,CAACyX,IAAI,GAC/C,CAAC,EACF,CAAC,KACAvW,CAAC,CAAC,kDAAgD,CAAG/D,IAAI,CAAG,OAAO,CAAC,CAACwV,QAAQ,CAC5E+H,YAAY,CAAC1a,IAAI,CAAC,mBAAmB,CACtC,EAEF,CAAC,KACAkB,CAAC,CAAC,kDAAgD,CAAG/D,IAAI,CAAG,OAAO,CAAC,CAAC6d,SAAS,CAC7ET,sBAAsB,CAACna,OAAO,CAAC,WAAW,CAAC,CAACJ,IAAI,CAAC,eAAe,CACjE,CAAC,CAEF+K,gBAAgB,CAAC/K,IAAI,CAAC,uBAAuB,CAAC,CAACyX,IAAI,EAAE,CACrDxb,GAAG,CAACyH,KAAK,CAACxD,OAAO,CAAC,kCAAkC,CAAE6K,gBAAgB,CAAE5N,IAAI,EAC7E,CAAC,EACF,CAAC,KAAkB,GAAA,MAAM,EAAdyD,IAAc,CAAE,CAC1B,IAAIqa,YAAY,CAAGlQ,gBAAgB,CAAC/K,IAAI,CAAC,2BAA2B,CAAC,CACpEkb,kBAAkB,CAAGnQ,gBAAgB,CAAC/K,IAAI,CAAC,kBAAkB,CAAC,CAC9Dmb,iBAAiB,CAAGpQ,gBAAgB,CAAC/K,IAAI,CAAC,mBAAmB,CAAC,CAC9Dob,aAAa,CAAGrQ,gBAAgB,CAAC/K,IAAI,CAAC,sBAAsB,CAAC,CAC9Dkb,kBAAkB,CAAC7a,IAAI,CAAClD,IAAI,CAAAoO,MAAU,CAAAN,cAAkB,CAAAwG,aAAiB,CAAC,CAC1E2J,aAAa,CAAC/a,IAAI,CAAClD,IAAI,CAAAoO,MAAU,CAAAH,YAAgB,CAAAqG,aAAiB,CAAC,CACnEwJ,YAAY,CAAC5a,IAAI,CAAClD,IAAI,CAAAoO,MAAU,CAAA8P,YAAgB,CAAAC,gBAAoB,CAAC,CACrEL,YAAY,CAACzc,IAAI,CAAC,OAAO,CAAErB,IAAI,CAAAoO,MAAU,CAAA8P,YAAgB,CAAAE,WAAe,CAAC,CACrEJ,iBAAiB,CAAChT,QAAQ,CAAC,QAAQ,CAAC,EACvCgT,iBAAiB,CAACtT,WAAW,CAAC,QAAQ,CAAC,CAEe,EAAE,EAArD1K,IAAI,CAAAoO,MAAU,CAAAH,YAAgB,CAAAqG,aAAuB,EACxD1G,gBAAgB,CAAC/K,IAAI,CAAC,iBAAiB,CAAC,CAAC6H,WAAW,CAAC,QAAQ,CAAC,CAE/DqT,kBAAkB,CAACzD,IAAI,EAAE,CACzB1M,gBAAgB,CAAC/K,IAAI,CAAC,uBAAuB,CAAC,CAACyX,IAAI,EAAE,CACrD8C,sBAAsB,CAAClE,MAAM,EAAE,CAC/Bpa,GAAG,CAACyH,KAAK,CAACxD,OAAO,CAAC,oCAAoC,CAAE6K,gBAAgB,CAAE5N,IAAI,EAC/E,CACD,CAAC;AAEH;AACA;AACA,KACEqe,qBAAqB,CAAAA,SAAAA,qBAAAA,CAAChT,oBAAoB,CAAE,CAC3C,IAAM+F,IAAI,CAAG,IAAI,CACjB/F,oBAAoB,CAACzG,EAAE,CAAC,OAAO,CAAE,yBAAyB,CAAE,SAAU4B,CAAC,CAAE,CACxE,IAAIoH,gBAAgB,CAAG7J,CAAC,CAACyC,CAAC,CAACW,aAAa,CAAClE,OAAO,CAAC,oBAAoB,CAAC,CAAC,CACvE2K,gBAAgB,CAAC/K,IAAI,CAAC,uBAAuB,CAAC,CAACyX,IAAI,EAAE,CACrD1M,gBAAgB,CAAC/K,IAAI,CAAC,kBAAkB,CAAC,CAACyX,IAAI,EAAE,CAChD1M,gBAAgB,CAAC/K,IAAI,CAAC,uBAAuB,CAAC,CAACqW,MAAM,GACtD,CAAC,CAAC,CACF7N,oBAAoB,CAACzG,EAAE,CAAC,OAAO,CAAE,mBAAmB,CAAE,SAAU4B,CAAC,CAAE,CAClE,IAAIoH,gBAAgB,CAAG7J,CAAC,CAACyC,CAAC,CAACW,aAAa,CAAC,CAAClE,OAAO,CAAC,oBAAoB,CAAC,CACvE2K,gBAAgB,CAAC/K,IAAI,CAAC,uBAAuB,CAAC,CAACqW,MAAM,EAAE,CACvD9H,IAAI,CAAChE,gBAAgB,EAAE,CACvBQ,gBAAgB,CAAC/K,IAAI,CAAC,kBAAkB,CAAC,CAACyX,IAAI,EAAE,CAChDlJ,IAAI,CAACvC,eAAe,EAAE,CAAC2G,QAAQ,CAAC5H,gBAAgB,CAAC,CAAC0M,IAAI,GACvD,CAAC,CAAC,CACFjP,oBAAoB,CAACzG,EAAE,CAAC,OAAO,CAAE,kBAAkB,CAAE,SAAU4B,CAAC,CAAE,CACjE,IAAIoH,gBAAgB,CAAG7J,CAAC,CAACyC,CAAC,CAACW,aAAa,CAAC,CAAClE,OAAO,CAAC,oBAAoB,CAAC,CACvE2K,gBAAgB,CAAC/K,IAAI,CAAC,uBAAuB,CAAC,CAACqW,MAAM,EAAE,CACvD9H,IAAI,CAAChE,gBAAgB,EAAE,CACvB,IAAI2Q,kBAAkB,CAAGnQ,gBAAgB,CAAC/K,IAAI,CAAC,kBAAkB,CAAC,CACjEyb,gBAAgB,CAAGlN,IAAI,CAACpC,mBAAmB,EAAE,CAC9CsP,gBAAgB,CAACzb,IAAI,CAAC,qBAAqB,CAAC,CAACK,IAAI,CAAC6a,kBAAkB,CAAC7a,IAAI,EAAE,CAAC,CAC5Eob,gBAAgB,CAACzb,IAAI,CAAC,oBAAoB,CAAC,CAACK,IAAI,CAAC0K,gBAAgB,CAAC/K,IAAI,CAAC,sBAAsB,CAAC,CAACH,IAAI,EAAE,CAAC,CACtGqb,kBAAkB,CAACtD,IAAI,EAAE,CACzB7M,gBAAgB,CAAC/K,IAAI,CAAC,uBAAuB,CAAC,CAAC4X,IAAI,EAAE,CACrD6D,gBAAgB,CAAC9I,QAAQ,CAAC5H,gBAAgB,CAAC,CAAC0M,IAAI,GACjD,CAAC,CAAC,CACFjP,oBAAoB,CAACzG,EAAE,CAAC,OAAO,CAAE,8BAA8B,CAAE,SAAU4B,CAAC,CAAE,CAC7E,IAAI5D,OAAO,CAAGmB,CAAC,CAACyC,CAAC,CAACW,aAAa,CAAC,CAC3BvE,OAAO,CAACgF,EAAE,CAAC,WAAW,CAAC,EAC3BwJ,IAAI,CACF7C,WAAW,CAAC/H,CAAC,CAAC,CACdvG,IAAI,CAAC,UAAY,CACjBmR,IAAI,CAACrJ,iCAAiC,EAAE,CACxCqJ,IAAI,CAACvJ,UAAU,CAACwD,oBAAoB,CAACxI,IAAI,CAAC,wBAAwB,CAAC,CAAC,CAAC5C,IAAI,CAAC,UAAY,CACrF2C,OAAO,CAACE,UAAU,CAAC,UAAU,EAC9B,CAAC,EACF,CAAC,CAAC,CACD1C,IAAI,CAAC,SAAUme,KAAK,CAAEC,GAAG,CAAE,CAC3B5b,OAAO,CAACE,UAAU,CAAC,UAAU,CAAC,CAC9BhE,GAAG,CAAC2f,QAAQ,CAACF,KAAK,CAAEC,GAAG,EACxB,CAAC,EAEJ,CAAC,CAAC,CACFnT,oBAAoB,CAACzG,EAAE,CAAC,OAAO,CAAE,kBAAkB,CAAE,SAAU4B,CAAC,CAAE,CACjE,IAAI5D,OAAO,CAAGmB,CAAC,CAACyC,CAAC,CAACW,aAAa,CAAC,CAC3BvE,OAAO,CAACgF,EAAE,CAAC,WAAW,CAAC,EAC3BwJ,IAAI,CACF7C,WAAW,CAAC/H,CAAC,CAAC,CACdvG,IAAI,CAAC,SAAUD,IAAI,CAAE,CACrBoR,IAAI,CAACrJ,iCAAiC,CAACqJ,IAAI,CAACzF,aAAa,CAACyF,IAAI,CAACvL,gCAAgC,CAAC,CAAC,CACjGuL,IAAI,CAAC+L,UAAU,CAACva,OAAO,CAAE5C,IAAI,CAAC,CAC9B4C,OAAO,CAACE,UAAU,CAAC,UAAU,EAC9B,CAAC,CAAC,CACD1C,IAAI,CAAC,SAAUme,KAAK,CAAEC,GAAG,CAAE,CAC3B5b,OAAO,CAACE,UAAU,CAAC,UAAU,CAAC,CAC9BhE,GAAG,CAAC2f,QAAQ,CAACF,KAAK,CAAEC,GAAG,EACxB,CAAC,EAEJ,CAAC,CAAC,CACFnT,oBAAoB,CAACzG,EAAE,CAAC,OAAO,CAAE,2BAA2B,CAAE,UAAY,CACzEwM,IAAI,CAACzF,aAAa,CAACyF,IAAI,CAACvL,gCAAgC,CAAC,CAAC9C,OAAO,CAAC,OAAO,EAC1E,CAAC,CAAC,CACFsI,oBAAoB,CAACxI,IAAI,CAAC,+BAA+B,CAAC,CAAC+B,EAAE,CAAC,QAAQ,CAAE,SAAU4B,CAAC,CAAE,CACpF,IAAIkY,iBAAiB,CAAGtN,IAAI,CAACzF,aAAa,CAACyF,IAAI,CAACvL,gCAAgC,CAAC,CAChF/F,GAAG,CAAG4e,iBAAiB,CAAC1e,IAAI,CAAC,KAAK,CAAC,CACnC2e,KAAK,CAAG,sBAAsB,CAC/B7e,GAAG,CAAGA,GAAG,CAACkV,OAAO,CAAC2J,KAAK,CAAE,EAAE,CAAC,CAC5B,IAAIC,SAAS,CAAG,EAAE,CAClBvT,oBAAoB,CAACxI,IAAI,CAAC,uCAAuC,CAAC,CAACkC,IAAI,CAAC,UAAY,CACnF6Z,SAAS,CAACliB,IAAI,CAACqH,CAAC,CAAC,IAAI,CAAC,CAACjC,GAAG,EAAE,EAC7B,CAAC,CAAC,CACuB,CAAC,GAAtB8c,SAAS,CAAC3hB,MAAY,GACzB6C,GAAG,EAAI,aAAa,CAAG8e,SAAS,CAACC,IAAI,CAAC,GAAG,CAAC,CAAA,CAE3CH,iBAAiB,CAAC1e,IAAI,CAAC,KAAK,CAAEF,GAAG,CAAC,CAClC4e,iBAAiB,CAAC3b,OAAO,CAAC,OAAO,EAClC,CAAC,CAAC,CACFsI,oBAAoB,CAACzG,EAAE,CAAC,UAAU,CAAE,oBAAoB,CAAE,SAAU4B,CAAC,CAAE,CAClE,EAAE,GAAKA,CAAC,CAACsY,KAAK,EACjB1N,IAAI,CAAC2N,gBAAgB,CAAC1T,oBAAoB,EAE5C,CAAC,CAAC,CACFA,oBAAoB,CAACzG,EAAE,CAAC,OAAO,CAAE,iBAAiB,CAAE,SAAU4B,CAAC,CAAE,CAChE4K,IAAI,CAAC2N,gBAAgB,CAAC1T,oBAAoB,EAC3C,CAAC,EACF,CAAC;AAEH;AACA;AACA,KACE0T,gBAAgB,CAAA,SAAAA,gBAAC1T,CAAAA,oBAAoB,CAAE,CACtC,IAAI2T,aAAa,CAAG3T,oBAAoB,CAACxI,IAAI,CAAC,oBAAoB,CAAC,CAClEmF,eAAe,CAAGgX,aAAa,CAAC/b,OAAO,CAAC,6BAA2B,CAAC,CACpEgE,wBAAwB,CAAGlD,CAAC,CAACmD,iBAAiB,EAAE,CACjD,GAAwC,QAAQ,GAA5C8X,aAAa,CAAChf,IAAI,CAAC,WAAW,CAAc,EAAI,CAACgf,aAAa,CAACld,GAAG,EAAE,CAAE,CACzE,IAAIlC,OAAO,CAAGoI,eAAe,CAAChI,IAAI,CAAC,KAAK,CAAC,CACzCL,YAAY,CAACC,OAAO,CAACA,OAAO,CAAC,CAACK,IAAI,CAAC,SAAUD,IAAI,CAAE,CAClDiH,wBAAwB,CAACC,iBAAiB,CAAC,CAAEzD,IAAI,CAAE,MAAO,CAAC,CAAC,CAC5D4H,oBAAoB,CAACxI,IAAI,CAAC,wBAAwB,CAAC,CAACK,IAAI,CAAClD,IAAI,EAC9D,CAAC,EACF,CAAC,KAAM,CACN,IAAI4e,SAAS,CAAG,EAAE,CACjBK,KAAK,CAAG,EAAE,CACVC,QAAQ,CAAA,CAAA,CAAQ,CACuB,QAAQ,GAA5CF,aAAa,CAAChf,IAAI,CAAC,WAAW,CAAc,EAC9Cif,KAAK,CAAGjX,eAAe,CAAChI,IAAI,CAAC,OAAO,CAAC,CAAIkf,QAAQ,CAAA,CAAA,CAAO,CACzDlX,eAAe,CAACnF,IAAI,CAAC,gCAAgC,CAAC,CAACkC,IAAI,CAAC,UAAY,CACvE6Z,SAAS,CAACliB,IAAI,CAACqH,CAAC,CAAC,IAAI,CAAC,CAACjC,GAAG,EAAE,EAC7B,CAAC,CAAC,EAEFuJ,oBAAoB,CAACxI,IAAI,CAAC,uCAAuC,CAAC,CAACkC,IAAI,CAAC,UAAY,CACnF6Z,SAAS,CAACliB,IAAI,CAACqH,CAAC,CAAC,IAAI,CAAC,CAACjC,GAAG,EAAE,EAC7B,CAAC,CAAC,CAEHnC,YAAY,CAACC,OAAO,CAAC,CACpBqC,MAAM,CAAEnD,GAAG,CAACC,aAAa,EAAE,CAC3BuG,IAAI,CAAE,QAAQ,CACd7B,IAAI,CAAE,oBAAoB,CAC1Bmb,SAAS,CAAEA,SAAS,CAACC,IAAI,CAAC,GAAG,CAAC,CAC9BI,KAAK,CAAEA,KAAK,CACZ9c,MAAM,CAAErD,GAAG,CAACQ,WAAW,EAAE,CACzBgY,UAAU,CAAE0H,aAAa,CAACld,GAAG,EAAE,CAC/Bqd,SAAS,CAAED,QACZ,CAAC,CAAC,CAACjf,IAAI,CAAC,SAAUD,IAAI,CAAE,CACvBiH,wBAAwB,CAACC,iBAAiB,CAAC,CAAEzD,IAAI,CAAE,MAAO,CAAC,CAAC,CACvDub,aAAa,CAACld,GAAG,EAAE,CAGvBuJ,oBAAoB,CAACxI,IAAI,CAAC,mBAAmB,CAAC,CAACK,IAAI,CAAClD,IAAI,CAAC,CAFzDqL,oBAAoB,CAACnI,IAAI,CAAClD,IAAI,EAIhC,CAAC,EACF,CACD,CAAC;AAEH;AACA;AACA,KACE4G,6BAA6B,CAAAA,SAAAA,6BAAAA,CAACoB,eAAe,CAAE,CAC9C,IAAI1H,GAAG,CAACoB,MAAM,CAACuN,IAAI,CAACC,WAAW,CAACnL,CAAC,CAAC,iBAAiB,CAAC,CAACqb,EAAE,CAAC,CAAC,CAAC,CAAC,CAC3DpX,eAAe,CAACpD,EAAE,CAAC,QAAQ,CAAE,wBAAwB,CAAE,SAAU4B,CAAC,CAAE,CACnE,IAAIoY,SAAS,CAAG,EAAE,CAMlB,GALA5W,eAAe,CAACnF,IAAI,CAAC,wBAAwB,CAAC,CAACkC,IAAI,CAAC,UAAY,CAC3DhB,CAAC,CAAC,IAAI,CAAC,CAAC6D,EAAE,CAAC,UAAU,CAAC,EACzBgX,SAAS,CAACliB,IAAI,CAACqH,CAAC,CAAC,IAAI,CAAC,CAACjC,GAAG,EAAE,EAE9B,CAAC,CAAC,CACE,CAAC8c,SAAS,CAAC3hB,MAAM,CAEpB,OADA+K,eAAe,CAACnF,IAAI,CAAC,2BAA2B,CAAC,CAACK,IAAI,CAAC,EAAE,CAAC,CAG3D,CAAA,CAAA,CAAA,IAAI+D,wBAAwB,CAAGlD,CAAC,CAACmD,iBAAiB,EAAE,CACpDvH,YAAY,CAACC,OAAO,CAAC,CACpBqC,MAAM,CAAEnD,GAAG,CAACC,aAAa,EAAE,CAC3BuG,IAAI,CAAE,QAAQ,CACd7B,IAAI,CAAE,oBAAoB,CAC1Bmb,SAAS,CAAEA,SAAS,CAACC,IAAI,CAAC,GAAG,CAAC,CAC9B1c,MAAM,CAAErD,GAAG,CAACQ,WAAW,EAAE,CACzB2f,KAAK,CAAEjX,eAAe,CAACnF,IAAI,CAAC,qBAAqB,CAAC,CAAC7C,IAAI,CAAC,OAAO,CAChE,CAAC,CAAC,CAACC,IAAI,CAAC,SAAUD,IAAI,CAAE,CACvBiH,wBAAwB,CAACC,iBAAiB,CAAC,CAAEzD,IAAI,CAAE,MAAO,CAAC,CAAC,CAC5D,IAAI4b,mBAAmB,CAAGrX,eAAe,CAACnF,IAAI,CAAC,2BAA2B,CAAC,CAC3Ewc,mBAAmB,CAACnc,IAAI,CAAClD,IAAI,CAAC,CAC9BM,GAAG,CAACoB,MAAM,CAACC,QAAQ,CAACgH,sBAAsB,CAAC0W,mBAAmB,CAACxc,IAAI,CAAC,UAAU,CAAC,EAChF,CAAC,EACF,CAAC,EACF,CAAC,CACDyc,yBAAyB,CAAE,SAAAA,yBAAU9X,CAAAA,SAAS,CAAE,CAC/C,IAAM4J,IAAI,CAAG,IAAI,CACjB5J,SAAS,CAAC5C,EAAE,CAAC,OAAO,CAAE,eAAe,CAAE,SAAC4B,CAAC,CAAK,CAC7C,IAAI+Y,GAAG,CAAGxb,CAAC,CAACyC,CAAC,CAACW,aAAa,CAAC,CAAClE,OAAO,CAAC,cAAc,CAAC,CACnDuc,QAAQ,CAAGD,GAAG,CAAC1c,IAAI,CAAC,WAAW,CAAC,CAChC4c,UAAU,CAAGF,GAAG,CAAC1c,IAAI,CAAC,aAAa,CAAC,CACrC2c,QAAQ,CAACE,WAAW,CAAC,QAAQ,CAAC,CAC9BD,UAAU,CAACC,WAAW,CAAC,QAAQ,EAChC,CAAC,CAAC,CACFlY,SAAS,CAAC3E,IAAI,CAAC,sBAAoB,CAAC,CAAC+B,EAAE,CAAC,QAAQ,CAAE,SAAU4B,CAAC,CAAE,CAC9D4K,IAAI,CAACuO,qBAAqB,CAACnY,SAAS,EACrC,CAAC,CAAC,CACFA,SAAS,CAAC3E,IAAI,CAAC,uBAAqB,CAAC,CAAC+B,EAAE,CAAC,QAAQ,CAAE,SAAU4B,CAAC,CAAE,CAC/D4K,IAAI,CAACuO,qBAAqB,CAACnY,SAAS,EACrC,CAAC,CAAC,CACFA,SAAS,CAAC5C,EAAE,CAAC,OAAO,CAAE,iBAAiB,CAAE,SAAC4B,CAAC,CAAK,CAAA,IAC3C1G,GAAG,CAAGiE,CAAC,CAACyC,CAAC,CAACW,aAAa,CAAC,CAACnH,IAAI,CAAC,KAAK,CAAC,CACpCH,IAAI,CAAG2H,SAAS,CAAC3E,IAAI,CAAC,sBAAoB,CAAC,CAC3C+c,SAAS,CAAG,EAAE,CAEjBA,SAAS,CADQ,CAAC,CAAf/f,IAAI,CAAC5C,MAAU,CACN4C,IAAI,CAACiC,GAAG,EAAE,CAEV,KAAK,CAElBhC,GAAG,EAAI,QAAQ,CAAG8f,SAAS,CACwB,CAAC,CAAhDpY,SAAS,CAAC3E,IAAI,CAAC,uBAAqB,CAAC,CAAC5F,MAAU,GACnD6C,GAAG,EAAI,cAAc,CAAG0H,SAAS,CAAC3E,IAAI,CAAC,uBAAqB,CAAC,CAACf,GAAG,EAAE,CAAA,CAEpE,IAAImF,wBAAwB,CAAG1I,MAAM,CAAC2I,iBAAiB,EAAE,CACzDpI,GAAG,CAACoB,eAAe,CAAC,EAAE,CAAEJ,GAAG,CAAE,SAACE,IAAI,CAAK,CACtCiH,wBAAwB,CAACC,iBAAiB,CAAC,CAAEzD,IAAI,CAAE,MAAO,CAAC,CAAC,CAC5D2N,IAAI,CAACkO,yBAAyB,CAACtf,IAAI,CAAC,CACpC8G,eAAe,CAACC,mBAAmB,CAAC/G,IAAI,CAAC,CACzCA,IAAI,CAAC6C,IAAI,CAAC,iBAAiB,CAAC,CAACgd,KAAK,GACnC,CAAC,EACF,CAAC,CAAC,CACFrY,SAAS,CAAC3E,IAAI,CAAC,iBAAiB,CAAC,CAAC+B,EAAE,CAAC,OAAO,CAAE,SAAU4B,CAAC,CAAE,CAC1DgB,SAAS,CAAC3E,IAAI,CAAC,WAAW,CAAC,CAAC6H,WAAW,CAAC,QAAQ,CAAC,CACjDlD,SAAS,CAAC3E,IAAI,CAAC,aAAa,CAAC,CAAC8H,QAAQ,CAAC,QAAQ,CAAC,CAChDnD,SAAS,CAAC3E,IAAI,CAAC,+BAA+B,CAAC,CAAC6H,WAAW,CAAC,eAAe,CAAC,CAACC,QAAQ,CAAC,aAAa,EACpG,CAAC,CAAC,CACFnD,SAAS,CAAC3E,IAAI,CAAC,mBAAmB,CAAC,CAAC+B,EAAE,CAAC,OAAO,CAAE,SAAU4B,CAAC,CAAE,CAC5DgB,SAAS,CAAC3E,IAAI,CAAC,WAAW,CAAC,CAAC8H,QAAQ,CAAC,QAAQ,CAAC,CAC9CnD,SAAS,CAAC3E,IAAI,CAAC,aAAa,CAAC,CAAC6H,WAAW,CAAC,QAAQ,CAAC,CACnDlD,SAAS,CAAC3E,IAAI,CAAC,+BAA+B,CAAC,CAAC6H,WAAW,CAAC,aAAa,CAAC,CAACC,QAAQ,CAAC,eAAe,EACpG,CAAC,CAAC,CACFnD,SAAS,CACP3E,IAAI,CAAC,gBAAgB,CAAC,CACtB+Q,GAAG,CAAC,OAAO,CAAC,CACZhP,EAAE,CAAC,OAAO,CAAE,SAAU4B,CAAC,CAAE,CACzBA,CAAC,CAACQ,cAAc,EAAE,CAClB,IAAIC,wBAAwB,CAAG1I,MAAM,CAAC2I,iBAAiB,EAAE,CACzDpI,GAAG,CAACoB,eAAe,CAAC,EAAE,CAAE6D,CAAC,CAACyC,CAAC,CAACW,aAAa,CAAC,CAACnH,IAAI,CAAC,KAAK,CAAC,CAAG,eAAe,CAAE,SAAUA,IAAI,CAAE,CACzF8G,eAAe,CAACC,mBAAmB,CAAC/G,IAAI,CAAC,CACzCiH,wBAAwB,CAACC,iBAAiB,CAAC,CAAEzD,IAAI,CAAE,MAAO,CAAC,EAC5D,CAAC,EACF,CAAC,EACH,CAAC,CACDkc,qBAAqB,CAAE,SAAAA,qBAAUlZ,CAAAA,aAAa,CAAE,CAAA,IAC3C5F,YAAY,CAAG,IAAI,CACnBwe,mBAAmB,CAAG5Y,aAAa,CAAC5D,IAAI,CAAC,2BAA2B,CAAC,CACrEb,QAAQ,CAAG+B,CAAC,CAAC,WAAW,CAAC,CAACjC,GAAG,EAAE,CAC/BmV,QAAQ,CAAGoI,mBAAmB,CAACnY,iBAAiB,EAAE,CAClDlG,MAAM,CAAG,EAAE,CACfA,MAAM,CAAAiB,MAAU,CAAG,aAAa,CAChCjB,MAAM,CAAAsE,IAAQ,CAAG,QAAQ,CACzBtE,MAAM,CAAA8e,OAAW,CAAG/b,CAAC,CAAC,SAAS,CAAC,CAACjC,GAAG,EAAE,CACtCd,MAAM,CAAA+e,OAAW,CAAG/d,QAAQ,CAC5BhB,MAAM,CAAAyC,IAAQ,CAAG,gBAAgB,CACjCzC,MAAM,CAAAnB,IAAQ,CAAGkE,CAAC,CAAC,sBAAoB,CAAC,CAACjC,GAAG,EAAE,CAC9Cd,MAAM,CAAAgf,UAAc,CAAGjc,CAAC,CAAC,uBAAqB,CAAC,CAACjC,GAAG,EAAE,CACrDnC,YAAY,CAACC,OAAO,CAACoB,MAAM,CAAC,CAACf,IAAI,CAAC,SAAUD,IAAI,CAAE,CACjDqf,mBAAmB,CAACnc,IAAI,CAAClD,IAAI,CAAC,CAC9BlB,GAAG,CAACyH,KAAK,CAACxD,OAAO,CAAC,6BAA6B,CAAEsc,mBAAmB,CAAEre,MAAM,CAAAiB,MAAU,CAAEpB,YAAY,CAAC,CACrGoW,QAAQ,CAAC/P,iBAAiB,CAAC,CAAEzD,IAAI,CAAE,MAAO,CAAC,EAC5C,CAAC,EACF,CAAC,CACD2D,mBAAmB,CAAE,SAAAA,mBAAAA,CAAUiE,oBAAoB,CAAE,CACpDvE,eAAe,CAACC,mBAAmB,CAACsE,oBAAoB,EACzD,CAAC,CACD4U,kBAAkB,CAAE,SAAAA,kBAAUzY,CAAAA,SAAS,CAAE,CACxC,GAAIA,SAAS,CAAC3E,IAAI,CAAC,cAAc,CAAC,CAAC5F,MAAM,CAAE,CAC1C,IAAIijB,OAAO,CAAG,IAAIC,oBAAsB,CACxCD,OAAO,CAACE,kBAAkB,CAAC5Y,SAAS,EACrC,CACD,CAAC,CACDX,mBAAmB,CAAE,SAAAA,mBAAAA,CAAUW,SAAS,CAAE,CACzCA,SAAS,CAAC5C,EAAE,CAAC,OAAO,CAAE,uBAAuB,CAAE,SAAU4B,CAAC,CAAE,CACvD,IAAAW,aAAa,CAAGpD,CAAC,CAACyC,CAAC,CAACW,aAAa,CAAC,CAClC3D,EAAE,CAAG2D,aAAa,CAACnH,IAAI,CAAC,IAAI,CAAC,CAC7BqgB,WAAW,CAAG7Y,SAAS,CAAC3E,IAAI,CAAC,uBAAuB,CAAGW,EAAE,CAAC,CAC9DgE,SAAS,CAAC3E,IAAI,CAAC,uBAAuB,CAAC,CAACyd,GAAG,CAAC,SAAS,CAAE,MAAM,CAAC,CAC9DD,WAAW,CAAC/F,IAAI,GACjB,CAAC,CAAC,CACF9S,SAAS,CAAC5C,EAAE,CAAC,OAAO,CAAE,2BAA2B,CAAE,SAAU4B,CAAC,CAAE,CAC/D,IAAI6Z,WAAW,CAAG7Y,SAAS,CAAC3E,IAAI,CAAC,uBAAuB,CAAC,CACzD2E,SAAS,CAAC3E,IAAI,CAAC,uBAAuB,CAAC,CAACyd,GAAG,CAAC,SAAS,CAAE,OAAO,CAAC,CAC/DD,WAAW,CAAC5F,IAAI,GACjB,CAAC,EACF,CAAC;AAEH;AACA;AACA;AACA,KACE8F,wBAAwB,CAAAA,SAAAA,wBAAAA,CAAC3d,OAAO,CAAE4d,YAAY,CAAE,CAC/C,IAAMC,aAAa,CAAG1c,CAAC,CAACnB,OAAO,CAAC,CAAC5C,IAAI,CAAC,eAAe,CAAC,CACtDlB,GAAG,CAACgZ,gBAAgB,CAAC,CACpBtV,KAAK,CAAEuB,CAAC,CAACnB,OAAO,CAAC,CAAC5C,IAAI,CAAC,eAAe,CAAC,CACvC0C,IAAI,CAAE5D,GAAG,CAAC2D,UAAU,CAAC,8BAA8B,CAAC,CACpDsV,iBAAiB,CAAE,SAAAA,iBAAA,EAAM,CACxB9D,cAAc,CAACC,QAAQ,CAAC,CACvB1W,KAAK,CAAEijB,aAAa,CACpB9M,KAAK,CAAE6M,YACR,CAAC,CAAC,CACAvgB,IAAI,CAAC,SAAC0R,QAAQ,CAAK,CACdA,QAAQ,EAAI,CAAA,CAAA,GAAAA,QAAQ,CAACrP,OAAiB,EAC1CrD,MAAM,CAACyE,QAAQ,CAACC,MAAM,GAExB,CAAC,CAAC,CACDvD,IAAI,CAAC,SAAUme,KAAK,CAAEC,GAAG,CAAE,CAC3B1f,GAAG,CAAC2f,QAAQ,CAACF,KAAK,CAAEC,GAAG,EACxB,CAAC,EACH,CACD,CAAC,EACF,CAAC;AAEH;AACA,KACEkC,gBAAgB,CAAAA,SAAAA,gBAAAA,EAAG,CAClB,IAAMtP,IAAI,CAAG,IAAI,CACjBrN,CAAC,CAAC,yBAAyB,CAAC,CAACgB,IAAI,CAAC,SAACC,KAAK,CAAEpC,OAAO,CAAK,CACrD,IAAI4d,YAAY,CAAGzc,CAAC,CAACnB,OAAO,CAAC,CAAC5C,IAAI,CAAC,cAAc,CAAC,CAClD+D,CAAC,CAACnB,OAAO,CAAC,CACRC,IAAI,CAAC,YAAY,CAAC,CAClB+B,EAAE,CAAC,OAAO,CAAE,SAAC4B,CAAC,CAAK,CACnB4K,IAAI,CAACmP,wBAAwB,CAAC/Z,CAAC,CAACW,aAAa,CAAEqZ,YAAY,EAC5D,CAAC,EACH,CAAC,EACF,CAAC,CACDG,QAAQ,CAAA,SAAAA,UAAG,CACV,IAAIC,OAAO,CAAG7c,CAAC,CAAC,oBAAoB,CAAE,IAAI,CAAC0B,uBAAuB,CAAC,CACnE,GAAImb,OAAO,CAAC3jB,MAAM,CAAE,CAAA,IACf4jB,aAAa,CAAG,IAAI,CAACpb,uBAAuB,CAAC5C,IAAI,CAAC,oBAAoB,CAAC,CACrEie,OAAO,CAAG,EAAE,CAClBD,aAAa,CAACE,MAAM,CACnBhd,CAAC,CAACid,QAAQ,CAAC,CAACD,MAAM,EAAE,CAAGF,aAAa,CAACI,MAAM,EAAE,CAACC,GAAG,CAAGnd,CAAC,CAAC,YAAY,CAAC,CAACod,WAAW,EAAE,CAAGL,OACrF,CAAC,CACD7hB,MAAM,CAACmiB,0BAA0B,CAACC,KAAK,CAAC,CACvCC,EAAE,CAAE,oBACL,CAAC,EACF,CACD,CAAC,CACDC,YAAY,CAAAA,SAAAA,YAAAA,EAAG,CAAA,IAAAC,MAAA,CAAA,IAAA,CACVviB,MAAM,CAACmiB,0BAA0B,GAAA,KAAA,CAAc,GAClD,IAAI,CAACT,QAAQ,EAAE,CACf7hB,GAAG,CAACyH,KAAK,CAAC3B,EAAE,CAAC,0BAA0B,CAAE,SAAC4B,CAAC,CAAExG,IAAI,CAAEpB,QAAQ,CAAK,CAC/DA,QAAQ,CAAC6G,uBAAuB,CAACgc,KAAK,CAAC,UAAM,CAC5CD,MAAI,CAACb,QAAQ,GACd,CAAC,EACF,CAAC,CAAC,EAEJ,CAAC,CACDnF,mBAAmB,CAAE,SAAAA,mBAAAA,EAAY,CAAA,IAC5B3a,YAAY,CAAG,IAAI,CACnBwK,oBAAoB,CAAGxK,YAAY,CAACyK,gBAAgB,EAAE,CACtD6J,kBAAkB,CAAGtU,YAAY,CAACqI,cAAc,EAAE,CACtD;AAiBA;AAf+C,aAAa,GAAxD,IAAI,CAACA,cAAc,EAAE,CAAClJ,IAAI,CAAC,UAAU,CAAmB,EAC3D,IAAIM,GAAG,CAACoB,MAAM,CAACuN,IAAI,CAACC,WAAW,CAAC7D,oBAAoB,CAACxI,IAAI,CAAC,iBAAiB,CAAC,CAAC,CAE9E/D,GAAG,CAAC4iB,2BAA2B,CAAC,IAAI,CAACja,OAAO,EAAE,CAAC,CAC/C5G,YAAY,CAACuU,kCAAkC,CAAC/J,oBAAoB,CAAC,CACrExK,YAAY,CAACwd,qBAAqB,CAAChT,oBAAoB,CAAC,CACxDxK,YAAY,CAACuG,mBAAmB,CAACiE,oBAAoB,CAAC,CACtDxK,YAAY,CAACof,kBAAkB,CAAC5U,oBAAoB,CAAC,CACrDxK,YAAY,CAAC8gB,mBAAmB,CAACtW,oBAAoB,CAAC,CACtDxK,YAAY,CAACyG,yBAAyB,CAAC+D,oBAAoB,CAAC,CAC5D/K,GAAG,CAACoB,MAAM,CAAC+J,IAAI,CAAC3C,QAAQ,CAACuC,oBAAoB,CAAC,CAC9C/K,GAAG,CAACoB,MAAM,CAACkgB,QAAQ,CAAC9Y,QAAQ,CAACuC,oBAAoB,CAAC,CAClD/K,GAAG,CAACoB,MAAM,CAACmgB,UAAU,CAAC/Y,QAAQ,CAACuC,oBAAoB,CAAC,CACpD/K,GAAG,CAACoB,MAAM,CAACogB,QAAQ,CAAChZ,QAAQ,CAACuC,oBAAoB,CAAC,CAClD/K,GAAG,CAACoB,MAAM,CAACqgB,eAAe,CAACjZ,QAAQ,CAACuC,oBAAoB,CAAC,CAEzDvM,GAAG,CAACkjB,2BAA2B,EAAE,CACjC,IAAI,CAACnF,gBAAgB,CAACxR,oBAAoB,CAAC,CAC3C/K,GAAG,CAACoB,MAAM,CAACC,QAAQ,CAACgH,sBAAsB,CAAC0C,oBAAoB,CAACxI,IAAI,CAAC,gBAAgB,CAAC,CAAC,CACvFvC,GAAG,CAACoB,MAAM,CAACuN,IAAI,CAACsL,MAAM,CAACzR,QAAQ,CAACuC,oBAAoB,CAAE,CAAEmP,OAAO,CAAE,KAAM,CAAC,CAAC,CACzEnP,oBAAoB,CAACzG,EAAE,CAAC,OAAO,CAAE,6BAA6B,CAAE,SAAU4B,CAAC,CAAE,KACxE1G,GAAG,CAAGqV,kBAAkB,CAACnV,IAAI,CAAC,KAAK,CAAC,CACpCiiB,cAAc,CAAGphB,YAAY,CAACsM,4BAA4B,EAAE,CAC5D+U,aAAa,CAAG7F,QAAQ,CAAC4F,cAAc,CAAC,CAAG,CAAC,CAC5CE,WAAW,CAAGriB,GAAG,CAAG,QAAQ,CAAGoiB,aAAa,CAChDrhB,YAAY,CAACuK,YAAY,CAAC+W,WAAW,EACtC,CAAC,CAAC,CACF9W,oBAAoB,CAACzG,EAAE,CAAC,OAAO,CAAE,iCAAiC,CAAE,SAAU4B,CAAC,CAAE,CAC5E,IAAA1G,GAAG,CAAGqV,kBAAkB,CAACnV,IAAI,CAAC,KAAK,CAAC,CACpCiiB,cAAc,CAAGphB,YAAY,CAACsM,4BAA4B,EAAE,CAC5D+U,aAAa,CAAG7F,QAAQ,CAAC4F,cAAc,CAAC,CAAG,CAAC,CAC5CE,WAAW,CAAGriB,GAAG,CAAG,QAAQ,CAAGoiB,aAAa,CAChDrhB,YAAY,CAACuK,YAAY,CAAC+W,WAAW,EACtC,CAAC,CAAC,CACF9W,oBAAoB,CAACzG,EAAE,CAAC,OAAO,CAAE,uBAAuB,CAAE,SAAU4B,CAAC,CAAE,CACtE3F,YAAY,CAACyR,gBAAgB,CAAC/T,MAAM,CAACiI,CAAC,CAACW,aAAa,CAAC,CAAClE,OAAO,CAAC,aAAa,CAAC,EAC7E,CAAC,CAAC,CACFoI,oBAAoB,CAACzG,EAAE,CAAC,OAAO,CAAE,qCAAqC,CAAE,SAAU4B,CAAC,CAAE,CAAA,IAChFgK,cAAc,CAAGjS,MAAM,CAACiI,CAAC,CAACW,aAAa,CAAC,CACxCib,YAAY,CAAG5R,cAAc,CAACxQ,IAAI,CAAC,WAAW,CAAC,CACnDzB,MAAM,CAAC,sDAAqD,CAAG6jB,YAAY,CAAG,KAAI,CAAC,CAACrf,OAAO,CAAC,OAAO,EACpG,CAAC,CAAC,CACFsI,oBAAoB,CAACzG,EAAE,CAAC,OAAO,CAAE,eAAe,CAAE,SAAU4B,CAAC,CAAE,CAC9D,IAAI6b,WAAW,CAAG,IAAIpO,cAAgB,CAEtC,OADAoO,WAAW,CAACpY,eAAe,CAACzD,CAAC,CAAC,GAE/B,CAAC,CAAC,CACF6E,oBAAoB,CAACzG,EAAE,CAAC,OAAO,CAAE,aAAa,CAAE,SAAU4B,CAAC,CAAE,CAC5D3F,YAAY,CAACuM,gBAAgB,EAAE,CAC/B,IAAIjG,aAAa,CAAG5I,MAAM,CAACiI,CAAC,CAACW,aAAa,CAAC,CAC1Cmb,mBAAmB,CAAGnb,aAAa,CAAChC,MAAM,EAAE,CAC5Cod,mBAAmB,CAAGpb,aAAa,CAAClE,OAAO,CAAC,qBAAqB,CAAC,CAClEuf,mBAAmB,CAAGrb,aAAa,CAAClE,OAAO,CAAC,qBAAqB,CAAC,CAClEwf,UAAU,CAAGD,mBAAmB,CAAC3f,IAAI,CAAC,IAAI,CAAC,CAC5C,GAAwB,CAAC,CAArB4f,UAAU,CAACxlB,MAAU,CAIxB,OAHAwlB,UAAU,CAACnI,IAAI,EAAE,CACjBiI,mBAAmB,CAAC1f,IAAI,CAAC,kBAAkB,CAAC,CAACyX,IAAI,EAAE,MACnDgI,mBAAmB,CAAC7H,IAAI,EAAE,CAG3B,IAAI/M,SAAS,CAAGvG,aAAa,CAAClE,OAAO,CAAC,iBAAiB,CAAC,CAACJ,IAAI,CAAC,yBAAyB,CAAC,CAAC7C,IAAI,CAAC,WAAW,CAAC,CAC1Ga,YAAY,CAAC6a,gBAAgB,CAAChO,SAAS,CAAC,CAACzN,IAAI,CAAC,SAAUD,IAAI,CAAE,CAC7DzB,MAAM,CAACyB,IAAI,CAAC,CAACwV,QAAQ,CAACjX,MAAM,CAACiI,CAAC,CAACW,aAAa,CAAC,CAAClE,OAAO,CAAC,qBAAqB,CAAC,CAAC,CAC7Esf,mBAAmB,CAAC1f,IAAI,CAAC,kBAAkB,CAAC,CAACyX,IAAI,EAAE,CACnDgI,mBAAmB,CAAC7H,IAAI,GACzB,CAAC,EACF,CAAC,CAAC,CACFpP,oBAAoB,CAACzG,EAAE,CAAC,OAAO,CAAE,wBAAwB,CAAE,SAAU4B,CAAC,CAAE,CACvE,IAAIW,aAAa,CAAG5I,MAAM,CAACiI,CAAC,CAACW,aAAa,CAAC,CAC1Cmb,mBAAmB,CAAGnb,aAAa,CAAChC,MAAM,EAAE,CAC5CuI,SAAS,CAAGvG,aAAa,CAAClE,OAAO,CAAC,iBAAiB,CAAC,CAACJ,IAAI,CAAC,yBAAyB,CAAC,CAAC7C,IAAI,CAAC,WAAW,CAAC,CACvGa,YAAY,CAAC+a,iBAAiB,CAAClO,SAAS,CAAC,CAACzN,IAAI,CAAC,SAAUD,IAAI,CAAE,CAC9D+D,CAAC,CAACyC,CAAC,CAACW,aAAa,CAAClE,OAAO,CAAC,qBAAqB,CAAC,CAAC,CAACC,IAAI,CAAClD,IAAI,CAAC,CAC5DmH,aAAa,CAAClE,OAAO,CAAC,qBAAqB,CAAC,CAACJ,IAAI,CAAC,kBAAkB,CAAC,CAACyX,IAAI,EAAE,CAC5EgI,mBAAmB,CAAC7H,IAAI,GACzB,CAAC,EACF,CAAC,CAAC,CACFpP,oBAAoB,CAACzG,EAAE,CAAC,OAAO,CAAE,aAAa,CAAE,SAAU4B,CAAC,CAAE,CAAA,IACxDW,aAAa,CAAG5I,MAAM,CAACiI,CAAC,CAACW,aAAa,CAAC,CACvCmb,mBAAmB,CAAGnb,aAAa,CAAChC,MAAM,EAAE,CAC5Cod,mBAAmB,CAAGpb,aAAa,CAAClE,OAAO,CAAC,qBAAqB,CAAC,CAClEuf,mBAAmB,CAAGrb,aAAa,CAAClE,OAAO,CAAC,qBAAqB,CAAC,CACtEuf,mBAAmB,CAAC3f,IAAI,CAAC,IAAI,CAAC,CAAC4X,IAAI,EAAE,CACrC6H,mBAAmB,CAAC7H,IAAI,EAAE,CAC1B8H,mBAAmB,CAAC1f,IAAI,CAAC,uBAAuB,CAAC,CAACyX,IAAI,GACvD,CAAC,CAAC,CACFjP,oBAAoB,CAACzG,EAAE,CAAC,OAAO,CAAE,mBAAmB,CAAE,SAAU4B,CAAC,CAAE,KAC9DkY,iBAAiB,CAAG7d,YAAY,CAAC8K,aAAa,CAAC9K,YAAY,CAACgF,gCAAgC,CAAC,CAC7F6H,SAAS,CAAGnP,MAAM,CAACiI,CAAC,CAACW,aAAa,CAAC,CACrClE,OAAO,CAAC,oBAAoB,CAAC,CAC7BJ,IAAI,CAAC,yBAAyB,CAAC,CAC/B7C,IAAI,CAAC,WAAW,CAAC,CACf0iB,WAAW,CAAG,SAAdA,WAAWA,CAAa1iB,IAAI,CAAE,CACjCf,MAAM,CAACyE,QAAQ,CAACuN,IAAI,CAAGhS,MAAM,CAACyE,QAAQ,CAACuN,IAAI,CAAG,GAAG,CAAGvD,UACrD,CAAC,CACDgR,iBAAiB,CAAC3b,OAAO,CAAC,OAAO,CAAE,CAAE4f,SAAS,CAAEjV,SAAS,CAAE3M,QAAQ,CAAE2hB,WAAY,CAAC,EACnF,CAAC,CAAC,CACFrX,oBAAoB,CAACzG,EAAE,CAAC,OAAO,CAAE,oBAAoB,CAAE,SAAU4B,CAAC,CAAE,CACnEA,CAAC,CAACQ,cAAc,EAAE,CAClB,IAAI0X,iBAAiB,CAAG7d,YAAY,CAACqL,cAAc,CAACnI,CAAC,CAAC,IAAI,CAAC,CAAC/D,IAAI,CAAC,WAAW,CAAC,CAAE+D,CAAC,CAAC,IAAI,CAAC,CAAC/D,IAAI,CAAC,aAAa,CAAC,CAAC,CAC3G,GAAI0e,iBAAiB,CAACzhB,MAAM,CAC3ByhB,iBAAiB,CAAC3b,OAAO,CAAC,OAAO,CAAC,CAC5B,KAAA,CACN,IAAIoE,aAAa,CAAGpD,CAAC,CAACyC,CAAC,CAACW,aAAa,CAAC,CACrCK,SAAS,CAAGL,aAAa,CAAClE,OAAO,CAAC,6BAA6B,CAAC,CACjE,GAAIuE,SAAS,CAACvK,MAAM,CAAE,CACrB,IAAIoG,IAAI,CAAGmE,SAAS,CAAC3E,IAAI,CAAC,sBAAoB,CAAC,CAACf,GAAG,EAAE,CACpDhC,GAAG,CAAG0H,SAAS,CAACxH,IAAI,CAAC,KAAK,CAAC,CAC5BmH,aAAa,CAAC0L,IAAI,CAAC,UAAU,CAAM,CAAA,CAAA,CAAC,CACpC/S,GAAG,CAAGA,GAAG,CAACkV,OAAO,CAAC,SAAS,CAAE,QAAQ,EAAG,EAAE3R,IAAI,CAAC,CAC/C1D,YAAY,CAACC,OAAO,CAACE,GAAG,CAAC,CAACG,IAAI,CAAC,SAAUD,IAAI,CAAE,CAC9C,IAAI2b,OAAO,CAAG5X,CAAC,CAAC/D,IAAI,CAAC,CACpB4iB,cAAc,CAAGpb,SAAS,CAAC3E,IAAI,CAAC,iCAAiC,CAAC,CACnEsE,aAAa,CAAC0L,IAAI,CAAC,UAAU,CAAO,CAAA,CAAA,CAAC,CAAClI,QAAQ,CAAC,QAAQ,CAAC,CACxDnD,SAAS,CAAC3E,IAAI,CAAC,sBAAoB,CAAC,CAACf,GAAG,CAAC6Z,OAAO,CAAC9Y,IAAI,CAAC,iBAAe,CAAC,CAACf,GAAG,EAAE,CAAC,CACzE8gB,cAAc,CAAC3lB,MAAM,EACxB2lB,cAAc,CAACC,MAAM,CAAClH,OAAO,CAAC9Y,IAAI,CAAC,UAAU,CAAC,CAAC,CAC3C8Y,OAAO,CAAC9Y,IAAI,CAAC,oBAAoB,CAAC,CAAC5F,MAAM,EAC5CkK,aAAa,CAACuD,WAAW,CAAC,QAAQ,CAAC,EAGpClD,SAAS,CAAC3E,IAAI,CAAC,2BAA2B,CAAC,CAACggB,MAAM,CAAClH,OAAO,EAE5D,CAAC,EACF,CACD,CACD,CAAC,CAAC,CACFtQ,oBAAoB,CAACzG,EAAE,CAAC,QAAQ,CAAE,sBAAsB,CAAE,SAAU4B,CAAC,CAAE,CACtE,IAAIC,aAAa,CAAGlI,MAAM,CAAC,IAAI,CAAC,CAAC0E,OAAO,CAAC,qBAAqB,CAAC,CAACJ,IAAI,CAAC,gBAAgB,CAAC,CACrFoE,wBAAwB,CAAG1I,MAAM,CAAC2I,iBAAiB,CAAC,CACnDsI,QAAQ,CAAE,MAAM,CAChBC,SAAS,CAAE,CACVC,OAAO,CAAA,CAAA,CAAM,CACb2L,cAAc,CAAE5U,aACjB,CACD,CAAC,CAAC,CACH9G,YAAY,CAACC,OAAO,CAAC,CACpBqC,MAAM,CAAEnD,GAAG,CAACC,aAAa,EAAE,CAC3BuG,IAAI,CAAE,QAAQ,CACdnD,MAAM,CAAErD,GAAG,CAACQ,WAAW,EAAE,CACzBmE,IAAI,CAAE,oBAAoB,CAC1BJ,IAAI,CAAE,CAAC,CACP4b,KAAK,CAAExY,aAAa,CAAC5D,IAAI,CAAC,6BAA6B,CAAC,CAACf,GAAG,EAAE,CAC9DjC,IAAI,CAAEkE,CAAC,CAACyC,CAAC,CAACW,aAAa,CAAC,CAACrF,GAAG,EAC7B,CAAC,CAAC,CAAC7B,IAAI,CAAC,SAAUD,IAAI,CAAE,CACvBiH,wBAAwB,CAACC,iBAAiB,CAAC,CAAEzD,IAAI,CAAE,MAAO,CAAC,CAAC,CAC5DgD,aAAa,CAAC5D,IAAI,CAAC,4BAA4B,CAAC,CAACqW,MAAM,EAAE,CACzDzS,aAAa,CAAC5D,IAAI,CAAC,qBAAqB,CAAC,CAACqW,MAAM,EAAE,CAClDzS,aAAa,CAACvD,IAAI,CAAClD,IAAI,CAAC,CACxB8G,eAAe,CAACC,mBAAmB,CAACN,aAAa,EAClD,CAAC,EACF,CAAC,CAAC,CACF4E,oBAAoB,CAACzG,EAAE,CAAC,OAAO,CAAE,sBAAsB,CAAE,UAAY,CACpErG,MAAM,CAAC,wEAAsE,CAAC,CAACwE,OAAO,CAAC,OAAO,EAC/F,CAAC,CAAC,CACFsI,oBAAoB,CAACzG,EAAE,CAAC,OAAO,CAAE,qBAAqB,CAAE,UAAY,CAC/D,IAAAoD,eAAe,CAAGzJ,MAAM,CAAC,IAAI,CAAC,CAAC0E,OAAO,CAAC,qBAAqB,CAAC,CAC7DwD,aAAa,CAAGuB,eAAe,CAACnF,IAAI,CAAC,gBAAgB,CAAC,CACtDoE,wBAAwB,CAAG1I,MAAM,CAAC2I,iBAAiB,CAAC,CACvDsI,QAAQ,CAAE,MAAM,CAChBC,SAAS,CAAE,CACVC,OAAO,CAAM,CAAA,CAAA,CACb2L,cAAc,CAAE5U,aACjB,CACD,CAAC,CAAC,CACEqc,WAAW,CAAGrc,aAAa,CAAC5D,IAAI,CAAC,4BAA4B,CAAC,CAACf,GAAG,EAAE,CACpEihB,QAAQ,CAAG1G,QAAQ,CAACyG,WAAW,CAAC,CAAG,CAAC,CACpCE,KAAK,CAAGhb,eAAe,CAACnF,IAAI,CAAC,sBAAsB,CAAC,CAACf,GAAG,EAAE,CAC1DmhB,SAAS,CAAGxc,aAAa,CAAC5D,IAAI,CAAC,0BAA0B,CAAC,CAACf,GAAG,EAAE,CACpEnC,YAAY,CAACC,OAAO,CAAC,CACpBqC,MAAM,CAAEnD,GAAG,CAACC,aAAa,EAAE,CAC3BuG,IAAI,CAAE,QAAQ,CACdnD,MAAM,CAAErD,GAAG,CAACQ,WAAW,EAAE,CACzBmE,IAAI,CAAE,oBAAoB,CAC1BJ,IAAI,CAAE0f,QAAQ,CACd9D,KAAK,CAAEgE,SAAS,CAChBpjB,IAAI,CAAEmjB,KACP,CAAC,CAAC,CAAC/iB,IAAI,CAAC,SAAUD,IAAI,CAAE,CACvBiH,wBAAwB,CAACC,iBAAiB,CAAC,CAAEzD,IAAI,CAAE,MAAO,CAAC,CAAC,CAC5DgD,aAAa,CAAC5D,IAAI,CAAC,4BAA4B,CAAC,CAACqW,MAAM,EAAE,CACzDzS,aAAa,CAAC5D,IAAI,CAAC,qBAAqB,CAAC,CAACqW,MAAM,EAAE,CAClDzS,aAAa,CAAC5D,IAAI,CAAC,iBAAiB,CAAC,CAACggB,MAAM,CAAC7iB,IAAI,EAClD,CAAC,EACF,CAAC,CAAC,CACFqL,oBAAoB,CAACzG,EAAE,CAAC,OAAO,CAAE,oBAAoB,CAAE,SAAU4B,CAAC,CAAE,CAAA,IAIlE1G,GAAG,CAHE0H,SAAS,CAAGzD,CAAC,CAACyC,CAAC,CAACW,aAAa,CAAC,CAAClE,OAAO,CAAC,4BAA4B,CAAC,CACtEigB,SAAS,CAAG1b,SAAS,CAAC3E,IAAI,CAAC,YAAY,CAAC,CAACf,GAAG,EAAE,CACjDihB,QAAQ,CAAG1G,QAAQ,CAAC7U,SAAS,CAAC3E,IAAI,CAAC,qBAAqB,CAAC,CAACf,GAAG,EAAE,CAAC,CAAG,CAAC,CAErE,GAAI0F,SAAS,CAACvE,OAAO,CAAC,mBAAmB,CAAC,CAAChG,MAAM,CAAE,CAClD,IAAI+C,IAAI,CAAGa,YAAY,CAACsX,cAAc,CACrC3R,CAAC,CACD,CACCnD,IAAI,CAAE0f,QAAQ,CACd9F,SAAS,CAAE,aAAa,CACxBiG,SAAS,CAAEA,SACZ,CAAC,CACD1b,SAAS,CAAC3E,IAAI,CAAC,UAAU,CAC1B,CAAC,CACD/C,GAAG,CAAGE,IAAI,CAAAgB,OACX,CAAC,KAGA,GAFAlB,GAAG,CAAGe,YAAY,CAAC8K,aAAa,CAAC9K,YAAY,CAACkF,+BAA+B,CAAC,CAAC/F,IAAI,CAAC,KAAK,CAAC,CAC1FF,GAAG,CAAGA,GAAG,CAACkV,OAAO,CAAC,SAAS,CAAE,QAAQ,CAAG+N,QAAQ,CAAC,CAAG,6BAA6B,CAAGG,SAAS,CACtD,CAAC,CAAC,GAArCpjB,GAAG,CAACqjB,OAAO,CAAC,iBAAiB,CAAQ,CAAE,CAC1C,IAAIC,SAAS,CAAG7kB,MAAM,CAAC,sCAAsC,CAAC,CAC9DuB,GAAG,EACF,kBAAkB,EACmB,WAAW,EAA/C,OAAOsjB,SAAS,CAACpjB,IAAI,CAAC,QAAQ,CAAiB,CAAGojB,SAAS,CAACpjB,IAAI,CAAC,SAAS,CAAC,CAAGojB,SAAS,CAACpjB,IAAI,CAAC,QAAQ,CAAC,EACzG,CAEDL,YAAY,CAACC,OAAO,CAACE,GAAG,CAAC,CAACG,IAAI,CAAC,SAAUD,IAAI,CAAE,CAC9C,IAAIqjB,aAAa,CAAG9kB,MAAM,CAACyB,IAAI,CAAC,CAChCwH,SAAS,CAAC3E,IAAI,CAAC,YAAY,CAAC,CAACf,GAAG,CAACuhB,aAAa,CAACxgB,IAAI,CAAC,YAAY,CAAC,CAACf,GAAG,EAAE,CAAC,CACxE0F,SAAS,CAAC3E,IAAI,CAAC,qBAAqB,CAAC,CAACf,GAAG,CAACuhB,aAAa,CAACxgB,IAAI,CAAC,qBAAqB,CAAC,CAACf,GAAG,EAAE,CAAC,CAC1F0F,SAAS,CAAC3E,IAAI,CAAC,eAAe,CAAC,CAACK,IAAI,CAACmgB,aAAa,CAACxgB,IAAI,CAAC,eAAe,CAAC,CAACK,IAAI,EAAE,CAAC,CAChFsE,SAAS,CAAC3E,IAAI,CAAC,aAAa,CAAC,CAACggB,MAAM,CAACQ,aAAa,CAACxgB,IAAI,CAAC,aAAa,CAAC,CAACK,IAAI,EAAE,CAAC,CAC9EpE,GAAG,CAACyH,KAAK,CAACxD,OAAO,CAAC,kCAAkC,CAAE/C,IAAI,CAAEa,YAAY,EACzE,CAAC,EACF,CAAC,CAAC,CACFwK,oBAAoB,CAACzG,EAAE,CAAC,OAAO,CAAE,uBAAuB,CAAE,SAAU4B,CAAC,CAAE,CAAA,IAClE+I,gBAAgB,CAAGhR,MAAM,CAAC2I,iBAAiB,CAAC,CAC/CsI,QAAQ,CAAE,MAAM,CAChBC,SAAS,CAAE,CACVC,OAAO,CAAA,CAAA,CACR,CACD,CAAC,CAAC,CACE5P,GAAG,CAAG,8DAA8D,CAAGhB,GAAG,CAACQ,WAAW,EAAE,CAC5FK,YAAY,CAACC,OAAO,CAACE,GAAG,CAAC,CAACG,IAAI,CAAC,SAAUD,IAAI,CAAE,CAI9C,GAHAuP,gBAAgB,CAACrI,iBAAiB,CAAC,CAAEzD,IAAI,CAAE,MAAO,CAAC,CAAC,CACpDlF,MAAM,CAACiI,CAAC,CAACW,aAAa,CAAC,CAAChC,MAAM,EAAE,CAAC+T,MAAM,EAAE,CACzCrY,YAAY,CAAC8K,aAAa,CAAC9K,YAAY,CAACkF,+BAA+B,CAAC,CAAClD,IAAI,CAAC,cAAc,CAAC,CAACH,IAAI,CAAC,EAAE,CAAC,CAClGyS,kBAAkB,CAACnV,IAAI,CAAC,UAAU,CAAC,EAAIa,YAAY,CAACkF,+BAA+B,CACtFlF,YAAY,CAACuJ,gBAAgB,EAAE,CACzB,KAAA,GAAI+K,kBAAkB,CAACnV,IAAI,CAAC,SAAS,CAAC,EAAIa,YAAY,CAAC+E,yBAAyB,CAAE,CACxF,IAAIqT,aAAa,CAAG5N,oBAAoB,CAACxI,IAAI,CAAC,uBAAuB,CAAC,CACtE,GAA2B,CAAC,CAAxBoW,aAAa,CAAChc,MAAU,CAAE,CAC7B,IAAI+D,MAAM,CAAGH,YAAY,CAACsX,cAAc,CAACc,aAAa,CAAC,CACvDpY,YAAY,CAACgH,UAAU,CAACoR,aAAa,CAAEjY,MAAM,CAAAA,MAAU,EACxD,CACD,CACD,CAAC,EACF,CAAC,CAAC,CACFqK,oBAAoB,CAACzG,EAAE,CAAC,OAAO,CAAE,sBAAsB,CAAE,UAAY,CACpE,IAAI0e,kBAAkB,CAAGziB,YAAY,CAAC8K,aAAa,CAAC9K,YAAY,CAACmF,iCAAiC,CAAC,CACnGsd,kBAAkB,CAACvgB,OAAO,CAAC,OAAO,EACnC,CAAC,CAAC,CACFsI,oBAAoB,CAACzG,EAAE,CAAC,OAAO,CAAE,uBAAuB,CAAE,SAAU4B,CAAC,CAAE,CACtE,IAAIW,aAAa,CAAGpD,CAAC,CAACyC,CAAC,CAACW,aAAa,CAAC,CACtCA,aAAa,CAAC0L,IAAI,CAAC,UAAU,GAAM,CAAC,CAAA,IAChCrL,SAAS,CAAGL,aAAa,CAAClE,OAAO,CAAC,0BAA0B,CAAC,CAC7DI,IAAI,CAAGmE,SAAS,CAAC3E,IAAI,CAAC,cAAc,CAAC,CAACf,GAAG,EAAE,CAC3CyhB,OAAO,CAAG/b,SAAS,CAAC3E,IAAI,CAAC,kBAAkB,CAAC,CAACf,GAAG,EAAE,CAClD9B,IAAI,CAAGa,YAAY,CAACsX,cAAc,CAAC3R,CAAC,CAAE,CAAEnD,IAAI,CAAE,EAAEA,IAAK,CAAC,CAAC,CAC3D1D,YAAY,CAACC,OAAO,CAAC,CACpBC,IAAI,CAAE,MAAM,CACZ6I,KAAK,CAAO,CAAA,CAAA,CACZ3I,QAAQ,CAAE,MAAM,CAChBC,IAAI,CAAEA,IAAI,CAAAgB,MACX,CAAC,CAAC,CAACf,IAAI,CAAC,SAAUD,IAAI,CAAE,CACvBmH,aAAa,CAAC0L,IAAI,CAAC,UAAU,GAAO,CAAC,CACrC1L,aAAa,CAACwD,QAAQ,CAAC,QAAQ,CAAC,CAChCnD,SAAS,CAAC3E,IAAI,CAAC,cAAc,CAAC,CAACqW,MAAM,EAAE,CACvC1R,SAAS,CAAC3E,IAAI,CAAC,kBAAkB,CAAC,CAACqW,MAAM,EAAE,CAC3C1R,SAAS,CAAC3E,IAAI,CAAC,2BAA2B,CAAC,CAACggB,MAAM,CAAC7iB,IAAI,CAAC,CACxD,IAAIwjB,UAAU,CAAGhc,SAAS,CAAC3E,IAAI,CAAC,kBAAkB,CAAC,CAACf,GAAG,EAAE,CACzD0F,SAAS,CAAC3E,IAAI,CAAC,kBAAkB,CAAC,CAACf,GAAG,CAACua,QAAQ,CAACmH,UAAU,CAAC,CAAGnH,QAAQ,CAACkH,OAAO,CAAC,CAAC,CAChF1iB,YAAY,CAAC8F,0BAA0B,CAACa,SAAS,EAClD,CAAC,EACF,CAAC,CAAC,CACF6D,oBAAoB,CAACzG,EAAE,CAAC,OAAO,CAAE,mBAAmB,CAAE,SAAU4B,CAAC,CAAE,CAAA,IAC9DW,aAAa,CAAGpD,CAAC,CAACyC,CAAC,CAACW,aAAa,CAAC,CAClCsc,kBAAkB,CAAGtc,aAAa,CAAClE,OAAO,CAAC,qBAAqB,CAAC,CACjEnD,GAAG,CAAG2jB,kBAAkB,CAACzjB,IAAI,CAAC,KAAK,CAAC,CACxCF,GAAG,CAAGA,GAAG,CAACkV,OAAO,CAAC,eAAe,CAAE,yBAAyB,CAAC,CAC7D,IAAI/N,wBAAwB,CAAG1I,MAAM,CAAC2I,iBAAiB,CAAC,CACvDsI,QAAQ,CAAE,MAAM,CAChBC,SAAS,CAAE,CACVC,OAAO,CAAA,CAAA,CACR,CACD,CAAC,CAAC,CACF5Q,GAAG,CAACoB,eAAe,CAAC,IAAI,CAAE,YAAY,CAAGJ,GAAG,CAAE,SAAU4jB,KAAK,CAAE,CAC9Dzc,wBAAwB,CAACC,iBAAiB,CAAC,CAAEzD,IAAI,CAAE,MAAO,CAAC,EAC5D,CAAC,EACF,CAAC,CAAC,CACF5C,YAAY,CAACsQ,2BAA2B,EAAE,CAC1CtQ,YAAY,CAACye,yBAAyB,CAACjU,oBAAoB,CAACxI,IAAI,CAAC,8CAA4C,CAAC,CAAC,CAC/GhC,YAAY,CAACye,yBAAyB,CACrCjU,oBAAoB,CAACxI,IAAI,CAAC,oDAAkD,CAC7E,CAAC,CACDwI,oBAAoB,CAClBxI,IAAI,CAAC,8BAA8B,CAAC,CACpC+Q,GAAG,EAAE,CACLhP,EAAE,CAAC,QAAQ,CAAE,SAAU4B,CAAC,CAAE,CAAA,IACpBW,aAAa,CAAG5I,MAAM,CAACiI,CAAC,CAACW,aAAa,CAAC,CAC5CwF,UAAU,CAAG9L,YAAY,CAAC8K,aAAa,CAAC9K,YAAY,CAACkF,+BAA+B,CAAC,CACrF4d,YAAY,CAAGxc,aAAa,CAACnH,IAAI,CAAC,WAAW,CAAC,CAC9C4jB,OAAO,CAAG7f,CAAC,CAAC,IAAI,CAAC,CAAC/D,IAAI,CAAC,QAAQ,CAAC,CAChC6jB,QAAQ,CAAG9f,CAAC,CAAC,IAAI,CAAC,CAAC/D,IAAI,CAAC,SAAS,CAAC,CAC/BF,GAAG,CAAG6M,UAAU,CAAC3M,IAAI,CAAC,KAAK,CAAC,CAChCF,GAAG,CAAGA,GAAG,CAACkV,OAAO,CAAC,GAAG,CAAG2O,YAAY,CAAG,GAAG,CAAGC,OAAO,CAAE,EAAE,CAAC,CAAC5O,OAAO,CAAC,GAAG,CAAG2O,YAAY,CAAG,GAAG,CAAGE,QAAQ,CAAE,EAAE,CAAC,CAC9D,WAAW,EAAnD,OAAO1c,aAAa,CAACnH,IAAI,CAAC,QAAQ,CAAiB,CAEH,WAAW,EAApD,OAAOmH,aAAa,CAACnH,IAAI,CAAC,SAAS,CAAiB,GAC9DF,GAAG,EAAI,GAAG,CAAG6jB,YAAY,CAAG,GAAG,CAAGE,QAAQ,EAF1C/jB,GAAG,EAAI,GAAG,CAAG6jB,YAAY,CAAG,GAAG,CAAGC,OAAO,CAI1CjX,UAAU,CAAC3M,IAAI,CAAC,KAAK,CAAEF,GAAG,CAAC,CAC3B6M,UAAU,CAAC5J,OAAO,CAAC,OAAO,EAC3B,CAAC,CAAC,CACHjE,GAAG,CAACglB,oBAAoB,CAACzY,oBAAoB,CAAC,CAC9CvM,GAAG,CAACilB,wBAAwB,CAAC1Y,oBAAoB,EAClD,CAAC,CACD1E,0BAA0B,CAAE,SAAAA,0BAAAA,CAAUa,SAAS,CAAE,CAAA,IAC5Cwc,YAAY,CAAGxc,SAAS,CAAC3E,IAAI,CAAC,kBAAkB,CAAC,CACjDohB,YAAY,CAAGzc,SAAS,CAAC3E,IAAI,CAAC,mBAAmB,CAAC,CAClDugB,SAAS,CAAG5b,SAAS,CAAC3E,IAAI,CAAC,oBAAoB,CAAC,CAQpD,GAPKugB,SAAS,CAACnmB,MAAM,EAGpBuK,SAAS,CAAC3E,IAAI,CAAC,YAAY,CAAC,CAAC6H,WAAW,CAAC,cAAc,CAAC,CACxD0Y,SAAS,CAACzY,QAAQ,CAAC,cAAc,CAAC,EAHlCyY,SAAS,CAAG5b,SAAS,CAAC3E,IAAI,CAAC,yBAAyB,CAAC,CAKtD2E,SAAS,CAAC3E,IAAI,CAAC,YAAY,CAAC,CAAC6c,WAAW,CAAC,cAAc,CAAC,CACpD,CAACsE,YAAY,CAAC/mB,MAAM,EAAI,CAACgnB,YAAY,CAAChnB,MAAM,EAA2B,EAAE,GAAzBgnB,YAAY,CAACniB,GAAG,EAAS,CAC5E,OAAA,CAAA,CAAA,CACA,IACGoiB,KAAK,CAAG,IAAI,CAAGF,YAAY,CAACliB,GAAG,EAAE,CAAG,GAAG,CAAGmiB,YAAY,CAACniB,GAAG,EAAE,CAAG,GAAG,CAClEqiB,eAAe,CAAGf,SAAS,CAACje,MAAM,EAAE,CACpCzC,IAAI,CAAG0gB,SAAS,CAACpjB,IAAI,CAAC,YAAY,CAAC,CAAGkkB,KAAK,CAC/CC,eAAe,CAACC,cAAc,EAAE,CAChCD,eAAe,CAACtB,MAAM,CAACngB,IAAI,EAC5B,CAAC,CACD2hB,uBAAuB,CAAE,SAAAA,uBAAU3W,CAAAA,SAAS,CAAE,CAAA,IACzC7M,YAAY,CAAG,IAAI,CACnByjB,gBAAgB,CAAGvgB,CAAC,CAAC,eAAe,CAAC,CACrC/C,MAAM,CAAG,CACZiB,MAAM,CAAEnD,GAAG,CAACC,aAAa,EAAE,CAC3BuG,IAAI,CAAE,QAAQ,CACdnD,MAAM,CAAEtB,YAAY,CAACvB,WAAW,EAAE,CAClCmE,IAAI,CAAE,oBAAoB,CAC1Bkf,SAAS,CAAEjV,SACZ,CAAC,CACGzG,wBAAwB,CAAG1I,MAAM,CAAC2I,iBAAiB,CAAC,CACvDsI,QAAQ,CAAE,MAAM,CAChBC,SAAS,CAAE,CACVC,OAAO,CAAA,CAAA,CAAM,CACb2L,cAAc,CAAEiJ,gBACjB,CACD,CAAC,CAAC,CACF3kB,YAAY,CAACC,OAAO,CAACoB,MAAM,CAAC,CAACf,IAAI,CAAC,SAAUD,IAAI,CAAE,CACjDiH,wBAAwB,CAACC,iBAAiB,CAAC,CAAEzD,IAAI,CAAE,MAAO,CAAC,CAAC,CAC5D6gB,gBAAgB,CAACphB,IAAI,CAAClD,IAAI,EAC3B,CAAC,EACF,CAAC,CACDqV,2BAA2B,CAAE,SAAAA,4BAAUlU,IAAI,CAAE,CACtC,IAAAN,YAAY,CAAG,IAAI,CACrB0jB,UAAU,CAAGxgB,CAAC,CAAC,yBAAyB,CAAC,CACzCwgB,UAAU,CAACtnB,MAAM,EACpB0C,YAAY,CAACC,OAAO,CAAC,CACpBI,IAAI,CAAE,CACLiC,MAAM,CAAEnD,GAAG,CAACC,aAAa,EAAE,CAC3BmD,MAAM,CAAE,KAAK,CACbuB,IAAI,CAAE,kBAAkB,CACxBtB,MAAM,CAAErD,GAAG,CAACQ,WAAW,EAAE,CACzBgG,IAAI,CAAExG,GAAG,CAACE,WAAW,EACtB,CAAC,CACDe,QAAQ,CAAE,MACX,CAAC,CAAC,CACAE,IAAI,CAAC,SAAUD,IAAI,CAAE,CACjB,CAAA,CAAA,GAAAA,IAAI,CAAAoO,MAAU,CAAChN,KAAe,CACjCmjB,UAAU,CAAC5Z,QAAQ,CAAC,QAAQ,CAAC,CAE7B4Z,UAAU,CAAC7Z,WAAW,CAAC,QAAQ,EAEjC,CAAC,CAAC,CACDtK,IAAI,CAAC,SAAUJ,IAAI,CAAEwe,GAAG,CAAE,CAC1B1f,GAAG,CAAC2f,QAAQ,CAACze,IAAI,CAAEwe,GAAG,EACvB,CAAC,EAEJ,CAAC,CACDgG,kBAAkB,CAAE,SAAAA,kBAAAA,CAAUC,aAAa,CAAEC,KAAK,CAAE,CACnDA,KAAK,CAAC3D,MAAM,CAAC0D,aAAa,EAC3B,CAAC,CACDE,eAAe,CAAE,SAAAA,eAAUC,CAAAA,SAAS,CAAE,CAC/B,IAAA/jB,YAAY,CAAG,IAAI,CACrBmB,QAAQ,CAAG4iB,SAAS,CAAC5kB,IAAI,CAAC,YAAY,CAAC,CAC1C6kB,iBAAiB,CAAG,CACnB5iB,MAAM,CAAE,UAAU,CAClBC,MAAM,CAAE,aAAa,CACrBC,MAAM,CAAEH,QACT,CAAC,CACFrC,YAAY,CAACC,OAAO,CAACilB,iBAAiB,CAAC,CAAC5kB,IAAI,CAAC,SAAUD,IAAI,CAAE,CAC5D,IAAIwL,YAAY,CAAGxL,IAAI,CAACoO,MAAM,CAC9BvN,YAAY,CAACikB,cAAc,CAACF,SAAS,CAAEpZ,YAAY,EACpD,CAAC,EACF,CAAC,CACDsZ,cAAc,CAAE,SAAAA,cAAAA,CAAUF,SAAS,CAAEpZ,YAAY,CAAE,CAClD,IAAIuZ,oBAAoB,CAAGhhB,CAAC,CAAC,8BAA8B,CAAE6gB,SAAS,CAAC,CACvE,IAAK,IAAIphB,EAAE,IAAIgI,YAAY,CAAE,CAC5B,IAAIwZ,WAAW,CAAGjhB,CAAC,CAAC,MAAM,CAAC,CAACrB,IAAI,CAAC8I,YAAY,CAAChI,EAAE,CAAC,CAAC,CAClDuhB,oBAAoB,CAAClC,MAAM,CAACmC,WAAW,EACxC,CACD,CAAC,CACDrD,mBAAmB,CAAE,SAAAA,mBAAUna,CAAAA,SAAS,CAAE,CACzC,IAAM3G,YAAY,CAAG,IAAI,CACzB2G,SAAS,CAAC3E,IAAI,CAAC,mCAAmC,CAAC,CAACkC,IAAI,CAAC,SAAUC,KAAK,CAAE,CACzEnE,YAAY,CAAC8jB,eAAe,CAAC5gB,CAAC,CAAC,IAAI,CAAC,CAAA,CAAA,CAAO,EAC5C,CAAC,EACF,CAAC,CACDuD,yBAAyB,CAAA,SAAAA,yBAAC2d,CAAAA,mBAAmB,CAAE,CAAA,IAAAC,MAAA,CACxCC,IAAAA,CAAAA,MAAM,CAAGF,mBAAmB,CAACpiB,IAAI,CAAC,4BAA4B,CAAC,CAC/DuiB,WAAW,CAAAxN,KAAAA,CAAAA,MAAA,CAAS9Y,GAAG,CAACC,aAAa,EAAE,mBAAiB,CAC9D,GAAIsmB,MAAM,CAAC1gB,OAAO,CAAC2gB,YAAY,CAACC,GAAG,CAACH,WAAW,CAAC,CAC/C,IAAI,CAACI,SAAS,CAAC,CAAEL,MAAM,CAANA,MAAM,CAAEC,WAAW,CAAXA,WAAY,CAAC,CAAC,MACjC,CACND,MAAM,CAACM,QAAQ,CAAC,MAAM,CAAC,CACvB,IAAIC,aAAa,CAAG,EAAE,CACtBP,MAAM,CAACpgB,IAAI,CAAC,SAAChI,CAAC,CAAEub,IAAI,CAAK,CACxBoN,aAAa,CAACpN,IAAI,CAACqN,OAAO,CAACC,SAAS,CAAC,CAAG,QACzC,CAAC,CAAC,CACFP,MAAM,CAAC1gB,OAAO,CAAC2gB,YAAY,CAACO,GAAG,CAACT,WAAW,CAAEM,aAAa,EAC3D,CACAP,MAAM,CAACvgB,EAAE,CAAC,sCAAsC,CAAE,SAAC4B,CAAC,CAAK,CACxD0e,MAAI,CAACY,mBAAmB,CAAC,CAAEtiB,EAAE,CAAEgD,CAAC,CAAC3J,MAAM,CAAC8oB,OAAO,CAACI,UAAU,CAAElmB,IAAI,CAAE2G,CAAC,CAAC3G,IAAI,CAAEulB,WAAW,CAAXA,WAAY,CAAC,EACxF,CAAC,CAAC,CACFD,MAAM,CAACvgB,EAAE,CAAC,mCAAmC,CAAE,SAAU4B,CAAC,CAAE,CAC3DzC,CAAC,CAACyC,CAAC,CAACW,aAAa,CAAC,CAAC4R,QAAQ,CAAC,0BAA0B,CAAC,CAAC2G,WAAW,CAAC,WAAW,EAChF,CAAC,EACF,CAAC,CACD8F,SAAS,CAAA,SAAAA,SAAAQ,CAAAA,IAAA,CAA0B,CAAvB,IAAAb,MAAM,CAAAa,IAAA,CAANb,MAAM,CAAEC,WAAW,CAAAY,IAAA,CAAXZ,WAAW,CACxBM,aAAa,CAAGL,MAAM,CAAC1gB,OAAO,CAAC2gB,YAAY,CAACW,OAAO,CAACb,WAAW,CAAC,CACtED,MAAM,CAACpgB,IAAI,CAAC,SAAChI,CAAC,CAAEub,IAAI,CAAK,CAEoB,CAAA,OAAO,GAAlDoN,aAAa,CAACpN,IAAI,CAACqN,OAAO,CAACI,UAAU,CAAa,EAClD,KAAcL,CAAAA,GAAAA,aAAa,CAACpN,IAAI,CAACqN,OAAO,CAACI,UAAU,CAAC,IAEpDhiB,CAAC,CAACuU,IAAI,CAAC,CAACmN,QAAQ,CAAC,MAAM,CAAC,CACxB1hB,CAAC,CAACuU,IAAI,CAAC,CAACS,QAAQ,CAAC,0BAA0B,CAAC,CAAC2G,WAAW,CAAC,WAAW,CAAC,EAEvE,CAAC,EACF,CAAC,CACDoG,mBAAmB,UAAAA,mBAAAI,CAAAA,KAAA,CAA4B,CAAA,IAAzB1iB,EAAE,CAAA0iB,KAAA,CAAF1iB,EAAE,CAAE3D,IAAI,CAAAqmB,KAAA,CAAJrmB,IAAI,CAAEulB,WAAW,CAAAc,KAAA,CAAXd,WAAW,CACpCM,aAAa,CAAGL,MAAM,CAAC1gB,OAAO,CAAC2gB,YAAY,CAACW,OAAO,CAACb,WAAW,CAAC,CACtEM,aAAa,CAACliB,EAAE,CAAC,CAAG3D,IAAI,CACxBwlB,MAAM,CAAC1gB,OAAO,CAAC2gB,YAAY,CAACO,GAAG,CAACT,WAAW,CAAEM,aAAa,EAC3D,CAAC,CACDS,4BAA4B,CAAE,SAAAA,4BAAAA,CAAU3e,SAAS,CAAE,CAClDA,SAAS,CAAC3E,IAAI,CAAC,eAAe,CAAC,CAAC+B,EAAE,CAAC,OAAO,CAAE,SAAU4B,CAAC,CAAE,CACpD,IAAA4f,mBAAmB,CAAGriB,CAAC,CAACyC,CAAC,CAACW,aAAa,CAAC,CAAClE,OAAO,CAAC,mBAAmB,CAAC,CAACJ,IAAI,CAAC,yBAAyB,CAAC,CAACf,GAAG,EAAE,CAC3GhC,GAAG,CAAGiE,CAAC,CAAC,IAAI,CAAC,CAAC1C,IAAI,CAAC,UAAU,CAAC,CAC9BvB,GAAG,EAAIsmB,mBAAmB,EAA0B,CAAC,CAAvBA,mBAAuB,EACxDnnB,MAAM,CAAConB,IAAI,CAACvmB,GAAG,CAAGsmB,mBAAmB,CAAE,QAAQ,EAEjD,CAAC,EACF,CAAC;AAEH;AACA;AACA,KACEE,8BAA8B,CAAE,SAAAA,8BAAAA,CAAU9e,SAAS,CAAE,CACpDwZ,QAAQ,CAACuF,gBAAgB,CAAC,SAAS,CAAE,SAAChgB,KAAK,CAAK,CAC3CA,KAAK,CAACigB,QAAQ,EAAIjgB,KAAK,CAACkgB,OAAO,EAAmB,MAAM,GAArBlgB,KAAK,CAACmgB,IAAe,EAC3Dlf,SAAS,CAAC3E,IAAI,CAAC,mBAAmB,CAAC,CAACE,OAAO,CAAC,OAAO,CAAC,CAEjDwD,KAAK,CAACigB,QAAQ,EAAIjgB,KAAK,CAACkgB,OAAO,EAAmB,MAAM,GAArBlgB,KAAK,CAACmgB,IAAe,EAAIlf,SAAS,CAAC3E,IAAI,CAAC,cAAc,CAAC,CAAC5F,MAAM,EACpGuK,SAAS,CAAC3E,IAAI,CAAC,cAAc,CAAC,CAACE,OAAO,CAAC,OAAO,CAAC,CAE5CwD,KAAK,CAACigB,QAAQ,EAAIjgB,KAAK,CAACkgB,OAAO,EAAmB,MAAM,GAArBlgB,KAAK,CAACmgB,IAAe,EAAIlf,SAAS,CAAC3E,IAAI,CAAC,cAAc,CAAC,CAAC5F,MAAM,EACpGqD,GAAG,CAACC,UAAU,CAAComB,SAAS,CAACzP,SAAS,CAAC,CAClCjV,MAAM,CAAEnD,GAAG,CAACC,aAAa,EAAE,CAC3BoD,MAAM,CAAErD,GAAG,CAACQ,WAAW,EAAE,CACzBsnB,aAAa,CAAE,MAChB,CAAC,EAEH,CAAC,EACF,CAAC,CACDC,cAAc,CAAE,SAAAA,cAAAA,EAAY,CAC3B,IAAI,CAAC1X,0BAA0B,EAAE,CACjC,IAAI,CAACmB,qBAAqB,EAAE,CAC5B,IAAI,CAACM,4BAA4B,EAAE,CACnC,IAAI,CAACvJ,8BAA8B,EAAE,CACrC,IAAI,CAAC6T,+BAA+B,EAAE,CACtCjD,gBAAgB,CAACsD,0BAA0B,EAAE,CAC7C,IAAI,CAAC7K,0BAA0B,EAAE,CACjC,IAAIuU,mBAAmB,CAAG1mB,MAAM,CAAC,yBAAyB,CAAC,CACzB,CAAC,EAA/B0mB,mBAAmB,CAAChoB,MAAW,GAInC,IAAI,CAAC4M,gCAAgC,EAAE,CACvC,IAAI,CAAC0S,qBAAqB,CAAC0I,mBAAmB,CAAC,CAC/C,IAAI,CAACxd,OAAO,EAAE,CAAClG,gBAAgB,CAACzC,GAAG,CAACgJ,gCAAgC,CAAC,CACrE,IAAI,CAACxB,iBAAiB,EAAE,CACxB,IAAI,CAACjB,WAAW,EAAE,CAClB,IAAI,CAACmW,mBAAmB,EAAE,CAC1B,IAAI,CAACK,iCAAiC,EAAE,CACxC,IAAI,CAAC6E,gBAAgB,EAAE,CACvB,IAAI,CAACa,YAAY,CAAC0D,mBAAmB,CAAC,CACtC,IAAI,CAACkB,4BAA4B,CAAClB,mBAAmB,CAAC,CACtD,IAAI,CAACqB,8BAA8B,CAACrB,mBAAmB,CAAC,CACxD3kB,GAAG,CAACC,UAAU,CAACumB,gBAAgB,CAAChe,QAAQ,CAACmc,mBAAmB,CAAC,EAC9D,CACD,CACD,CAAC;;"}