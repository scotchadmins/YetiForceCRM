{"version":3,"file":"Edit.min.js","sources":["Edit.js"],"sourcesContent":["/*+***********************************************************************************\n * The contents of this file are subject to the vtiger CRM Public License Version 1.0\n * (\"License\"); You may not use this file except in compliance with the License\n * The Original Code is:  vtiger CRM Open Source\n * The Initial Developer of the Original Code is vtiger.\n * Portions created by vtiger are Copyright (C) vtiger.\n * All Rights Reserved.\n * Contributor(s): YetiForce S.A.\n *************************************************************************************/\n'use strict';\n\n$.Class(\n\t'Vtiger_Edit_Js',\n\t{\n\t\t//Event that will triggered when reference field is selected\n\t\treferenceSelectionEvent: 'Vtiger.Reference.Selection',\n\t\t//Event that will triggered when reference field is selected\n\t\treferenceDeSelectionEvent: 'Vtiger.Reference.DeSelection',\n\t\t//Event that will triggered before saving the record\n\t\trecordPreSave: 'Vtiger.Record.PreSave',\n\t\teditInstance: false,\n\t\tinventoryController: false,\n\t\t/**\n\t\t * Function to get Instance by name\n\t\t * @params moduleName:-- Name of the module to create instance\n\t\t */\n\t\tgetInstanceByModuleName: function (moduleName) {\n\t\t\tif (typeof moduleName === 'undefined') {\n\t\t\t\tmoduleName = app.getModuleName();\n\t\t\t}\n\t\t\tlet parentModule = app.getParentModuleName(),\n\t\t\t\tmoduleClassName,\n\t\t\t\tfallbackClassName,\n\t\t\t\tinstance;\n\t\t\tif (parentModule === 'Settings') {\n\t\t\t\tmoduleClassName = parentModule + '_' + moduleName + '_Edit_Js';\n\t\t\t\tif (typeof window[moduleClassName] === 'undefined') {\n\t\t\t\t\tmoduleClassName = moduleName + '_Edit_Js';\n\t\t\t\t}\n\t\t\t\tfallbackClassName = parentModule + '_Vtiger_Edit_Js';\n\t\t\t\tif (typeof window[fallbackClassName] === 'undefined') {\n\t\t\t\t\tfallbackClassName = 'Vtiger_Edit_Js';\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tmoduleClassName = moduleName + '_Edit_Js';\n\t\t\t\tfallbackClassName = 'Vtiger_Edit_Js';\n\t\t\t}\n\t\t\tif (typeof window[moduleClassName] !== 'undefined') {\n\t\t\t\tinstance = new window[moduleClassName]();\n\t\t\t} else {\n\t\t\t\tinstance = new window[fallbackClassName]();\n\t\t\t}\n\t\t\tinstance.moduleName = moduleName;\n\t\t\treturn instance;\n\t\t},\n\t\tgetInstance: function () {\n\t\t\tif (Vtiger_Edit_Js.editInstance == false) {\n\t\t\t\tlet instance = Vtiger_Edit_Js.getInstanceByModuleName();\n\t\t\t\tVtiger_Edit_Js.editInstance = instance;\n\t\t\t\treturn instance;\n\t\t\t}\n\t\t\treturn Vtiger_Edit_Js.editInstance;\n\t\t},\n\t\t/**\n\t\t * Record save ajax\n\t\t *\n\t\t * `Vtiger_Edit_Js.saveAjax({\n\t\t *\t\tvalue: 'value',\n\t\t *\t\tfield: 'field'\n\t\t *\t}).done(() => {})\n\t\t *\t.fail((error, err) => {});`\n\t\t *\n\t\t * @param {object} params\n\t\t * @returns {Promise}\n\t\t */\n\t\tsaveAjax: function (params, progressIndicator = false) {\n\t\t\tconst aDeferred = $.Deferred();\n\t\t\tif (typeof params === 'undefined' || $.isEmptyObject(params)) {\n\t\t\t\taDeferred.reject();\n\t\t\t\treturn aDeferred.promise();\n\t\t\t}\n\t\t\tif (!params['record'] && app.getRecordId()) {\n\t\t\t\tparams['record'] = app.getRecordId();\n\t\t\t}\n\t\t\tif (!params['module']) {\n\t\t\t\tparams['module'] = app.getModuleName();\n\t\t\t}\n\t\t\tparams['action'] = 'SaveAjax';\n\t\t\tparams = {\n\t\t\t\tdata: params,\n\t\t\t\tasync: false,\n\t\t\t\tdataType: 'json'\n\t\t\t};\n\t\t\tif (progressIndicator) {\n\t\t\t\tdocument.progressLoader = $.progressIndicator({\n\t\t\t\t\tmessage: app.vtranslate('JS_SAVE_LOADER_INFO'),\n\t\t\t\t\tposition: 'html',\n\t\t\t\t\tblockInfo: {\n\t\t\t\t\t\tenabled: true\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t\tapp.handlerEvent(params, 'preSaveValidation', !this.getInstance().checkPreSaveValidation()).done((response) => {\n\t\t\t\tif (response === true) {\n\t\t\t\t\tAppConnector.request(params)\n\t\t\t\t\t\t.done(function (responseData) {\n\t\t\t\t\t\t\taDeferred.resolve(responseData);\n\t\t\t\t\t\t\tif (progressIndicator) {\n\t\t\t\t\t\t\t\tdocument.progressLoader.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.fail((jqXHR, textStatus, errorThrown) => {\n\t\t\t\t\t\t\taDeferred.reject(jqXHR, textStatus, errorThrown);\n\t\t\t\t\t\t\tif (progressIndicator) {\n\t\t\t\t\t\t\t\tdocument.progressLoader.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tapp.showNotify({\n\t\t\t\t\t\t\t\ttext: app.vtranslate('JS_ERROR'),\n\t\t\t\t\t\t\t\ttype: 'error'\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\taDeferred.resolve({ success: false });\n\t\t\t\t\tif (progressIndicator) {\n\t\t\t\t\t\tdocument.progressLoader.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\n\t\t\treturn aDeferred.promise();\n\t\t}\n\t},\n\t{\n\t\tformElement: false,\n\t\trelationOperation: '',\n\t\tmoduleName: app.getModuleName(),\n\t\tgetForm: function () {\n\t\t\tif (this.formElement == false) {\n\t\t\t\tthis.formElement = $('#EditView').length ? $('#EditView') : $('form.js-form');\n\t\t\t}\n\t\t\treturn this.formElement;\n\t\t},\n\t\tsetForm: function (element) {\n\t\t\tthis.formElement = element;\n\t\t\tlet module;\n\t\t\tif ((module = $('input[name=\"module\"]', element))) {\n\t\t\t\tthis.moduleName = module.val();\n\t\t\t}\n\t\t\treturn this;\n\t\t},\n\t\tgetRecordsListParams: function (container) {\n\t\t\tlet formElement = container.closest('form');\n\t\t\tlet sourceModule = $('input[name=\"module\"]', formElement).val();\n\t\t\tlet popupReferenceModule = $('input[name=\"popupReferenceModule\"]', container).val();\n\t\t\tlet sourceFieldElement = $('input[class=\"sourceField\"]', container);\n\t\t\tlet sourceField = sourceFieldElement.attr('name');\n\t\t\tlet sourceRecordElement = $('input[name=\"record\"]', formElement);\n\t\t\tlet sourceRecordId = '';\n\t\t\tif (sourceRecordElement.length > 0) {\n\t\t\t\tsourceRecordId = sourceRecordElement.val();\n\t\t\t}\n\t\t\tlet isMultiple = false;\n\t\t\tif (sourceFieldElement.data('multiple') == true) {\n\t\t\t\tisMultiple = true;\n\t\t\t}\n\t\t\tlet filterFields = {};\n\t\t\tlet mappingRelatedField = formElement.find('input[name=\"mappingRelatedField\"]').val();\n\t\t\tlet mappingRelatedModule = mappingRelatedField ? JSON.parse(mappingRelatedField) : [];\n\t\t\tif (\n\t\t\t\tmappingRelatedModule[sourceField] != undefined &&\n\t\t\t\tmappingRelatedModule[sourceField][popupReferenceModule] != undefined\n\t\t\t) {\n\t\t\t\t$.each(mappingRelatedModule[sourceField][popupReferenceModule], function (index, value) {\n\t\t\t\t\tlet mapFieldElement = formElement.find('[name=\"' + index + '\"]');\n\t\t\t\t\tif (mapFieldElement.length && mapFieldElement.val() != '') {\n\t\t\t\t\t\tfilterFields[index] = mapFieldElement.val();\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t\tlet listFilterFieldsJson = formElement.find('input[name=\"listFilterFields\"]').val();\n\t\t\tlet listFilterFields = listFilterFieldsJson ? JSON.parse(listFilterFieldsJson) : [];\n\t\t\tif (\n\t\t\t\tlistFilterFields[sourceField] != undefined &&\n\t\t\t\tlistFilterFields[sourceField][popupReferenceModule] != undefined\n\t\t\t) {\n\t\t\t\t$.each(listFilterFields[sourceField][popupReferenceModule], function (index, value) {\n\t\t\t\t\tlet mapFieldElement = formElement.find('[name=\"' + index + '\"]');\n\t\t\t\t\tif (mapFieldElement.length && mapFieldElement.val() != '') {\n\t\t\t\t\t\tfilterFields[index] = mapFieldElement.val();\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t\tlet params = {\n\t\t\t\tmodule: popupReferenceModule,\n\t\t\t\tsrc_module: sourceModule,\n\t\t\t\tsrc_field: sourceField,\n\t\t\t\tsrc_record: sourceRecordId,\n\t\t\t\tfilterFields: filterFields\n\t\t\t};\n\t\t\tlet searchParamsElement = $('input[name=\"searchParams\"]', container);\n\t\t\tlet searchParams = searchParamsElement.length > 0 ? JSON.parse(searchParamsElement.val()) : null;\n\t\t\tif (searchParams && searchParams[popupReferenceModule]) {\n\t\t\t\tparams['search_params'] = searchParams[popupReferenceModule];\n\t\t\t}\n\t\t\tlet modalParamsElement = $('input[name=\"modalParams\"]', container);\n\t\t\tif (modalParamsElement.length > 0) {\n\t\t\t\tparams['modal_params'] = modalParamsElement.val();\n\t\t\t}\n\t\t\tlet lockedFieldsElement = $('input[name=\"lockedFields\"]', container);\n\t\t\tif (lockedFieldsElement.length > 0) {\n\t\t\t\tparams['lockedFields'] = lockedFieldsElement.val();\n\t\t\t}\n\t\t\t$.each(['link', 'process'], function (index, value) {\n\t\t\t\tlet fieldElement = formElement.find('[name=\"' + value + '\"]');\n\t\t\t\tif (fieldElement.length && fieldElement.val() != '' && fieldElement.val() != 0) {\n\t\t\t\t\tparams[value] = fieldElement.val();\n\t\t\t\t}\n\t\t\t});\n\t\t\tif (isMultiple) {\n\t\t\t\tparams.multi_select = true;\n\t\t\t}\n\t\t\treturn params;\n\t\t},\n\t\t/**\n\t\t * Show records list modal\n\t\t * @param {jQuery.Event} e\n\t\t */\n\t\tshowRecordsList: function (e) {\n\t\t\tlet parentElem = $(e.target).closest('.fieldValue');\n\t\t\tif (parentElem.length <= 0) {\n\t\t\t\tparentElem = $(e.target).closest('td');\n\t\t\t}\n\t\t\tlet params = this.getRecordsListParams(parentElem);\n\t\t\tapp.showRecordsList(params, (_modal, instance) => {\n\t\t\t\tinstance.setSelectEvent((data) => {\n\t\t\t\t\tthis.setReferenceFieldValue(parentElem, data);\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\t\tsetReferenceFieldValue: function (container, params) {\n\t\t\tconst thisInstance = this;\n\t\t\tlet sourceFieldElement = container.find('input.sourceField');\n\t\t\tlet sourceField = sourceFieldElement.attr('name');\n\t\t\tlet fieldElement = container.find('input[name=\"' + sourceField + '\"]');\n\t\t\tlet sourceFieldDisplay = sourceField + '_display';\n\t\t\tlet fieldDisplayElement = container.find('input[name=\"' + sourceFieldDisplay + '\"]');\n\t\t\tlet popupReferenceModule = container.find('input[name=\"popupReferenceModule\"]').val();\n\t\t\tlet selectedName = params.name;\n\t\t\tlet id = params.id;\n\n\t\t\tcontainer.find('.clearReferenceSelection').trigger('click');\n\n\t\t\tfieldElement.val(id);\n\t\t\tfieldDisplayElement.val(app.decodeHTML(selectedName)).attr('readonly', true);\n\t\t\tfieldElement.trigger(Vtiger_Edit_Js.referenceSelectionEvent, {\n\t\t\t\tmodule: popupReferenceModule,\n\t\t\t\trecord: id,\n\t\t\t\tselectedName: selectedName\n\t\t\t});\n\t\t\tfieldDisplayElement.validationEngine('closePrompt', fieldDisplayElement);\n\t\t\tif (sourceFieldElement.data('type') == 'inventory') {\n\t\t\t\treturn params;\n\t\t\t}\n\t\t\tlet formElement = container.closest('form');\n\t\t\tlet mappingRelatedField = this.getMappingRelatedField(sourceField, popupReferenceModule, formElement);\n\t\t\tif (typeof mappingRelatedField !== 'undefined') {\n\t\t\t\tlet params = {\n\t\t\t\t\tmodule: popupReferenceModule,\n\t\t\t\t\trecord: id\n\t\t\t\t};\n\t\t\t\tapp.getRecordDetails(params).done(function (data) {\n\t\t\t\t\tlet response = (params.data = data['result']['data']);\n\t\t\t\t\tapp.event.trigger('EditView.SelectReference', params, formElement, data);\n\t\t\t\t\t$.each(mappingRelatedField, function (key, value) {\n\t\t\t\t\t\tif (response[value[0]] != 0) {\n\t\t\t\t\t\t\tlet mapFieldElement = formElement.find('[name=\"' + key + '\"]');\n\t\t\t\t\t\t\tlet fieldinfo = mapFieldElement.data('fieldinfo');\n\t\t\t\t\t\t\tif (data['result']['type'][value[0]] === 'date' || data['result']['type'][value[0]] === 'datetime') {\n\t\t\t\t\t\t\t\tmapFieldElement.val(data['result']['displayData'][value[0]]);\n\t\t\t\t\t\t\t} else if (data['result']['type'][value[0]] === 'multipicklist') {\n\t\t\t\t\t\t\t\tlet mapFieldElementMultiselect = formElement.find('[name=\"' + key + '[]\"]');\n\t\t\t\t\t\t\t\tif (mapFieldElementMultiselect.length > 0) {\n\t\t\t\t\t\t\t\t\tlet multipleAttr = mapFieldElementMultiselect.attr('multiple');\n\t\t\t\t\t\t\t\t\tlet splitValues = response[value[0]].split(' |##| ');\n\t\t\t\t\t\t\t\t\tif (typeof multipleAttr !== 'undefined' && multipleAttr !== false && splitValues.length > 0) {\n\t\t\t\t\t\t\t\t\t\tmapFieldElementMultiselect.val(splitValues).trigger('change');\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} else if (mapFieldElement.is('select')) {\n\t\t\t\t\t\t\t\tif (mapFieldElement.find('option[value=\"' + response[value[0]] + '\"]').length) {\n\t\t\t\t\t\t\t\t\tmapFieldElement.val(response[value[0]]).trigger('change');\n\t\t\t\t\t\t\t\t} else if (mapFieldElement.data('fieldinfo').picklistvalues.hasOwnProperty(response[value[0]])) {\n\t\t\t\t\t\t\t\t\tlet newOption = new Option(response[value[0]], response[value[0]], true, true);\n\t\t\t\t\t\t\t\t\tmapFieldElement.append(newOption).trigger('change');\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} else if (mapFieldElement.length == 0) {\n\t\t\t\t\t\t\t\t$(\"<input type='hidden'/>\").attr('name', key).attr('value', response[value[0]]).appendTo(formElement);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tmapFieldElement.val(response[value[0]]);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tlet mapFieldDisplayElement = formElement.find('input[name=\"' + key + '_display\"]');\n\t\t\t\t\t\t\tif (mapFieldDisplayElement.length > 0) {\n\t\t\t\t\t\t\t\tmapFieldDisplayElement.val(data['result']['displayData'][value[0]]).attr('readonly', true);\n\t\t\t\t\t\t\t\tif (fieldinfo.type === 'reference') {\n\t\t\t\t\t\t\t\t\tlet referenceModulesList = mapFieldElement.closest('.fieldValue').find('.referenceModulesList');\n\t\t\t\t\t\t\t\t\tif (referenceModulesList.length > 0 && value[1]) {\n\t\t\t\t\t\t\t\t\t\treferenceModulesList.val(value[1]).trigger('change');\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tthisInstance.setReferenceFieldValue(mapFieldDisplayElement.closest('.fieldValue'), {\n\t\t\t\t\t\t\t\t\t\tname: data['result']['displayData'][value[0]],\n\t\t\t\t\t\t\t\t\t\tid: response[value[0]]\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\t\tgetRelationOperation: function () {\n\t\t\tif (this.relationOperation === '') {\n\t\t\t\tlet relationOperation = $('[name=\"relationOperation\"]');\n\t\t\t\tif (relationOperation.length) {\n\t\t\t\t\tthis.relationOperation = relationOperation.val();\n\t\t\t\t} else {\n\t\t\t\t\tthis.relationOperation = false;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn this.relationOperation;\n\t\t},\n\t\tproceedRegisterEvents: function () {\n\t\t\treturn $('.recordEditView').length > 0;\n\t\t},\n\t\treferenceModulePopupRegisterEvent: function (container) {\n\t\t\tcontainer.on('click', '.relatedPopup', (e) => {\n\t\t\t\tthis.showRecordsList(e);\n\t\t\t});\n\t\t\tlet moduleList = container.find('.referenceModulesList');\n\t\t\tApp.Fields.Picklist.showSelect2ElementView(container.find('.referenceModulesList:visible'));\n\t\t\tmoduleList.on('change', (e) => {\n\t\t\t\tlet element = $(e.currentTarget);\n\t\t\t\tlet parentElem = element.closest('.fieldValue');\n\t\t\t\tlet popupReferenceModule = element.val();\n\t\t\t\tlet referenceModuleElement = $('input[name=\"popupReferenceModule\"]', parentElem);\n\t\t\t\tlet prevSelectedReferenceModule = referenceModuleElement.val();\n\t\t\t\treferenceModuleElement.val(popupReferenceModule);\n\t\t\t\t//If Reference module is changed then we should clear the previous value\n\t\t\t\tif (prevSelectedReferenceModule != popupReferenceModule) {\n\t\t\t\t\tparentElem.find('.clearReferenceSelection').trigger('click');\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\tgetReferencedModuleName: function (parenElement) {\n\t\t\treturn $('input[name=\"popupReferenceModule\"]', parenElement).val();\n\t\t},\n\t\tsearchModuleNames: function (params) {\n\t\t\tlet aDeferred = $.Deferred();\n\t\t\tif (typeof params.module === 'undefined') {\n\t\t\t\tparams.module = this.moduleName;\n\t\t\t}\n\t\t\tif (typeof params.action === 'undefined') {\n\t\t\t\tparams.action = 'BasicAjax';\n\t\t\t}\n\t\t\tAppConnector.request(params)\n\t\t\t\t.done(function (data) {\n\t\t\t\t\taDeferred.resolve(data);\n\t\t\t\t})\n\t\t\t\t.fail(function (error) {\n\t\t\t\t\taDeferred.reject();\n\t\t\t\t});\n\t\t\treturn aDeferred.promise();\n\t\t},\n\t\t/**\n\t\t * Function to get reference search params\n\t\t */\n\t\tgetReferenceSearchParams: function (element) {\n\t\t\tlet tdElement = $(element).closest('.fieldValue');\n\t\t\tlet params = {};\n\t\t\tlet searchModule = this.getReferencedModuleName(tdElement);\n\t\t\tparams.search_module = searchModule;\n\t\t\treturn params;\n\t\t},\n\t\t/**\n\t\t * Function which will handle the reference auto complete event registrations\n\t\t * @params - container <jQuery> - element in which auto complete fields needs to be searched\n\t\t */\n\t\tregisterAutoCompleteFields: function (container) {\n\t\t\tlet thisInstance = this;\n\t\t\tlet formElement = container.closest('form');\n\t\t\tcontainer.find('input.autoComplete').autocomplete({\n\t\t\t\tdelay: '600',\n\t\t\t\tminLength: '3',\n\t\t\t\tsource: function (request, response) {\n\t\t\t\t\t//element will be array of dom elements\n\t\t\t\t\t//here this refers to auto complete instance\n\t\t\t\t\tlet inputElement = $(this.element[0]);\n\t\t\t\t\tlet searchValue = request.term;\n\t\t\t\t\tlet params = thisInstance.getReferenceSearchParams(inputElement);\n\t\t\t\t\tparams.search_value = searchValue;\n\t\t\t\t\tlet sourceRecordElement = $('input[name=\"record\"]', formElement);\n\t\t\t\t\tif (sourceRecordElement.length > 0 && sourceRecordElement.val()) {\n\t\t\t\t\t\tparams.src_record = sourceRecordElement.val();\n\t\t\t\t\t}\n\t\t\t\t\tthisInstance.searchModuleNames(params).done(function (data) {\n\t\t\t\t\t\tlet reponseDataList = [];\n\t\t\t\t\t\tlet serverDataFormat = data.result;\n\t\t\t\t\t\tif (serverDataFormat.length <= 0) {\n\t\t\t\t\t\t\t$(inputElement).val('');\n\t\t\t\t\t\t\tserverDataFormat = new Array({\n\t\t\t\t\t\t\t\tlabel: app.vtranslate('JS_NO_RESULTS_FOUND'),\n\t\t\t\t\t\t\t\ttype: 'no results'\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t\tfor (let id in serverDataFormat) {\n\t\t\t\t\t\t\tlet responseData = serverDataFormat[id];\n\t\t\t\t\t\t\treponseDataList.push(responseData);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tresponse(reponseDataList);\n\t\t\t\t\t\tapp.event.trigger('EditView.AfterSearch', {\n\t\t\t\t\t\t\tfield: inputElement,\n\t\t\t\t\t\t\tparams: params\n\t\t\t\t\t\t});\n\t\t\t\t\t});\n\t\t\t\t},\n\t\t\t\tselect: function (event, ui) {\n\t\t\t\t\tlet selectedItemData = ui.item;\n\t\t\t\t\t//To stop selection if no results is selected\n\t\t\t\t\tif (typeof selectedItemData.type !== 'undefined' && selectedItemData.type == 'no results') {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t\tselectedItemData.name = selectedItemData.value;\n\t\t\t\t\tlet element = $(this);\n\t\t\t\t\tlet tdElement = element.closest('.fieldValue');\n\t\t\t\t\tthisInstance.setReferenceFieldValue(tdElement, selectedItemData);\n\t\t\t\t},\n\t\t\t\tchange: function (event, ui) {\n\t\t\t\t\tlet element = $(this);\n\t\t\t\t\t//if you dont have readonly attribute means the user didnt select the item\n\t\t\t\t\tif (element.attr('readonly') == undefined) {\n\t\t\t\t\t\telement.closest('.fieldValue').find('.clearReferenceSelection').trigger('click');\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\topen: function (event, ui) {\n\t\t\t\t\t//To Make the menu come up in the case of quick create\n\t\t\t\t\t$(this).data('ui-autocomplete').menu.element.css('z-index', '100001');\n\t\t\t\t},\n\t\t\t\tposition: { collision: 'flipfit' }\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Function which will register reference field clear event\n\t\t * @params - container <jQuery> - element in which auto complete fields needs to be searched\n\t\t */\n\t\tregisterClearReferenceSelectionEvent: function (container) {\n\t\t\tlet thisInstance = this;\n\t\t\tcontainer.on('click', '.clearReferenceSelection', function (e) {\n\t\t\t\tlet element = $(e.currentTarget);\n\t\t\t\tthisInstance.clearFieldValue(element);\n\t\t\t\telement.closest('.fieldValue').find('.sourceField').trigger(Vtiger_Edit_Js.referenceDeSelectionEvent);\n\t\t\t\te.preventDefault();\n\t\t\t});\n\t\t},\n\t\tclearFieldValue: function (element) {\n\t\t\tconst self = this;\n\t\t\tlet fieldValueContener = element.closest('.fieldValue');\n\t\t\tlet fieldNameElement = fieldValueContener.find('.sourceField');\n\t\t\tlet fieldName = fieldNameElement.attr('name');\n\t\t\tlet referenceModule = fieldValueContener.find('input[name=\"popupReferenceModule\"]').val();\n\t\t\tlet formElement = fieldValueContener.closest('form');\n\t\t\tif (fieldNameElement.data('fieldtype') == 'reference') {\n\t\t\t\tfieldNameElement.val(0);\n\t\t\t} else {\n\t\t\t\tfieldNameElement.val('');\n\t\t\t}\n\t\t\tfieldValueContener\n\t\t\t\t.find('#' + fieldName + '_display')\n\t\t\t\t.removeAttr('readonly')\n\t\t\t\t.val('');\n\t\t\tapp.event.trigger('EditView.ClearField', {\n\t\t\t\tfieldName: fieldName,\n\t\t\t\treferenceModule: referenceModule\n\t\t\t});\n\t\t\tlet mappingRelatedField = this.getMappingRelatedField(fieldName, referenceModule, formElement);\n\t\t\t$.each(mappingRelatedField, function (key, value) {\n\t\t\t\tlet mapFieldElement = formElement.find('[name=\"' + key + '\"]');\n\t\t\t\tif (mapFieldElement.is('select')) {\n\t\t\t\t\tmapFieldElement.val(mapFieldElement.find('option:first').val()).trigger('change');\n\t\t\t\t} else {\n\t\t\t\t\tmapFieldElement.val('');\n\t\t\t\t}\n\t\t\t\tlet mapFieldDisplayElement = formElement.find('input[name=\"' + key + '_display\"]');\n\t\t\t\tif (mapFieldDisplayElement.length > 0) {\n\t\t\t\t\tmapFieldDisplayElement.val('').attr('readonly', false);\n\t\t\t\t\tlet referenceModulesList = formElement.find(\n\t\t\t\t\t\t'#' + self.moduleName + '_editView_fieldName_' + key + '_dropDown'\n\t\t\t\t\t);\n\t\t\t\t\tif (referenceModulesList.length > 0 && value[1]) {\n\t\t\t\t\t\treferenceModulesList.val(referenceModulesList.find('option:first').val()).trigger('change');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Function which will register event to prevent form submission on pressing on enter\n\t\t * @params - container <jQuery> - element in which auto complete fields needs to be searched\n\t\t */\n\t\tregisterPreventingEnterSubmitEvent: function (container) {\n\t\t\tcontainer.on('keypress', function (e) {\n\t\t\t\t//Stop the submit when enter is pressed in the form\n\t\t\t\tlet currentElement = $(e.target);\n\t\t\t\tif (e.which == 13 && !currentElement.is('textarea')) {\n\t\t\t\t\te.preventDefault();\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\tregisterTimeFields: function (container) {\n\t\t\tapp.registerEventForClockPicker();\n\t\t\tApp.Fields.Date.register(container);\n\t\t\tApp.Fields.DateTime.register(container);\n\t\t},\n\t\treferenceCreateHandler: function (container) {\n\t\t\tlet formData = this.getForm().serializeFormData();\n\t\t\tfor (let i in formData) {\n\t\t\t\tif (!formData[i] || $.inArray(i, ['_csrf', 'action']) != -1) {\n\t\t\t\t\tdelete formData[i];\n\t\t\t\t}\n\t\t\t}\n\t\t\tApp.Components.QuickCreate.createRecord(this.getReferencedModuleName(container), {\n\t\t\t\tdata: {\n\t\t\t\t\tsourceModule: formData['module'],\n\t\t\t\t\tsourceRecordData: formData\n\t\t\t\t},\n\t\t\t\tcallbackFunction: (data) => {\n\t\t\t\t\tthis.setReferenceFieldValue(container, {\n\t\t\t\t\t\tname: data.result._recordLabel,\n\t\t\t\t\t\tid: data.result._recordId\n\t\t\t\t\t});\n\t\t\t\t},\n\t\t\t\tnoCache: true\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Function which will register event for create of reference record\n\t\t * This will allow users to create reference record from edit view of other record\n\t\t */\n\t\tregisterReferenceCreate: function (container) {\n\t\t\tlet thisInstance = this;\n\t\t\tcontainer.on('click', '.createReferenceRecord', function (e) {\n\t\t\t\tlet element = $(e.currentTarget);\n\t\t\t\tlet controlElementDiv = element.closest('.fieldValue');\n\t\t\t\tthisInstance.referenceCreateHandler(controlElementDiv);\n\t\t\t});\n\t\t},\n\t\taddressFieldsMapping: [\n\t\t\t'buildingnumber',\n\t\t\t'localnumber',\n\t\t\t'addresslevel1',\n\t\t\t'addresslevel2',\n\t\t\t'addresslevel3',\n\t\t\t'addresslevel4',\n\t\t\t'addresslevel5',\n\t\t\t'addresslevel6',\n\t\t\t'addresslevel7',\n\t\t\t'addresslevel8',\n\t\t\t'pobox'\n\t\t],\n\t\taddressFieldsMappingBlockID: {\n\t\t\tLBL_ADDRESS_INFORMATION: 'a',\n\t\t\tLBL_ADDRESS_BILLING: 'a',\n\t\t\tLBL_ADDRESS_MAILING_INFORMATION: 'b',\n\t\t\tLBL_ADDRESS_SHIPPING: 'b',\n\t\t\tLBL_ADDRESS_DELIVERY_INFORMATION: 'c'\n\t\t},\n\t\taddressFieldsData: false,\n\t\t/**\n\t\t * Function to register event for copying addresses\n\t\t */\n\t\tregisterEventForCopyAddress: function () {\n\t\t\tlet thisInstance = this;\n\t\t\tthis.formElement\n\t\t\t\t.find(\n\t\t\t\t\t'.js-toggle-panel:not(.inventoryHeader):not(.inventoryItems) .fieldValue, .js-toggle-panel:not(.inventoryHeader):not(.inventoryItems) .fieldLabel'\n\t\t\t\t)\n\t\t\t\t.each(function () {\n\t\t\t\t\tlet block = $(this);\n\t\t\t\t\tlet referenceModulesList = block.find('.referenceModulesList');\n\t\t\t\t\tif (referenceModulesList.length > 0) {\n\t\t\t\t\t\treferenceModulesList.on('change', function () {\n\t\t\t\t\t\t\tthisInstance.formElement\n\t\t\t\t\t\t\t\t.find('[class*=\"copyAddressFrom\"]:not(.copyAddressFromMain, .copyAddressFromMailing)')\n\t\t\t\t\t\t\t\t.addClass('d-none');\n\t\t\t\t\t\t\tthisInstance.registerEventForCopyBlockAddress($(this).val(), block.find('.sourceField').attr('name'));\n\t\t\t\t\t\t});\n\t\t\t\t\t\treferenceModulesList.trigger('change');\n\t\t\t\t\t} else {\n\t\t\t\t\t\tlet referenceFields = block.find('[name=\"popupReferenceModule\"]');\n\t\t\t\t\t\tif (referenceFields.length > 0) {\n\t\t\t\t\t\t\tthisInstance.registerEventForCopyBlockAddress(\n\t\t\t\t\t\t\t\treferenceFields.val(),\n\t\t\t\t\t\t\t\tblock.find('.sourceField').attr('name')\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\tthis.formElement.find('.js-toggle-panel').each(function () {\n\t\t\t\tlet hideCopyAddressLabel = true;\n\t\t\t\t$(this)\n\t\t\t\t\t.find('.adressAction button')\n\t\t\t\t\t.each(function () {\n\t\t\t\t\t\tif ($(this).hasClass('d-none') == false) {\n\t\t\t\t\t\t\thideCopyAddressLabel = false;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\tif (hideCopyAddressLabel) {\n\t\t\t\t\t$(this).find('.copyAddressLabel').addClass('d-none');\n\t\t\t\t}\n\t\t\t});\n\t\t\tthis.formElement.find('.copyAddressFromMain').on('click', function (e) {\n\t\t\t\tlet element = $(this);\n\t\t\t\tlet block = element.closest('.js-toggle-panel');\n\t\t\t\tlet from = element.data('label');\n\t\t\t\tlet to = block.data('label');\n\t\t\t\tthisInstance.copyAddress(from, to, false, false);\n\t\t\t});\n\t\t\tthis.formElement.find('.copyAddressFromMailing').on('click', function (e) {\n\t\t\t\tlet element = $(this);\n\t\t\t\tlet block = element.closest('.js-toggle-panel');\n\t\t\t\tlet from = element.data('label');\n\t\t\t\tlet to = block.data('label');\n\t\t\t\tthisInstance.copyAddress(from, to, false, false);\n\t\t\t});\n\t\t\tthis.formElement.find('.copyAddressFromDelivery').on('click', function (e) {\n\t\t\t\tlet element = $(this);\n\t\t\t\tlet block = element.closest('.js-toggle-panel');\n\t\t\t\tlet from = element.data('label');\n\t\t\t\tlet to = block.data('label');\n\t\t\t\tthisInstance.copyAddress(from, to, false, false);\n\t\t\t});\n\t\t},\n\t\tregisterEventForCopyBlockAddress: function (moduleName, fieldName) {\n\t\t\tconst self = this;\n\t\t\tif (moduleName == 'Accounts') {\n\t\t\t\tself.enableCopyAddressFromModule(\n\t\t\t\t\tmoduleName,\n\t\t\t\t\tself.formElement,\n\t\t\t\t\t'copyAddressFromAccount',\n\t\t\t\t\tfieldName,\n\t\t\t\t\t'JS_PLEASE_SELECT_AN_ACCOUNT_TO_COPY_ADDRESS'\n\t\t\t\t);\n\t\t\t} else if (moduleName == 'Contacts') {\n\t\t\t\tself.enableCopyAddressFromModule(\n\t\t\t\t\tmoduleName,\n\t\t\t\t\tself.formElement,\n\t\t\t\t\t'copyAddressFromContact',\n\t\t\t\t\tfieldName,\n\t\t\t\t\t'JS_PLEASE_SELECT_AN_CONTACT_TO_COPY_ADDRESS'\n\t\t\t\t);\n\t\t\t} else if (moduleName == 'Leads') {\n\t\t\t\tself.enableCopyAddressFromModule(\n\t\t\t\t\tmoduleName,\n\t\t\t\t\tself.formElement,\n\t\t\t\t\t'copyAddressFromLead',\n\t\t\t\t\tfieldName,\n\t\t\t\t\t'JS_PLEASE_SELECT_AN_LEAD_TO_COPY_ADDRESS'\n\t\t\t\t);\n\t\t\t} else if (moduleName == 'Vendors') {\n\t\t\t\tself.enableCopyAddressFromModule(\n\t\t\t\t\tmoduleName,\n\t\t\t\t\tself.formElement,\n\t\t\t\t\t'copyAddressFromVendor',\n\t\t\t\t\tfieldName,\n\t\t\t\t\t'JS_PLEASE_SELECT_AN_VENDOR_TO_COPY_ADDRESS'\n\t\t\t\t);\n\t\t\t}\n\t\t},\n\t\t/**\n\t\t * Show button to copy the address details from selected module\n\t\t */\n\t\tenableCopyAddressFromModule: function (moduleName, formElement, className, fieldName, label) {\n\t\t\tlet thisInstance = this;\n\t\t\tformElement\n\t\t\t\t.find('.' + className)\n\t\t\t\t.removeClass('d-none')\n\t\t\t\t.on('click', function (e) {\n\t\t\t\t\tlet element = $(this);\n\t\t\t\t\tlet recordRelativeAccountId = $('[name=\"' + fieldName + '\"]').val();\n\t\t\t\t\tif (recordRelativeAccountId == '' || recordRelativeAccountId == '0') {\n\t\t\t\t\t\tapp.showNotify({\n\t\t\t\t\t\t\ttext: app.vtranslate(label),\n\t\t\t\t\t\t\ttype: 'error'\n\t\t\t\t\t\t});\n\t\t\t\t\t} else {\n\t\t\t\t\t\tlet recordRelativeAccountName = $('#' + fieldName + '_display').val();\n\t\t\t\t\t\tlet data = {\n\t\t\t\t\t\t\trecord: recordRelativeAccountId,\n\t\t\t\t\t\t\tselectedName: recordRelativeAccountName,\n\t\t\t\t\t\t\tmodule: moduleName\n\t\t\t\t\t\t};\n\t\t\t\t\t\tthisInstance.copyAddressDetails(\n\t\t\t\t\t\t\telement.data('label'),\n\t\t\t\t\t\t\telement.closest('.js-toggle-panel').data('label'),\n\t\t\t\t\t\t\tdata,\n\t\t\t\t\t\t\telement.closest('.js-toggle-panel')\n\t\t\t\t\t\t);\n\t\t\t\t\t\telement.attr('checked', 'checked');\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Function which will copy the address details\n\t\t */\n\t\tcopyAddressDetails: function (from, to, data, container) {\n\t\t\tapp.getRecordDetails(data).done((response) => {\n\t\t\t\tthis.addressFieldsData = response['result'];\n\t\t\t\tthis.copyAddress(from, to, true, data['module']);\n\t\t\t\tapp.event.trigger('Edit.CopyAddress', this, from, to, response, data, container);\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Function to copy address between fields\n\t\t * @param strings which accepts value as either odd or even\n\t\t */\n\t\tcopyAddress: function (fromLabel, toLabel, relatedRecord, sourceModule) {\n\t\t\tconst thisInstance = this;\n\t\t\tlet formElement = this.getForm(),\n\t\t\t\tstatus = false,\n\t\t\t\taddressMapping = this.addressFieldsMapping,\n\t\t\t\tBlockIds = this.addressFieldsMappingBlockID,\n\t\t\t\tfrom = BlockIds[fromLabel];\n\t\t\tif (relatedRecord === false || sourceModule === false) from = BlockIds[fromLabel];\n\t\t\tlet to = BlockIds[toLabel],\n\t\t\t\tkey,\n\t\t\t\tfromElement,\n\t\t\t\tfromElementLabel,\n\t\t\t\tnameElementFrom,\n\t\t\t\tnameElementTo;\n\t\t\tfor (key in addressMapping) {\n\t\t\t\tnameElementFrom = addressMapping[key] + from;\n\t\t\t\tnameElementTo = addressMapping[key] + to;\n\t\t\t\tif (relatedRecord) {\n\t\t\t\t\tfromElement = thisInstance.addressFieldsData['data'][nameElementFrom];\n\t\t\t\t\tfromElementLabel = thisInstance.addressFieldsData['displayData'][nameElementFrom];\n\t\t\t\t} else {\n\t\t\t\t\tfromElement = formElement.find('[name=\"' + nameElementFrom + '\"]').val();\n\t\t\t\t\tfromElementLabel = formElement.find('[name=\"' + nameElementFrom + '_display\"]').val();\n\t\t\t\t}\n\t\t\t\tlet toElement = formElement.find('[name=\"' + nameElementTo + '\"]'),\n\t\t\t\t\ttoElementLable = formElement.find('[name=\"' + nameElementTo + '_display\"]');\n\t\t\t\tif (fromElement !== '' && fromElement !== '0' && fromElement !== undefined) {\n\t\t\t\t\tif (toElementLable.length > 0) toElementLable.attr('readonly', true);\n\t\t\t\t\tstatus = true;\n\t\t\t\t\ttoElement.val(fromElement);\n\t\t\t\t\ttoElementLable.val(fromElementLabel);\n\t\t\t\t\tif (toElement.is('[data-select2-id]')) {\n\t\t\t\t\t\tif (toElement.val() !== fromElement) {\n\t\t\t\t\t\t\ttoElement.val('');\n\t\t\t\t\t\t}\n\t\t\t\t\t\ttoElement.trigger('change');\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\ttoElement.val('');\n\t\t\t\t\ttoElement.attr('readonly', false);\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (status === false) {\n\t\t\t\tlet errorMsg;\n\t\t\t\tif (sourceModule === 'Accounts') {\n\t\t\t\t\terrorMsg = 'JS_SELECTED_ACCOUNT_DOES_NOT_HAVE_AN_ADDRESS';\n\t\t\t\t} else if (sourceModule === 'Contacts') {\n\t\t\t\t\terrorMsg = 'JS_SELECTED_CONTACT_DOES_NOT_HAVE_AN_ADDRESS';\n\t\t\t\t} else {\n\t\t\t\t\terrorMsg = 'JS_DOES_NOT_HAVE_AN_ADDRESS';\n\t\t\t\t}\n\t\t\t\tapp.showNotify({\n\t\t\t\t\ttext: app.vtranslate(errorMsg),\n\t\t\t\t\ttype: 'error'\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\t\tregisterReferenceSelectionEvent: function (container) {\n\t\t\tlet thisInstance = this;\n\t\t\tlet relategField = container.find(\"input[name*='addresslevel']\");\n\t\t\trelategField.on(Vtiger_Edit_Js.referenceSelectionEvent, function (e, data) {\n\t\t\t\tlet blockContainer = $(e.currentTarget).closest('.js-toggle-panel');\n\t\t\t\tthisInstance.copyAddressDetailsRef(data, blockContainer);\n\t\t\t});\n\t\t},\n\t\tcopyAddressDetailsRef: function (data, container) {\n\t\t\tlet thisInstance = this;\n\t\t\tapp\n\t\t\t\t.getRecordDetails(data)\n\t\t\t\t.done(function (data) {\n\t\t\t\t\tlet response = data['result'];\n\t\t\t\t\tthisInstance.mapAddressDetails(response, container);\n\t\t\t\t})\n\t\t\t\t.fail(function (error, err) {});\n\t\t},\n\t\tmapAddressDetails: function (result, container) {\n\t\t\tfor (let key in result) {\n\t\t\t\tif (key.indexOf('addresslevel') != -1) {\n\t\t\t\t\tif (container.find('[name=\"' + key + '\"]').length != 0) {\n\t\t\t\t\t\tcontainer.find('[name=\"' + key + '\"]').val(result['data'][key]);\n\t\t\t\t\t\tcontainer.find('[name=\"' + key + '\"]').attr('readonly', true);\n\t\t\t\t\t\tcontainer.find('[name=\"' + key + '_display\"]').val(result['displayData'][key]);\n\t\t\t\t\t\tcontainer.find('[name=\"' + key + '_display\"]').attr('readonly', true);\n\t\t\t\t\t}\n\t\t\t\t\tif (\n\t\t\t\t\t\tcontainer.find('[name=\"' + key + 'a\"]').length != 0 &&\n\t\t\t\t\t\tcontainer.find('[name=\"' + key + 'a\"]').val() == 0 &&\n\t\t\t\t\t\tresult['data'][key] != 0\n\t\t\t\t\t) {\n\t\t\t\t\t\tcontainer.find('[name=\"' + key + 'a\"]').val(result['data'][key]);\n\t\t\t\t\t\tcontainer.find('[name=\"' + key + 'a\"]').attr('readonly', true);\n\t\t\t\t\t\tcontainer.find('[name=\"' + key + 'a_display\"]').val(result['displayData'][key]);\n\t\t\t\t\t\tcontainer.find('[name=\"' + key + 'a_display\"]').attr('readonly', true);\n\t\t\t\t\t}\n\t\t\t\t\tif (\n\t\t\t\t\t\tcontainer.find('[name=\"' + key + 'b\"]').length != 0 &&\n\t\t\t\t\t\tcontainer.find('[name=\"' + key + 'b\"]').val() == 0 &&\n\t\t\t\t\t\tresult['data'][key] != 0\n\t\t\t\t\t) {\n\t\t\t\t\t\tcontainer.find('[name=\"' + key + 'b\"]').val(result['data'][key]);\n\t\t\t\t\t\tcontainer.find('[name=\"' + key + 'b\"]').attr('readonly', true);\n\t\t\t\t\t\tcontainer.find('[name=\"' + key + 'b_display\"]').val(result['displayData'][key]);\n\t\t\t\t\t\tcontainer.find('[name=\"' + key + 'b_display\"]').attr('readonly', true);\n\t\t\t\t\t}\n\t\t\t\t\tif (\n\t\t\t\t\t\tcontainer.find('[name=\"' + key + 'c\"]').length != 0 &&\n\t\t\t\t\t\tcontainer.find('[name=\"' + key + 'c\"]').val() == 0 &&\n\t\t\t\t\t\tresult['data'][key] != 0\n\t\t\t\t\t) {\n\t\t\t\t\t\tcontainer.find('[name=\"' + key + 'c\"]').val(result['data'][key]);\n\t\t\t\t\t\tcontainer.find('[name=\"' + key + 'c\"]').attr('readonly', true);\n\t\t\t\t\t\tcontainer.find('[name=\"' + key + 'c_display\"]').val(result['displayData'][key]);\n\t\t\t\t\t\tcontainer.find('[name=\"' + key + 'c_display\"]').attr('readonly', true);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tregisterMaskFields: function (container) {\n\t\t\tcontainer.find('[data-inputmask]').inputmask();\n\t\t},\n\t\tregisterSubmitEvent: function () {\n\t\t\tlet editViewForm = this.getForm();\n\t\t\teditViewForm.on('submit', function (e) {\n\t\t\t\t//Form should submit only once for multiple clicks also\n\t\t\t\tif (typeof editViewForm.data('submit') !== 'undefined') {\n\t\t\t\t\treturn false;\n\t\t\t\t} else {\n\t\t\t\t\tdocument.progressLoader = $.progressIndicator({\n\t\t\t\t\t\tmessage: app.vtranslate('JS_SAVE_LOADER_INFO'),\n\t\t\t\t\t\tposition: 'html',\n\t\t\t\t\t\tblockInfo: {\n\t\t\t\t\t\t\tenabled: true\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\tapp.event.trigger('EditView.preValidation', editViewForm);\n\t\t\t\t\tif (editViewForm.validationEngine('validate')) {\n\t\t\t\t\t\t//Once the form is submiting add data attribute to that form element\n\t\t\t\t\t\teditViewForm.data('submit', 'true');\n\t\t\t\t\t\t//on submit form trigger the recordPreSave event\n\t\t\t\t\t\tlet recordPreSaveEvent = $.Event(Vtiger_Edit_Js.recordPreSave);\n\t\t\t\t\t\teditViewForm.trigger(recordPreSaveEvent, { value: 'edit' });\n\t\t\t\t\t\tif (recordPreSaveEvent.isDefaultPrevented()) {\n\t\t\t\t\t\t\t//If duplicate record validation fails, form should submit again\n\t\t\t\t\t\t\tdocument.progressLoader.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t\t\teditViewForm.removeData('submit');\n\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\t//If validation fails, form should submit again\n\t\t\t\t\t\tdocument.progressLoader.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t\teditViewForm.removeData('submit');\n\t\t\t\t\t\tapp.formAlignmentAfterValidation(editViewForm);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Pre-save events\n\t\t * @param {jQuery} form\n\t\t */\n\t\tregisterRecordPreSaveEventEvent: function (form) {\n\t\t\tapp.event.on('EditView.preValidation', (_e, view) => {\n\t\t\t\tview.find('.js-block-content.d-none').siblings('.blockHeader').trigger('click');\n\t\t\t});\n\t\t\tform.on(Vtiger_Edit_Js.recordPreSave, (e, _data) => {\n\t\t\t\tapp.handlerEvent(form, 'preSaveValidation', !form.find('#preSaveValidation').val()).done((response) => {\n\t\t\t\t\tif (response !== true) {\n\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\t\tregisterLeavePageWithoutSubmit: function (form) {\n\t\t\tif (\n\t\t\t\ttypeof CKEDITOR !== 'undefined' &&\n\t\t\t\ttypeof CKEDITOR.instances !== 'undefined' &&\n\t\t\t\tObject.keys(CKEDITOR.instances).length\n\t\t\t) {\n\t\t\t\tCKEDITOR.on('instanceReady', function (e) {\n\t\t\t\t\tlet initialFormData = form.serialize();\n\t\t\t\t\twindow.onbeforeunload = function (e) {\n\t\t\t\t\t\tif (initialFormData != form.serialize() && form.data('submit') != 'true') {\n\t\t\t\t\t\t\treturn app.vtranslate('JS_CHANGES_WILL_BE_LOST');\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tlet initialFormData = form.serialize();\n\t\t\t\twindow.onbeforeunload = function (e) {\n\t\t\t\t\tif (initialFormData != form.serialize() && form.data('submit') != 'true') {\n\t\t\t\t\t\treturn app.vtranslate('JS_CHANGES_WILL_BE_LOST');\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t}\n\t\t},\n\t\tstretchCKEditor: function () {\n\t\t\tlet row = $('.js-editor').parents('.fieldRow');\n\t\t\tlet td = $('.js-editor').parent();\n\t\t\t$(row).find('.fieldLabel').remove();\n\t\t\t$(td).removeClass('col-md-10');\n\t\t\t$(td).addClass('col-md-12');\n\t\t},\n\t\t/**\n\t\t * Function to register event for ckeditor for description field\n\t\t */\n\t\tregisterEventForEditor: function () {\n\t\t\tlet form = this.getForm();\n\t\t\t$.each(form.find('.js-editor:not(.js-inventory-item-comment)'), (key, data) => {\n\t\t\t\tthis.loadEditorElement($(data));\n\t\t\t});\n\t\t},\n\t\tloadEditorElement: function (noteContentElement) {\n\t\t\tApp.Fields.Text.Editor.register(noteContentElement);\n\t\t},\n\t\tregisterHelpInfo: function (form) {\n\t\t\tif (!form) {\n\t\t\t\tform = this.getForm();\n\t\t\t}\n\t\t\tapp.showPopoverElementView(form.find('.js-help-info'));\n\t\t},\n\t\tregisterBlockStatusCheckOnLoad: function () {\n\t\t\tlet blocks = this.getForm().find('.js-toggle-panel');\n\t\t\tlet module = this.moduleName;\n\t\t\tblocks.each(function (index, block) {\n\t\t\t\tlet currentBlock = $(block);\n\t\t\t\tif (\n\t\t\t\t\tcurrentBlock.find('.js-field-block-column').length !== 0 &&\n\t\t\t\t\tcurrentBlock.find('.js-field-block-column:not(.d-none)').length === 0\n\t\t\t\t) {\n\t\t\t\t\tcurrentBlock.addClass('d-none');\n\t\t\t\t}\n\t\t\t\tlet dynamicAttr = currentBlock.attr('data-dynamic');\n\t\t\t\tif (typeof dynamicAttr !== typeof undefined && dynamicAttr !== false) {\n\t\t\t\t\tlet headerAnimationElement = currentBlock.find('.js-block-toggle').not('.d-none');\n\t\t\t\t\tlet bodyContents = currentBlock.find('.blockContent');\n\t\t\t\t\tlet blockId = headerAnimationElement.data('id');\n\t\t\t\t\tlet cacheKey = module + '.' + blockId;\n\t\t\t\t\tlet value = app.cacheGet(cacheKey, null);\n\t\t\t\t\tif (value != null) {\n\t\t\t\t\t\tif (value == 1) {\n\t\t\t\t\t\t\theaderAnimationElement.addClass('d-none');\n\t\t\t\t\t\t\tcurrentBlock.find(\"[data-mode='show']\").removeClass('d-none');\n\t\t\t\t\t\t\tbodyContents.removeClass('d-none');\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\theaderAnimationElement.addClass('d-none');\n\t\t\t\t\t\t\tcurrentBlock.find(\"[data-mode='hide']\").removeClass('d-none');\n\t\t\t\t\t\t\tbodyContents.addClass('d-none');\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Visibility check block\n\t\t */\n\t\tcheckVisibilityBlocks: function () {\n\t\t\tthis.getForm()\n\t\t\t\t.find('.js-toggle-panel')\n\t\t\t\t.each(function (index, block) {\n\t\t\t\t\tlet currentBlock = $(block);\n\t\t\t\t\tif (currentBlock.find('.js-field-block-column').length !== 0) {\n\t\t\t\t\t\tif (currentBlock.find('.js-field-block-column:not(.d-none)').length === 0) {\n\t\t\t\t\t\t\tcurrentBlock.addClass('d-none');\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tcurrentBlock.removeClass('d-none');\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t},\n\t\tregisterAutoloadAddress: function () {\n\t\t\tconst self = this;\n\t\t\tthis.getForm()\n\t\t\t\t.find('.js-search-address')\n\t\t\t\t.each(function (_index, e) {\n\t\t\t\t\tlet search = $(e);\n\t\t\t\t\tlet container = search.closest('.js-block-content');\n\t\t\t\t\tlet input = search.find('.js-autoload-address');\n\t\t\t\t\tinput\n\t\t\t\t\t\t.autocomplete({\n\t\t\t\t\t\t\tsource: function (request, response) {\n\t\t\t\t\t\t\t\tAppConnector.request({\n\t\t\t\t\t\t\t\t\tmodule: self.moduleName,\n\t\t\t\t\t\t\t\t\taction: 'Fields',\n\t\t\t\t\t\t\t\t\tmode: 'findAddress',\n\t\t\t\t\t\t\t\t\ttype: search.find('.js-select-operator').val(),\n\t\t\t\t\t\t\t\t\tvalue: request.term\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t.done(function (requestData) {\n\t\t\t\t\t\t\t\t\t\tif (requestData.result === false) {\n\t\t\t\t\t\t\t\t\t\t\tapp.showNotify({\n\t\t\t\t\t\t\t\t\t\t\t\ttext: app.vtranslate('JS_ERROR'),\n\t\t\t\t\t\t\t\t\t\t\t\ttype: 'error'\n\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t} else if (requestData.result.length) {\n\t\t\t\t\t\t\t\t\t\t\tresponse(requestData.result);\n\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\tresponse([{ label: app.vtranslate('JS_NO_RESULTS_FOUND'), value: '' }]);\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t.fail(function (_textStatus, _errorThrown, jqXHR) {\n\t\t\t\t\t\t\t\t\t\tapp.showNotify({\n\t\t\t\t\t\t\t\t\t\t\ttext: jqXHR.responseJSON.error.message,\n\t\t\t\t\t\t\t\t\t\t\ttype: 'error',\n\t\t\t\t\t\t\t\t\t\t\tanimation: 'show'\n\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\tresponse([{ label: app.vtranslate('JS_NO_RESULTS_FOUND'), value: '' }]);\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tminLength: input.data('min'),\n\t\t\t\t\t\t\tselect: function (_event, ui) {\n\t\t\t\t\t\t\t\t$.each(ui.item.address, function (index, value) {\n\t\t\t\t\t\t\t\t\tlet field = container.find('.fieldValue [name^=' + index + ']');\n\t\t\t\t\t\t\t\t\tif (field.length && value) {\n\t\t\t\t\t\t\t\t\t\tif (typeof value !== 'object') {\n\t\t\t\t\t\t\t\t\t\t\tvalue = [value];\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t$.each(value, function (_idx, v) {\n\t\t\t\t\t\t\t\t\t\t\tlet select = false,\n\t\t\t\t\t\t\t\t\t\t\t\telement = false;\n\t\t\t\t\t\t\t\t\t\t\tif (field.prop('tagName') === 'SELECT') {\n\t\t\t\t\t\t\t\t\t\t\t\tif (typeof v === 'object') {\n\t\t\t\t\t\t\t\t\t\t\t\t\t$.each(v, function (idx, x) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\telement = field.find('option[data-' + idx + \"='\" + x + \"']\");\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (x && element.length) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tselect = element.val();\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\t\t\telement = field.find('option:contains(' + v + ')');\n\t\t\t\t\t\t\t\t\t\t\t\t\tif (v && element.length) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tselect = element.val();\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\telement = field.find('option[value=\"' + v + '\"]');\n\t\t\t\t\t\t\t\t\t\t\t\t\tif (v && element.length) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tselect = element.val();\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\t\tselect = v;\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\tif (select) {\n\t\t\t\t\t\t\t\t\t\t\t\tfield.val(select).change();\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\tfield.val('').change();\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\tui.item.value = input.val();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.autocomplete('instance')._renderItem = function (ul, item) {\n\t\t\t\t\t\treturn $('<li>')\n\t\t\t\t\t\t\t.append(`<div><span class=\"fi fi-${item.countryCode} mr-2\"></span>${item.label}</div>`)\n\t\t\t\t\t\t\t.appendTo(ul);\n\t\t\t\t\t};\n\t\t\t\t});\n\t\t},\n\t\tsetEnabledFields: function (element) {\n\t\t\tlet fieldValue = element.closest('.fieldValue');\n\t\t\tlet fieldName = fieldValue.find('input.sourceField').attr('name');\n\t\t\tlet fieldDisplay = fieldValue.find('#' + fieldName + '_display');\n\t\t\tfieldValue.find('button').removeAttr('disabled');\n\t\t\tif (fieldDisplay.val() == '') {\n\t\t\t\tfieldValue.find('input').removeAttr('readonly');\n\t\t\t}\n\t\t\tfieldValue.find('.referenceModulesListGroup').removeClass('d-none');\n\t\t\tlet placeholder = fieldDisplay.attr('placeholderDisabled');\n\t\t\tfieldDisplay.removeAttr('placeholderDisabled');\n\t\t\tfieldDisplay.attr('placeholder', placeholder);\n\t\t\tfieldValue.find('.referenceModulesList').attr('required', 'required');\n\t\t},\n\t\tsetDisabledFields: function (element) {\n\t\t\tlet fieldValue = element.closest('.fieldValue');\n\t\t\tlet fieldName = fieldValue.find('input.sourceField').attr('name');\n\t\t\tlet fieldDisplay = fieldValue.find('#' + fieldName + '_display');\n\t\t\tfieldValue.find('input').attr('readonly', 'readonly');\n\t\t\tfieldValue.find('button').attr('disabled', 'disabled');\n\t\t\tfieldValue.find('.referenceModulesListGroup').addClass('d-none');\n\t\t\tlet placeholder = fieldDisplay.attr('placeholder');\n\t\t\tfieldDisplay.removeAttr('placeholder');\n\t\t\tfieldDisplay.attr('placeholderDisabled', placeholder);\n\t\t\tfieldValue.find('.referenceModulesList').removeAttr('required');\n\t\t},\n\t\tgetMappingRelatedField: function (sourceField, sourceFieldModule, container) {\n\t\t\tconst mappingRelatedField = container.find('input[name=\"mappingRelatedField\"]').val();\n\t\t\tconst mappingRelatedModule = mappingRelatedField ? JSON.parse(mappingRelatedField) : [];\n\t\t\tif (\n\t\t\t\ttypeof mappingRelatedModule[sourceField] !== 'undefined' &&\n\t\t\t\ttypeof mappingRelatedModule[sourceField][sourceFieldModule] !== 'undefined'\n\t\t\t) {\n\t\t\t\treturn mappingRelatedModule[sourceField][sourceFieldModule];\n\t\t\t}\n\t\t\treturn [];\n\t\t},\n\t\tregisterValidationsFields: function (container) {\n\t\t\tlet params = app.validationEngineOptionsForRecord;\n\t\t\tcontainer.validationEngine(params);\n\t\t},\n\t\tcheckReferencesField: function (container, clear) {\n\t\t\tlet thisInstance = this;\n\t\t\tlet activeProcess = false,\n\t\t\t\tactiveSubProcess = false;\n\t\t\tif (!CONFIG.fieldsReferencesDependent) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tcontainer.find('input[data-fieldtype=\"referenceLink\"]').each(function (index, element) {\n\t\t\t\telement = $(element);\n\t\t\t\tlet t = true;\n\t\t\t\tif (element.closest('.tab-pane').length > 0) {\n\t\t\t\t\tt = false;\n\t\t\t\t\tif (element.closest('.tab-pane.active').length > 0) {\n\t\t\t\t\t\tt = true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tlet referenceLink = element.val();\n\t\t\t\tif (t && referenceLink != '' && referenceLink != '0') {\n\t\t\t\t\tactiveProcess = true;\n\t\t\t\t}\n\t\t\t});\n\t\t\tcontainer.find('input[data-fieldtype=\"referenceProcess\"]').each(function (index, element) {\n\t\t\t\telement = $(element);\n\t\t\t\tif (activeProcess) {\n\t\t\t\t\tthisInstance.setEnabledFields(element);\n\t\t\t\t} else {\n\t\t\t\t\tif (clear) {\n\t\t\t\t\t\tthisInstance.clearFieldValue(element);\n\t\t\t\t\t}\n\t\t\t\t\tthisInstance.setDisabledFields(element);\n\t\t\t\t}\n\n\t\t\t\tlet t = true;\n\t\t\t\tif (element.closest('.tab-pane').length > 0) {\n\t\t\t\t\tt = false;\n\t\t\t\t\tif (element.closest('.tab-pane.active').length > 0) {\n\t\t\t\t\t\tt = true;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tlet referenceLink = element.val();\n\t\t\t\tif (t && referenceLink != '' && referenceLink != '0') {\n\t\t\t\t\tactiveSubProcess = true;\n\t\t\t\t}\n\t\t\t});\n\t\t\tcontainer.find('input[data-fieldtype=\"referenceSubProcess\"]').each(function (index, element) {\n\t\t\t\telement = $(element);\n\t\t\t\tlet processfieldElement = element.closest('.fieldValue');\n\t\t\t\tlet length = processfieldElement.find('.referenceModulesList option[disabled!=\"disabled\"]').length;\n\t\t\t\tif (activeSubProcess && length > 0) {\n\t\t\t\t\tthisInstance.setEnabledFields(element);\n\t\t\t\t} else {\n\t\t\t\t\tif (clear) {\n\t\t\t\t\t\tthisInstance.clearFieldValue(element);\n\t\t\t\t\t}\n\t\t\t\t\tthisInstance.setDisabledFields(element);\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\tcheckSubProcessModulesList: function (element) {\n\t\t\tlet option = element.find('option:selected');\n\t\t\tif (option.data('is-quickcreate') != 1) {\n\t\t\t\telement.closest('.fieldValue').find('.createReferenceRecord').addClass('d-none');\n\t\t\t} else {\n\t\t\t\telement.closest('.fieldValue').find('.createReferenceRecord').removeClass('d-none');\n\t\t\t}\n\t\t},\n\t\tcheckReferenceModulesList: function (container) {\n\t\t\tlet thisInstance = this;\n\t\t\tlet processfieldElement = container.find('input[data-fieldtype=\"referenceProcess\"]').closest('.fieldValue');\n\t\t\tlet referenceProcess = processfieldElement.find('input[name=\"popupReferenceModule\"]').val();\n\t\t\tlet subProcessfieldElement = container.find('input[data-fieldtype=\"referenceSubProcess\"]').closest('.fieldValue');\n\t\t\tVtiger_Helper_Js.hideOptions(subProcessfieldElement.find('.referenceModulesList'), 'parent', referenceProcess);\n\t\t\tlet subProcessValue = subProcessfieldElement.find('.referenceModulesList').val();\n\t\t\tsubProcessfieldElement.find('[name=\"popupReferenceModule\"]').val(subProcessValue);\n\t\t\tthisInstance.checkSubProcessModulesList(subProcessfieldElement.find('.referenceModulesList'));\n\t\t},\n\t\tregisterReferenceFields: function (container) {\n\t\t\tlet thisInstance = this;\n\t\t\tif (!CONFIG.fieldsReferencesDependent) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tthisInstance.checkReferenceModulesList(container);\n\t\t\tthisInstance.checkReferencesField(container, false);\n\t\t\tcontainer.find('.sourceField').on(Vtiger_Edit_Js.referenceSelectionEvent, function (e, data) {\n\t\t\t\tthisInstance.checkReferencesField(container, true);\n\t\t\t});\n\t\t\tcontainer.find('.sourceField').on(Vtiger_Edit_Js.referenceDeSelectionEvent, function (e) {\n\t\t\t\tthisInstance.checkReferencesField(container, true);\n\t\t\t});\n\t\t\tcontainer\n\t\t\t\t.find('input[data-fieldtype=\"referenceProcess\"]')\n\t\t\t\t.closest('.fieldValue')\n\t\t\t\t.find('.referenceModulesList')\n\t\t\t\t.on('change', function () {\n\t\t\t\t\tthisInstance.checkReferenceModulesList(container);\n\t\t\t\t});\n\t\t\tcontainer\n\t\t\t\t.find('input[data-fieldtype=\"referenceSubProcess\"]')\n\t\t\t\t.closest('.fieldValue')\n\t\t\t\t.find('.referenceModulesList')\n\t\t\t\t.on('change', function (e) {\n\t\t\t\t\tthisInstance.checkSubProcessModulesList($(e.currentTarget));\n\t\t\t\t});\n\t\t},\n\t\tregisterFocusFirstField: function (container, afterTimeout) {\n\t\t\tlet elementToFocus, elementToFocusTabindex;\n\t\t\tif (afterTimeout === undefined && container.closest('.js-modal-container').length) {\n\t\t\t\tsetTimeout((_) => {\n\t\t\t\t\tthis.registerFocusFirstField(container, true);\n\t\t\t\t}, 500);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tcontainer\n\t\t\t\t.find(\n\t\t\t\t\t'.fieldValue input.form-control:not([type=hidden],.dateField,.clockPicker), .fieldValue input[type=checkbox], .select2-selection.form-control'\n\t\t\t\t)\n\t\t\t\t.each(function (i, e) {\n\t\t\t\t\tlet element = $(e);\n\t\t\t\t\tif (!element.prop('readonly') && !element.prop('disabled')) {\n\t\t\t\t\t\telement = element.get(0);\n\t\t\t\t\t\tif (element.type !== 'number' && element.type !== 'checkbox' && element.value !== undefined) {\n\t\t\t\t\t\t\tlet elemLen = element.value.length;\n\t\t\t\t\t\t\telement.selectionStart = elemLen;\n\t\t\t\t\t\t\telement.selectionEnd = elemLen;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (i === 0 || !elementToFocus) {\n\t\t\t\t\t\t\telementToFocus = element;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tlet tabindex = $(element).attr('tabindex');\n\t\t\t\t\t\tif (tabindex > 0 && elementToFocusTabindex === undefined) {\n\t\t\t\t\t\t\telementToFocusTabindex = tabindex;\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (tabindex > 0 && tabindex < elementToFocusTabindex) {\n\t\t\t\t\t\t\telementToFocusTabindex = tabindex;\n\t\t\t\t\t\t\telementToFocus = element;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\tif (elementToFocus) {\n\t\t\t\telementToFocus.focus();\n\t\t\t}\n\t\t},\n\t\tregisterCopyValue: function (container) {\n\t\t\tcontainer.find('.fieldValue [data-copy-to-field]').on('change', function (e) {\n\t\t\t\tlet element = $(e.currentTarget);\n\t\t\t\tcontainer.find('[name=\"' + element.data('copyToField') + '\"]').val(element.val());\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Register multi image upload fields\n\t\t * @param {HTMLElement|jQuery} container\n\t\t */\n\t\tregisterMultiImageFields(container) {\n\t\t\treturn App.Fields.MultiImage.register(container);\n\t\t},\n\t\t/**\n\t\t * Register inventory controller\n\t\t * @param {jQuery} container\n\t\t */\n\t\tregisterInventoryController(container) {\n\t\t\tif (typeof Vtiger_Inventory_Js !== 'undefined') {\n\t\t\t\tthis.inventoryController = Vtiger_Inventory_Js.getInventoryInstance(container);\n\t\t\t}\n\t\t},\n\t\t/**\n\t\t * Register record collector modal\n\t\t * @param {jQuery} container\n\t\t */\n\t\tregisterRecordCollectorModal: function (container) {\n\t\t\tconst self = this;\n\t\t\tcontainer.on('click', '.js-record-collector-modal', function (e) {\n\t\t\t\te.preventDefault();\n\t\t\t\tlet element = $(this);\n\t\t\t\tlet formData = container.serializeFormData();\n\t\t\t\tformData['view'] = 'RecordCollector';\n\t\t\t\tformData['collectorType'] = element.data('type');\n\t\t\t\tdelete formData['action'];\n\t\t\t\tAppConnector.request(formData).done(function (html) {\n\t\t\t\t\tapp.showModalWindow(\n\t\t\t\t\t\thtml,\n\t\t\t\t\t\t(container) => {\n\t\t\t\t\t\t\tlet modalForm = container.find('form.js-record-collector__form');\n\t\t\t\t\t\t\tlet summary = container.find('.js-record-collector__summary');\n\t\t\t\t\t\t\tmodalForm.validationEngine(app.validationEngineOptions);\n\t\t\t\t\t\t\tmodalForm.on('submit', function (e) {\n\t\t\t\t\t\t\t\tif (modalForm.validationEngine('validate')) {\n\t\t\t\t\t\t\t\t\tsummary.html('');\n\t\t\t\t\t\t\t\t\tsummary.progressIndicator({});\n\t\t\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\t\t\tlet searchForm = modalForm.serializeFormData();\n\t\t\t\t\t\t\t\t\tsearchForm['form'] = formData;\n\t\t\t\t\t\t\t\t\tAppConnector.request(searchForm).done(function (data) {\n\t\t\t\t\t\t\t\t\t\tsummary.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t\t\t\t\t\tsummary.html(data);\n\t\t\t\t\t\t\t\t\t\tapp.registerModalPosition(container);\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tlet recordForm = self.getForm();\n\t\t\t\t\t\t\tcontainer.on('click', '.js-record-collector__select', function () {\n\t\t\t\t\t\t\t\tcontainer\n\t\t\t\t\t\t\t\t\t.find(`.js-record-collector__column[data-column=\"${this.dataset.column}\"] input`)\n\t\t\t\t\t\t\t\t\t.prop('checked', true);\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tcontainer.on('click', '.js-record-collector__fill_fields', function () {\n\t\t\t\t\t\t\t\tlet formData = container.find('.js-record-collector__fill_form').serializeFormData();\n\t\t\t\t\t\t\t\t$.each(formData, function (key, value) {\n\t\t\t\t\t\t\t\t\tif (value !== '') {\n\t\t\t\t\t\t\t\t\t\tlet fieldElement = recordForm.find(`[name=\"${key}\"]`);\n\t\t\t\t\t\t\t\t\t\tif (fieldElement.length) {\n\t\t\t\t\t\t\t\t\t\t\tfieldElement.setValue(value);\n\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\trecordForm.append(`<input type=\"hidden\" name=\"${key}\" value=\"${value}\" />`);\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\tapp.hideModalWindow(null, 'collectorModal');\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{ modalId: 'collectorModal' }\n\t\t\t\t\t);\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Register account name function\n\t\t * @param {jQuery} container\n\t\t */\n\t\tregisterAccountName: function (container) {\n\t\t\tlet first = container.find('.js-first-name');\n\t\t\tlet firstInput = first.find('input');\n\t\t\tlet last = container.find('.js-last-name');\n\t\t\tlet lastInput = last.find('input');\n\t\t\tlet full = container.find('.js-account-name');\n\t\t\tlet fullInput = full.find('input');\n\t\t\tlet legalForm = container.find('select[name=\"legal_form\"]');\n\t\t\tlet legalFormVal = legalForm.val();\n\t\t\tfirstInput.keyup(function () {\n\t\t\t\tfullInput.val(this.value + '|##|' + lastInput.val());\n\t\t\t});\n\t\t\tlastInput.keyup(function () {\n\t\t\t\tfullInput.val(firstInput.val() + '|##|' + this.value);\n\t\t\t});\n\t\t\tlegalForm.change(function () {\n\t\t\t\tif (this.value == 'PLL_NATURAL_PERSON') {\n\t\t\t\t\tfull.addClass('d-none');\n\t\t\t\t\tfullInput.val(firstInput.val() + '|##|' + lastInput.val());\n\t\t\t\t\tfirst.removeClass('d-none');\n\t\t\t\t\tlast.removeClass('d-none');\n\t\t\t\t} else if (legalFormVal == 'PLL_NATURAL_PERSON') {\n\t\t\t\t\tfull.removeClass('d-none');\n\t\t\t\t\tfirst.addClass('d-none');\n\t\t\t\t\tlast.addClass('d-none');\n\t\t\t\t\tfullInput.val('');\n\t\t\t\t}\n\t\t\t\tlegalFormVal = this.value;\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Trigger record edit view events\n\t\t * @param {object} data\n\t\t */\n\t\ttriggerRecordEditEvents: function (data) {\n\t\t\tconst self = this,\n\t\t\t\tform = this.getForm();\n\t\t\tif (typeof data['changeValues'] == 'object') {\n\t\t\t\t$.each(data['changeValues'], function (_, field) {\n\t\t\t\t\tself.setFieldValue(field);\n\t\t\t\t});\n\t\t\t}\n\t\t\tif (typeof data['changeOptions'] != 'undefined') {\n\t\t\t\t$.each(data['changeOptions'], function (fieldName, options) {\n\t\t\t\t\tself.setFieldOptions(fieldName, options);\n\t\t\t\t});\n\t\t\t}\n\t\t\tif (typeof data['hoverField'] != 'undefined') {\n\t\t\t\tform.find(`[name=\"${data['hoverField']}\"]`).focus();\n\t\t\t}\n\t\t\tif (typeof data['showNotify'] != 'undefined') {\n\t\t\t\tapp.showNotify(data['showNotify']);\n\t\t\t}\n\t\t\tif (typeof data['showModal'] != 'undefined') {\n\t\t\t\tapp.showModalWindow(null, data['showModal']['url']);\n\t\t\t}\n\t\t\tif (typeof data['showFields'] != 'undefined') {\n\t\t\t\t$.each(data['showFields'], function (_, fieldName) {\n\t\t\t\t\tform.find(`.js-field-block-column[data-field=\"${fieldName}\"]`).removeClass('d-none');\n\t\t\t\t\tself.checkVisibilityBlocks();\n\t\t\t\t});\n\t\t\t}\n\t\t\tif (typeof data['hideFields'] != 'undefined') {\n\t\t\t\t$.each(data['hideFields'], function (_, fieldName) {\n\t\t\t\t\tform.find(`.js-field-block-column[data-field=\"${fieldName}\"]`).addClass('d-none');\n\t\t\t\t\tself.checkVisibilityBlocks();\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\t\t/**\n\t\t * Set field value\n\t\t * @param {object} params\n\t\t */\n\t\tsetFieldValue: function (params) {\n\t\t\tconst fieldElement = this.getForm().find(`[name=\"${params['fieldName']}\"]:last`),\n\t\t\t\tfieldInfo = fieldElement.data('fieldinfo');\n\t\t\tif (fieldElement.is('select')) {\n\t\t\t\tif (fieldElement.find(`option[value=\"${params['value']}\"]`).length) {\n\t\t\t\t\tfieldElement.val(params['value']).trigger('change');\n\t\t\t\t} else if (fieldInfo.picklistvalues.hasOwnProperty(params['value'])) {\n\t\t\t\t\tfieldElement.append(new Option(params['value'], params['value'], true, true)).trigger('change');\n\t\t\t\t}\n\t\t\t} else if (fieldElement.attr('type') == 'checkbox') {\n\t\t\t\tfieldElement.prop('checked', params['value'] == '1').trigger('change');\n\t\t\t} else if ('reference' === fieldElement.data('fieldtype')) {\n\t\t\t\tthis.setReferenceFieldValue(fieldElement.closest('.js-field-block-column'), {\n\t\t\t\t\tid: params['value'],\n\t\t\t\t\tname: params['display']\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tfieldElement.val(params['value']);\n\t\t\t}\n\t\t},\n\t\t/**\n\t\t * Set field options\n\t\t * @param {string} fieldName\n\t\t * @param {object} options\n\t\t */\n\t\tsetFieldOptions: function (fieldName, options) {\n\t\t\tconst fieldElement = this.getForm().find(`[name=\"${fieldName}\"]`),\n\t\t\t\tfieldInfo = fieldElement.data('fieldinfo');\n\t\t\tif (fieldElement.is('select') && fieldInfo) {\n\t\t\t\tconst val = fieldElement.val() ?? '',\n\t\t\t\t\tfieldValue = fieldElement.closest('.fieldValue'),\n\t\t\t\t\tcurrentValues = [...fieldElement.get(0).options]\n\t\t\t\t\t\t.map((o) => o.value)\n\t\t\t\t\t\t.filter((e) => e !== '')\n\t\t\t\t\t\t.sort();\n\t\t\t\tlet newOptions = new $();\n\t\t\t\tif (!fieldInfo.mandatory) {\n\t\t\t\t\tnewOptions = newOptions.add(\n\t\t\t\t\t\tnew Option(app.vtranslate('JS_SELECT_AN_OPTION'), '', false, !val || !options.includes(val))\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t\t$.each(options, (_, e) => {\n\t\t\t\t\tnewOptions = newOptions.add(new Option(fieldInfo['picklistvalues'][e], e, false, val == e));\n\t\t\t\t});\n\n\t\t\t\tconst newValues = [...newOptions.map((_, e) => e.value)].filter((e) => e !== '').sort();\n\t\t\t\tif (currentValues.length === newValues.length && currentValues.every((e, i) => e === newValues[i])) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tlet selected = newOptions.filter(':selected').length > 0;\n\t\t\t\tfieldElement.html(newOptions);\n\t\t\t\tlet change = val && val !== fieldElement.val();\n\t\t\t\tif ((val === '' && !selected) || change) {\n\t\t\t\t\tfieldElement.val(null);\n\t\t\t\t}\n\t\t\t\tif (change) {\n\t\t\t\t\tfieldValue.addClass('border border-info');\n\t\t\t\t\tfieldElement.trigger('change');\n\t\t\t\t\tsetTimeout(function () {\n\t\t\t\t\t\tfieldValue.removeClass('border border-info');\n\t\t\t\t\t}, 5000);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t/**\n\t\t * Check if pre save validation is active\n\t\t * @returns {bool}\n\t\t */\n\t\tcheckPreSaveValidation: function () {\n\t\t\tlet validation = true;\n\t\t\tif (\n\t\t\t\ttypeof app.pageController.getForm !== 'undefined' &&\n\t\t\t\tapp.pageController.getForm().find('#preSaveValidation').length !== 0\n\t\t\t) {\n\t\t\t\tvalidation = app.pageController.getForm().find('#preSaveValidation').val() == 1;\n\t\t\t}\n\t\t\treturn validation;\n\t\t},\n\t\t/**\n\t\t * Register change value handler events\n\t\t * @param {jQuery} container\n\t\t */\n\t\tregisterChangeValueHandlerEvent: function (container) {\n\t\t\tconst event = container.find('.js-change-value-event');\n\t\t\tif (event.length <= 0 || event.val() === '[]') {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tconst fields = JSON.parse(event.val());\n\t\t\t$.each(fields, (_, fieldName) => {\n\t\t\t\tcontainer\n\t\t\t\t\t.find(`[name=\"${fieldName}\"],[name=\"${fieldName}[]\"]`)\n\t\t\t\t\t.on(`change ${Vtiger_Edit_Js.referenceSelectionEvent} ${Vtiger_Edit_Js.referenceDeSelectionEvent}`, () => {\n\t\t\t\t\t\tthis.sendChangeValueHandlerEvent(container.serializeFormData());\n\t\t\t\t\t});\n\t\t\t});\n\t\t\tthis.sendChangeValueHandlerEvent(container.serializeFormData());\n\t\t},\n\t\t/**\n\t\t * Send change value handler events\n\t\t * @param {object} formData\n\t\t */\n\t\tsendChangeValueHandlerEvent: function (formData) {\n\t\t\tformData['action'] = 'ChangeValueHandler';\n\t\t\tdelete formData['view'];\n\t\t\tlet progress = $.progressIndicator({ position: 'html', blockInfo: { enabled: true } });\n\t\t\tAppConnector.request(formData)\n\t\t\t\t.done((response) => {\n\t\t\t\t\t$.each(response.result, (_, data) => {\n\t\t\t\t\t\tthis.triggerRecordEditEvents(data);\n\t\t\t\t\t});\n\t\t\t\t\tprogress.progressIndicator({ mode: 'hide' });\n\t\t\t\t})\n\t\t\t\t.fail(() => {\n\t\t\t\t\tprogress.progressIndicator({ mode: 'hide' });\n\t\t\t\t\tapp.showNotify({\n\t\t\t\t\t\ttext: app.vtranslate('JS_UNEXPECTED_ERROR'),\n\t\t\t\t\t\ttype: 'error',\n\t\t\t\t\t\tdelay: '2000',\n\t\t\t\t\t\thide: true\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Register keyboard shortcuts events\n\t\t */\n\t\tregisterKeyboardShortcutsEvent: function () {\n\t\t\tdocument.addEventListener('keydown', (event) => {\n\t\t\t\tif (event.shiftKey && event.ctrlKey && event.code === 'KeyS') {\n\t\t\t\t\tlet form = event.target.closest('form');\n\t\t\t\t\tif (form) {\n\t\t\t\t\t\t$(form).trigger('submit');\n\t\t\t\t\t} else {\n\t\t\t\t\t\tform = $(event.target).find('form');\n\t\t\t\t\t\tif (form.length && form.hasClass('recordEditView')) {\n\t\t\t\t\t\t\tform.last().trigger('submit');\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Function which will register basic events which will be used in quick create as well\n\t\t *\n\t\t */\n\t\tregisterBasicEvents: function (container) {\n\t\t\tthis.registerEventForEditor();\n\t\t\tthis.stretchCKEditor();\n\t\t\tthis.referenceModulePopupRegisterEvent(container);\n\t\t\tthis.registerAutoCompleteFields(container);\n\t\t\tthis.registerClearReferenceSelectionEvent(container);\n\t\t\tthis.registerPreventingEnterSubmitEvent(container);\n\t\t\tthis.registerTimeFields(container);\n\t\t\tthis.registerRecordPreSaveEventEvent(container);\n\t\t\tthis.registerReferenceSelectionEvent(container);\n\t\t\tthis.registerChangeValueHandlerEvent(container);\n\t\t\tthis.registerMaskFields(container);\n\t\t\tthis.registerHelpInfo(container);\n\t\t\tthis.registerReferenceFields(container);\n\t\t\tthis.registerFocusFirstField(container);\n\t\t\tthis.registerCopyValue(container);\n\t\t\tthis.registerMultiImageFields(container);\n\t\t\tthis.registerReferenceCreate(container);\n\t\t\tthis.registerRecordCollectorModal(container);\n\t\t\tthis.registerAccountName(container);\n\t\t\tthis.registerKeyboardShortcutsEvent();\n\t\t\tApp.Fields.MultiEmail.register(container);\n\t\t\tApp.Fields.MultiDependField.register(container);\n\t\t\tApp.Fields.Tree.register(container);\n\t\t\tApp.Fields.MultiCurrency.register(container);\n\t\t\tApp.Fields.MeetingUrl.register(container);\n\t\t\tApp.Fields.ChangesJson.register(container);\n\t\t\tApp.Fields.MultiReference.register(container);\n\t\t\tApp.Fields.Password.register(container);\n\t\t\tApp.Components.ActivityNotifier.register(container);\n\t\t\tApp.Fields.MultiAttachment.register(container);\n\t\t\tApp.Fields.MapCoordinates.registerEdit(container);\n\t\t},\n\t\tregisterEvents: function () {\n\t\t\tlet editViewForm = this.getForm();\n\t\t\tif (!this.proceedRegisterEvents()) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tthis.registerInventoryController(editViewForm);\n\t\t\tapp.registerBlockAnimationEvent(editViewForm);\n\t\t\tthis.registerBlockStatusCheckOnLoad();\n\t\t\tthis.registerBasicEvents(editViewForm);\n\t\t\tthis.registerEventForCopyAddress();\n\t\t\tthis.registerSubmitEvent();\n\t\t\tthis.registerLeavePageWithoutSubmit(editViewForm);\n\t\t\tthis.registerValidationsFields(editViewForm);\n\t\t\tthis.registerAutoloadAddress();\n\t\t\teditViewForm.find('.js-form-submit-btn').prop('disabled', false);\n\t\t}\n\t}\n);\n"],"names":["_toConsumableArray","arr","_arrayWithoutHoles","_iterableToArray","_unsupportedIterableToArray","_nonIterableSpread","TypeError","o","minLen","_arrayLikeToArray","n","Object","prototype","toString","call","slice","constructor","name","Array","from","test","iter","Symbol","iterator","isArray","len","length","i","arr2","_typeof","obj","$","Class","referenceSelectionEvent","referenceDeSelectionEvent","recordPreSave","editInstance","inventoryController","getInstanceByModuleName","moduleName","app","getModuleName","moduleClassName","fallbackClassName","instance","parentModule","getParentModuleName","window","getInstance","Vtiger_Edit_Js","saveAjax","params","progressIndicator","arguments","aDeferred","Deferred","isEmptyObject","reject","promise","record","getRecordId","module","action","data","async","dataType","document","progressLoader","message","vtranslate","position","blockInfo","enabled","handlerEvent","checkPreSaveValidation","done","response","AppConnector","request","responseData","resolve","mode","fail","jqXHR","textStatus","errorThrown","showNotify","text","type","success","formElement","relationOperation","getForm","setForm","element","val","getRecordsListParams","container","closest","sourceModule","popupReferenceModule","sourceFieldElement","sourceField","attr","sourceRecordElement","sourceRecordId","isMultiple","filterFields","mappingRelatedField","find","mappingRelatedModule","JSON","parse","each","index","mapFieldElement","listFilterFieldsJson","listFilterFields","src_module","src_field","src_record","searchParamsElement","searchParams","search_params","modalParamsElement","modal_params","lockedFieldsElement","lockedFields","value","fieldElement","multi_select","showRecordsList","e","_this","parentElem","target","_modal","setSelectEvent","setReferenceFieldValue","thisInstance","fieldDisplayElement","selectedName","id","trigger","decodeHTML","validationEngine","getMappingRelatedField","getRecordDetails","result","event","key","fieldinfo","displayData","mapFieldElementMultiselect","multipleAttr","splitValues","split","is","appendTo","picklistvalues","hasOwnProperty","newOption","Option","append","mapFieldDisplayElement","referenceModulesList","getRelationOperation","proceedRegisterEvents","referenceModulePopupRegisterEvent","_this2","on","moduleList","App","Fields","Picklist","showSelect2ElementView","currentTarget","referenceModuleElement","prevSelectedReferenceModule","getReferencedModuleName","parenElement","searchModuleNames","getReferenceSearchParams","tdElement","searchModule","search_module","registerAutoCompleteFields","autocomplete","delay","minLength","source","inputElement","searchValue","term","search_value","reponseDataList","serverDataFormat","label","push","field","select","ui","selectedItemData","item","change","open","menu","css","collision","registerClearReferenceSelectionEvent","clearFieldValue","preventDefault","self","fieldValueContener","fieldNameElement","fieldName","referenceModule","removeAttr","registerPreventingEnterSubmitEvent","currentElement","which","registerTimeFields","registerEventForClockPicker","Date","register","DateTime","referenceCreateHandler","_this3","formData","serializeFormData","inArray","Components","QuickCreate","createRecord","sourceRecordData","callbackFunction","_recordLabel","_recordId","noCache","registerReferenceCreate","controlElementDiv","addressFieldsMapping","addressFieldsMappingBlockID","LBL_ADDRESS_INFORMATION","LBL_ADDRESS_BILLING","LBL_ADDRESS_MAILING_INFORMATION","LBL_ADDRESS_SHIPPING","LBL_ADDRESS_DELIVERY_INFORMATION","addressFieldsData","registerEventForCopyAddress","block","addClass","registerEventForCopyBlockAddress","referenceFields","hideCopyAddressLabel","hasClass","to","copyAddress","enableCopyAddressFromModule","className","removeClass","recordRelativeAccountId","recordRelativeAccountName","copyAddressDetails","_this4","fromLabel","toLabel","relatedRecord","status","addressMapping","BlockIds","fromElement","fromElementLabel","nameElementFrom","nameElementTo","toElement","toElementLable","errorMsg","registerReferenceSelectionEvent","relategField","blockContainer","copyAddressDetailsRef","mapAddressDetails","indexOf","registerMaskFields","inputmask","registerSubmitEvent","editViewForm","recordPreSaveEvent","Event","isDefaultPrevented","removeData","formAlignmentAfterValidation","registerRecordPreSaveEventEvent","form","_e","view","siblings","registerLeavePageWithoutSubmit","CKEDITOR","instances","keys","initialFormData","serialize","onbeforeunload","stretchCKEditor","row","parents","td","parent","remove","registerEventForEditor","_this5","loadEditorElement","noteContentElement","Text","Editor","registerHelpInfo","showPopoverElementView","registerBlockStatusCheckOnLoad","blocks","currentBlock","dynamicAttr","headerAnimationElement","not","bodyContents","blockId","cacheGet","checkVisibilityBlocks","registerAutoloadAddress","_index","search","input","requestData","_textStatus","_errorThrown","responseJSON","error","animation","_event","address","_idx","v","prop","idx","x","_renderItem","ul","concat","countryCode","setEnabledFields","fieldValue","fieldDisplay","placeholder","setDisabledFields","sourceFieldModule","registerValidationsFields","validationEngineOptionsForRecord","checkReferencesField","clear","activeProcess","activeSubProcess","CONFIG","fieldsReferencesDependent","t","referenceLink","processfieldElement","checkSubProcessModulesList","option","checkReferenceModulesList","referenceProcess","subProcessfieldElement","Vtiger_Helper_Js","hideOptions","subProcessValue","registerReferenceFields","registerFocusFirstField","afterTimeout","elementToFocus","elementToFocusTabindex","_this6","setTimeout","get","elemLen","selectionStart","selectionEnd","tabindex","focus","registerCopyValue","registerMultiImageFields","MultiImage","registerInventoryController","Vtiger_Inventory_Js","getInventoryInstance","registerRecordCollectorModal","collectorType","html","showModalWindow","modalForm","summary","validationEngineOptions","searchForm","registerModalPosition","recordForm","dataset","column","setValue","hideModalWindow","modalId","registerAccountName","first","firstInput","last","lastInput","full","fullInput","legalForm","legalFormVal","keyup","triggerRecordEditEvents","changeValues","_","setFieldValue","changeOptions","options","setFieldOptions","hoverField","showModal","url","showFields","hideFields","fieldInfo","display","_fieldElement$val","currentValues","map","filter","sort","newOptions","mandatory","add","includes","newValues","every","selected","validation","pageController","registerChangeValueHandlerEvent","_this7","fields","sendChangeValueHandlerEvent","_this8","progress","hide","registerKeyboardShortcutsEvent","addEventListener","shiftKey","ctrlKey","code","registerBasicEvents","MultiEmail","MultiDependField","Tree","MultiCurrency","MeetingUrl","ChangesJson","MultiReference","Password","ActivityNotifier","MultiAttachment","MapCoordinates","registerEdit","registerEvents","registerBlockAnimationEvent"],"mappings":"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"}