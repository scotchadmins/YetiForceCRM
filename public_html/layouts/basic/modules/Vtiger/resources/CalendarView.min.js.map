{"version":3,"file":"CalendarView.min.js","sources":["CalendarView.js"],"sourcesContent":["/* {[The file is published on the basis of YetiForce Public License 5.0 that can be found in the following directory: licenses/LicenseEN.txt or yetiforce.com]} */\n'use strict';\n\n/**\n * Class representing a standard calendar.\n * @extends Calendar_Js\n */\nwindow.Vtiger_Calendar_Js = class Vtiger_Calendar_Js extends Calendar_Js {\n\t/**\n\t * Set calendar module options.\n\t * @returns {{allDaySlot: boolean, dayClick: object, selectable: boolean}}\n\t */\n\tsetCalendarModuleOptions() {\n\t\tconst self = this;\n\t\treturn {\n\t\t\tallDaySlot: app.getMainParams('allDaySlot'),\n\t\t\tdateClick: (args) => {\n\t\t\t\tif (this.eventCreate) {\n\t\t\t\t\tself.registerDayClickEvent(args);\n\t\t\t\t}\n\t\t\t},\n\t\t\tselectable: false,\n\t\t\teventClick: function (info) {\n\t\t\t\tinfo.jsEvent.preventDefault();\n\t\t\t\tconst element = $(info.el);\n\t\t\t\tlet link = element.attr('href');\n\t\t\t\tif (!link) {\n\t\t\t\t\tlink = element.find('a').attr('href');\n\t\t\t\t}\n\t\t\t\tif (link && $.inArray('js-show-modal', info.event.classNames) !== -1) {\n\t\t\t\t\tapp.showModalWindow(null, link.replace('view=', 'xview=') + '&view=QuickDetailModal');\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t}\n\t/**\n\t * Set calendar module's options.\n\t * @returns {object}\n\t */\n\tsetCalendarAdvancedOptions() {\n\t\tconst self = this;\n\t\treturn Object.assign(super.setCalendarAdvancedOptions(), {\n\t\t\theaderToolbar: {\n\t\t\t\tleft: `dayGridMonth,${app.getMainParams('weekView')},${app.getMainParams('dayView')},listWeek,today`,\n\t\t\t\tcenter: 'prevYear,prev,title,next,nextYear',\n\t\t\t\tright: ''\n\t\t\t},\n\t\t\tselect: function (info) {\n\t\t\t\tself.selectDays(info);\n\t\t\t},\n\t\t\tdatesSet: function (dateInfo) {\n\t\t\t\tapp.event.trigger('Calendar.DatesSet', dateInfo, this);\n\t\t\t\tif (self.fullCalendar.view !== 'year') {\n\t\t\t\t\tself.loadCalendarData();\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n\t/**\n\t * Function invokes by fullCalendar, sets selected days in form\n\t * @param {object} info\n\t */\n\tselectDays(info) {\n\t\tif (!this.container.find('.js-right-panel-event-link').length) {\n\t\t\treturn false;\n\t\t}\n\t\tthis.container.find('.js-right-panel-event-link').tab('show');\n\t\tsuper.selectDays(info);\n\t}\n\t/**\n\t * Load calendar data\n\t */\n\tloadCalendarData() {\n\t\tconst self = this,\n\t\t\tprogressInstance = $.progressIndicator({ blockInfo: { enabled: true } });\n\t\tlet options = this.getDefaultParams();\n\t\tself.fullCalendar.removeAllEvents();\n\t\tself.clearFilterButton(options['user']);\n\t\toptions.historyUrl = `index.php?module=${options['module']}&view=Calendar&history=true`;\n\t\toptions.historyUrl += `&viewType=${this.fullCalendar.view.type}&start=${options['start']}&end=${options['end']}`;\n\t\toptions.historyUrl += `&time=${options['time']}&user=${JSON.stringify(options['user'])}`;\n\t\toptions.historyUrl += `&extraSources=${JSON.stringify(options['extraSources'])}`;\n\t\toptions.historyUrl += `&hiddenDays=${this.fullCalendar.getOption('hiddenDays')}`;\n\t\tif (options['cvid']) {\n\t\t\toptions.historyUrl += `&cvid=${options['cvid']}`;\n\t\t}\n\t\tlet connectorMethod = window['AppConnector']['request'];\n\t\tif (this.browserHistory && window.calendarLoaded) {\n\t\t\tconnectorMethod = window['AppConnector']['requestPjax'];\n\t\t}\n\t\tif (this.browserHistoryConfig && Object.keys(this.browserHistoryConfig).length && !window.calendarLoaded) {\n\t\t\toptions = Object.assign(options, {\n\t\t\t\tstart: this.browserHistoryConfig.start,\n\t\t\t\tend: this.browserHistoryConfig.end,\n\t\t\t\tuser: this.browserHistoryConfig.user,\n\t\t\t\ttime: this.browserHistoryConfig.time,\n\t\t\t\tcvid: this.browserHistoryConfig.cvid\n\t\t\t});\n\t\t\tconnectorMethod = window['AppConnector']['request'];\n\t\t\tapp.setMainParams('showType', this.browserHistoryConfig.time);\n\t\t\tapp.setMainParams('usersId', this.browserHistoryConfig.user);\n\t\t}\n\t\tconnectorMethod(options).done((events) => {\n\t\t\tself.fullCalendar.removeAllEvents();\n\t\t\tself.fullCalendar.addEventSource(events.result);\n\t\t\tprogressInstance.progressIndicator({ mode: 'hide' });\n\t\t});\n\t\twindow.calendarLoaded = true;\n\t}\n\t/**\n\t * Reload calendar data after changing search parameters\n\t */\n\treloadCalendarData() {\n\t\tsuper.reloadCalendarData();\n\t\tthis.updateCountTaskCalendar();\n\t}\n\t/**\n\t * Show/hide clear filter button\n\t */\n\tclearFilterButton(user) {\n\t\tlet currentUser = parseInt(app.getMainParams('userId')),\n\t\t\ttime = app.getMainParams('showType'),\n\t\t\tstatement =\n\t\t\t\tJSON.stringify(user['selectedIds']) === JSON.stringify([`${currentUser}`]) &&\n\t\t\t\tthis.getCurrentCvId() === undefined &&\n\t\t\t\ttime === 'current';\n\t\t$('.js-calendar__clear-filters').toggleClass('d-none', statement);\n\t}\n\t/**\n\t * Default params\n\t * @returns {{module: *, action: string, mode: string, start: *, end: *, user: *, emptyFilters: boolean}}\n\t */\n\tgetDefaultParams() {\n\t\tlet options = super.getDefaultParams(),\n\t\t\tuser = this.getSelectedUsersCalendar();\n\t\tif (0 === user.length) {\n\t\t\tuser = app.getMainParams('usersId');\n\t\t}\n\t\tif (user === undefined) {\n\t\t\tuser = [app.getMainParams('userId')];\n\t\t}\n\t\tif (this.fullCalendar.view === 'timeGridDay') {\n\t\t\tthis.fullCalendar.view.activeEnd = this.fullCalendar.view.activeEnd.add(1, 'day');\n\t\t}\n\t\tconst time = this.getSidebarView().find('.js-switch--showType input:checked').data('val');\n\t\toptions.time = options.time !== undefined ? time : app.getMainParams('showType');\n\t\toptions.history = true;\n\t\toptions.user = user;\n\t\treturn options;\n\t}\n\t/**\n\t * Get selected users\n\t * @returns {{ selectedIds: array, excludedIds: array }}\n\t */\n\tgetSelectedUsersCalendar() {\n\t\tconst sidebar = this.getSidebarView();\n\t\tlet selectedUsers = sidebar.find('.js-input-user-owner-id:checked'),\n\t\t\tnotSelectedUsers = sidebar.find('.js-input-user-owner-id:not(:checked)'),\n\t\t\tselectedUsersAjax = sidebar.find('.js-input-user-owner-id-ajax'),\n\t\t\tselectedRolesAjax = sidebar.find('.js-input-role-owner-id-ajax'),\n\t\t\tcheckboxSelectAll = sidebar.find('.js-select-all'),\n\t\t\tselectedIds = [],\n\t\t\texcludedIds = [];\n\n\t\tlet ifSelectAllIsChecked = checkboxSelectAll.length > 0 && checkboxSelectAll.is(':checked');\n\t\tif (ifSelectAllIsChecked) {\n\t\t\tselectedIds.push('all');\n\t\t} else if (selectedUsers.length > 0) {\n\t\t\tselectedUsers.each(function () {\n\t\t\t\tselectedIds.push($(this).val());\n\t\t\t});\n\t\t}\n\t\tif (selectedUsersAjax.length > 0) {\n\t\t\tselectedIds = selectedUsersAjax.val().concat(selectedRolesAjax.val());\n\t\t}\n\t\tif (ifSelectAllIsChecked && notSelectedUsers) {\n\t\t\tnotSelectedUsers.each(function () {\n\t\t\t\texcludedIds.push($(this).val());\n\t\t\t});\n\t\t}\n\t\tif (0 === selectedIds.length && CONFIG.userId) {\n\t\t\tselectedIds.push(CONFIG.userId);\n\t\t}\n\t\treturn { selectedIds: selectedIds, excludedIds: excludedIds };\n\t}\n\t/**\n\t * Register day click event.\n\t * @param {object} info\n\t */\n\tregisterDayClickEvent(info) {\n\t\tconst self = this,\n\t\t\tuserFormat = App.Fields.Date.dateToUserFormat(info.date);\n\t\tif (!CONFIG.isQuickCreateSupported) {\n\t\t\tapp.openUrl(\n\t\t\t\t'index.php?module=' +\n\t\t\t\t\t(this.module ? this.module : CONFIG.module) +\n\t\t\t\t\t'&view=Edit&date_start=' +\n\t\t\t\t\tuserFormat +\n\t\t\t\t\t'&due_date=' +\n\t\t\t\t\tuserFormat\n\t\t\t);\n\t\t\treturn;\n\t\t}\n\t\tself.getCalendarCreateView().done((data) => {\n\t\t\tApp.Components.QuickCreate.showModal(data, {\n\t\t\t\tcallbackFunction: () => {\n\t\t\t\t\tself.reloadCalendarData();\n\t\t\t\t},\n\t\t\t\tcallbackBeforeRegister: (modal) => {\n\t\t\t\t\tmodal.find('.js-selected-date').val(App.Fields.Date.dateToDbFormat(info.date));\n\t\t\t\t},\n\t\t\t\tcallbackPostShown: (modal) => {\n\t\t\t\t\tself.dayCallbackCreateModal(modal, info);\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t}\n\t/**\n\t * Callback after shown create modal\n\t * @param {jQuery} modal\n\t * @param {object} info\n\t */\n\tdayCallbackCreateModal(modal, info) {\n\t\tlet dateFormat = modal.find('[name=\"date_start\"]').data('dateFormat'),\n\t\t\ttimeFormat = modal.find('[name=\"time_start\"]').data('format'),\n\t\t\tdefaultTimeFormat = 'hh:mm A',\n\t\t\tuserFormat = App.Fields.Date.dateToUserFormat(info.date, dateFormat),\n\t\t\tendTimeString;\n\n\t\tif (timeFormat == 24) {\n\t\t\tdefaultTimeFormat = 'HH:mm';\n\t\t}\n\t\tlet startTimeString = moment(info.date).format(defaultTimeFormat);\n\t\tif ('dayGridMonth' == this.fullCalendar.view.type) {\n\t\t\tlet now = new Date();\n\t\t\tstartTimeString = moment(now).format(defaultTimeFormat);\n\t\t\tendTimeString = moment(now).add(15, 'minutes').format(defaultTimeFormat);\n\t\t} else {\n\t\t\tendTimeString = moment(info.date).add(30, 'minutes').format(defaultTimeFormat);\n\t\t}\n\t\tmodal.find('[name=\"date_start\"]').val(userFormat);\n\t\tmodal.find('[name=\"due_date\"]').val(userFormat);\n\t\tmodal.find('[name=\"time_start\"]').val(startTimeString);\n\t\tmodal.find('[name=\"time_end\"]').val(endTimeString);\n\t}\n\t/**\n\t * Register switch events\n\t */\n\tregisterSwitchEvents() {\n\t\tlet isWorkDays,\n\t\t\tswitchShowTypeVal,\n\t\t\tswitchContainer = $('.js-calendar__tab--filters'),\n\t\t\tswitchShowType = switchContainer.find('.js-switch--showType'),\n\t\t\tshowTypeState = switchShowType.find('.js-switch--label-on.active').length ? 'current' : 'history',\n\t\t\tswitchSwitchingDays = switchContainer.find('.js-switch--switchingDays'),\n\t\t\tswitchingDaysState = switchSwitchingDays.find('.js-switch--label-on.active').length ? 'workDays' : 'all';\n\t\tlet historyParams = app.getMainParams('historyParams', true);\n\t\tif (historyParams === '') {\n\t\t\tisWorkDays =\n\t\t\t\tapp.getMainParams('switchingDays') === 'workDays' && app.moduleCacheGet('defaultSwitchingDays') !== 'all';\n\t\t\tswitchShowTypeVal =\n\t\t\t\tapp.getMainParams('showType') === 'current' && app.moduleCacheGet('defaultShowType') !== 'history';\n\t\t\tif (!switchShowTypeVal) {\n\t\t\t\tswitchShowType.find('.js-switch--label-off').button('toggle');\n\t\t\t}\n\t\t} else {\n\t\t\tif (historyParams.time !== undefined) {\n\t\t\t\tapp.setMainParams('showType', historyParams.time);\n\t\t\t}\n\t\t\tapp.setMainParams('switchingDays', historyParams.hiddenDays === '' ? 'all' : 'workDays');\n\t\t}\n\t\tswitchShowType.on('change', 'input', (e) => {\n\t\t\tconst currentTarget = $(e.currentTarget);\n\t\t\tif (typeof currentTarget.data('on-text') !== 'undefined') {\n\t\t\t\tapp.setMainParams('showType', 'current');\n\t\t\t\tapp.moduleCacheSet('defaultShowType', 'current');\n\t\t\t} else if (typeof currentTarget.data('off-text') !== 'undefined') {\n\t\t\t\tapp.setMainParams('showType', 'history');\n\t\t\t\tapp.moduleCacheSet('defaultShowType', 'history');\n\t\t\t}\n\t\t\tthis.reloadCalendarData();\n\t\t});\n\t\tif (app.getMainParams('showType') !== showTypeState) {\n\t\t\t$('label.active', switchShowType).find('input').filter(':first').trigger('change');\n\t\t}\n\t\tif (switchSwitchingDays.length) {\n\t\t\tif (typeof isWorkDays !== 'undefined' && !isWorkDays) {\n\t\t\t\tswitchSwitchingDays.find('.js-switch--label-off').button('toggle');\n\t\t\t}\n\t\t\tswitchSwitchingDays.on('change', 'input', (e) => {\n\t\t\t\tconst currentTarget = $(e.currentTarget);\n\t\t\t\tlet hiddenDays = [];\n\t\t\t\tif (typeof currentTarget.data('on-text') !== 'undefined') {\n\t\t\t\t\tapp.setMainParams('switchingDays', 'workDays');\n\t\t\t\t\tapp.moduleCacheSet('defaultSwitchingDays', 'workDays');\n\t\t\t\t\thiddenDays = app.getMainParams('hiddenDays', true);\n\t\t\t\t} else if (typeof currentTarget.data('off-text') !== 'undefined') {\n\t\t\t\t\tapp.setMainParams('switchingDays', 'all');\n\t\t\t\t\tapp.moduleCacheSet('defaultSwitchingDays', 'all');\n\t\t\t\t}\n\t\t\t\tthis.fullCalendar.setOption('hiddenDays', hiddenDays);\n\t\t\t\tthis.fullCalendar.setOption('height', this.setCalendarHeight());\n\t\t\t});\n\t\t\tif (app.getMainParams('switchingDays') !== switchingDaysState) {\n\t\t\t\t$('label.active', switchSwitchingDays).find('input').filter(':first').trigger('change');\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * Function toggles next year/month and general arrows on view render\n\t */\n\tregisterViewRenderEvents() {\n\t\tlet toolbar = this.calendarView.find('.fc-toolbar.fc-header-toolbar');\n\t\tthis.showChangeDateButtons(toolbar);\n\t\tthis.appendSubDateRow(toolbar);\n\t\tthis.refreshDatesRowView();\n\t\tthis.addHeaderButtons();\n\t\tthis.showTodayButtonCheckbox(toolbar);\n\t\tapp.event.on('Calendar.DatesSet', () => {\n\t\t\tthis.showChangeDateButtons(toolbar);\n\t\t\tthis.refreshDatesRowView();\n\t\t\tthis.showTodayButtonCheckbox(toolbar);\n\t\t});\n\t}\n\t/**\n\t * Function shows change date buttons in calendar's header for specific view\n\t * @param {jQuery} toolbar\n\t */\n\tshowChangeDateButtons(toolbar) {\n\t\tconst view = this.fullCalendar.view;\n\t\tconst buttonText = this.calendarOptions.buttonText;\n\t\tlet nextPrevButtons = toolbar.find('.fc-prev-button, .fc-next-button'),\n\t\t\tyearButtons = toolbar.find('.fc-prevYear-button, .fc-nextYear-button');\n\t\tyearButtons.first().html(`<span class=\"fas fa-xs fa-minus mr-1\"></span>${buttonText['year']}`);\n\t\tyearButtons.last().html(`${buttonText['year']}<span class=\"fas fa-xs fa-plus ml-1\"></span>`);\n\t\tif (view.type !== 'year' && Calendar_Js.viewsNamesLabels[view.type]) {\n\t\t\tlet viewType = Calendar_Js.viewsNamesLabels[view.type];\n\t\t\tnextPrevButtons.first().html(`<span class=\"fas fa-xs fa-minus mr-1\"></span>${buttonText[viewType]}`);\n\t\t\tnextPrevButtons.last().html(`${buttonText[viewType]}<span class=\"fas fa-xs fa-plus ml-1\"></span>`);\n\t\t}\n\t\tif (view.type === 'year') {\n\t\t\tnextPrevButtons.hide();\n\t\t\tyearButtons.show();\n\t\t} else if (view.type === 'dayGridMonth') {\n\t\t\tnextPrevButtons.show();\n\t\t\tyearButtons.show();\n\t\t} else if (view.type === 'list') {\n\t\t\tnextPrevButtons.hide();\n\t\t\tyearButtons.hide();\n\t\t} else {\n\t\t\tnextPrevButtons.show();\n\t\t\tyearButtons.hide();\n\t\t}\n\t}\n\t/**\n\t * Appends sub date row to calendar header and register its scroll\n\t * @param {jQuery} toolbar\n\t */\n\tappendSubDateRow(toolbar) {\n\t\tif (!this.calendarView.find('.js-dates-row').length) {\n\t\t\tthis.subDateRow =\n\t\t\t\t$(`<div class=\"js-scroll js-dates-row u-overflow-auto-xl-down order-4 flex-grow-1 position-relative my-1 w-100\" data-js=\"perfectScrollbar | container\">\n\t\t\t\t\t\t<div class=\"d-flex flex-nowrap w-100\">\n\t\t\t\t\t\t\t<div class=\"js-sub-date-list w-100 sub-date-list row no-gutters flex-nowrap nav nav-tabs\" data-js=\"data-type\"></div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>`);\n\t\t\ttoolbar.append(this.subDateRow);\n\t\t\tif ($(window).width() > app.breakpoints.lg) {\n\t\t\t\tapp.showNewScrollbar(toolbar);\n\t\t\t}\n\t\t}\n\t}\n\t/**\n\t * Refresh date bar with counts\n\t */\n\trefreshDatesRowView() {\n\t\tconst self = this;\n\t\tswitch (this.fullCalendar.view.type) {\n\t\t\tcase 'year':\n\t\t\t\tself.generateYearList();\n\t\t\t\tbreak;\n\t\t\tcase 'dayGridMonth':\n\t\t\t\tself.generateMonthList();\n\t\t\t\tbreak;\n\t\t\tcase 'dayGridWeek':\n\t\t\tcase 'timeGridWeek':\n\t\t\tcase 'listWeek':\n\t\t\t\tself.generateWeekList();\n\t\t\t\tbreak;\n\t\t\tcase 'dayGridWeek':\n\t\t\tcase 'timeGridDay':\n\t\t\t\tself.generateDaysList();\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tthis.container.find('.js-dates-row .js-sub-date-list').html('');\n\t\t\t\tbreak;\n\t\t}\n\t\tself.updateCountTaskCalendar();\n\t\tself.registerDatesChange();\n\t}\n\t/**\n\t * Generate days bar list\n\t */\n\tgenerateDaysList() {\n\t\tconst datesView = this.container.find('.js-dates-row'),\n\t\t\tactiveDays = moment(this.fullCalendar.view.currentStart).format('DDD'),\n\t\t\tnextDays = moment(this.fullCalendar.view.currentStart).add(7, 'days');\n\t\tlet prevDays = moment(this.fullCalendar.view.currentStart).subtract(5, 'days'),\n\t\t\tdaysToShow = nextDays.diff(prevDays, 'days'),\n\t\t\thtml = '';\n\n\t\tfor (let day = 0; day < daysToShow; ++day) {\n\t\t\tif (app.getMainParams('switchingDays') === 'workDays' && app.moduleCacheGet('defaultSwitchingDays') !== 'all') {\n\t\t\t\tif ($.inArray(prevDays.day(), app.getMainParams('hiddenDays', true)) !== -1) {\n\t\t\t\t\tprevDays = moment(prevDays).add(1, 'days');\n\t\t\t\t\tdaysToShow++;\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t}\n\t\t\tlet date = prevDays.format('YYYY-MM-DD'),\n\t\t\t\tdateUser = App.Fields.Date.dateToUserFormat(date),\n\t\t\t\tactive = '';\n\t\t\tif (prevDays.format('DDD') === activeDays) {\n\t\t\t\tactive = 'active';\n\t\t\t}\n\t\t\thtml += `<div data-date=\"${date}\" data-dates=\"${date}|${date}\" data-type=\"days\"\n\t\t\t\tclass=\"js-sub-record sub-record nav-item col-1 px-0\" data-js=\"click\">\n\t\t\t\t<div class=\"sub-record-content nav-link js-popover-tooltip ${active}\"\n\t\t\t\t\ttitle=\"${App.Fields.Date.fullDaysTranslated[prevDays.format('d')]} ${dateUser}\" data-js=\"class: active\">\n\t\t\t\t<div class=\"sub-date-name\">${app.vtranslate('JS_DAY_SHORT')} ${prevDays.format('DD')}\n\t\t\t\t<div class=\"js-count-events count badge c-badge--md ml-1\" data-js=\"html\">0</div>\n\t\t\t\t</div></div></div>`;\n\t\t\tprevDays = moment(prevDays).add(1, 'days');\n\t\t}\n\t\tdatesView.find('.js-sub-date-list').html(html);\n\t}\n\t/**\n\t * Generate weeks bar list\n\t */\n\tgenerateWeekList() {\n\t\tconst datesView = this.container.find('.js-dates-row'),\n\t\t\tactiveWeek = moment(this.fullCalendar.view.currentStart).format('WW'),\n\t\t\tnextWeeks = moment(this.fullCalendar.view.currentStart).add(6, 'weeks');\n\t\tlet prevWeeks = moment(this.fullCalendar.view.currentStart).subtract(5, 'weeks'),\n\t\t\thtml = '';\n\t\twhile (prevWeeks.format('YYYY-MM-DD') <= nextWeeks.format('YYYY-MM-DD')) {\n\t\t\tlet date = prevWeeks.format('YYYY-MM-DD'),\n\t\t\t\tdateEnd = moment(prevWeeks).add(6, 'day').format('YYYY-MM-DD'),\n\t\t\t\tdateUser = App.Fields.Date.dateToUserFormat(date),\n\t\t\t\tdateEndUser = App.Fields.Date.dateToUserFormat(dateEnd),\n\t\t\t\tactive = '';\n\t\t\tif (prevWeeks.format('WW') === activeWeek) {\n\t\t\t\tactive = 'active';\n\t\t\t}\n\t\t\thtml += `<div data-date=\"${date}\" data-dates=\"${date}|${dateEnd}\"\n\t\t\t\tclass=\"js-sub-record sub-record nav-item col-1 px-0\" data-type=\"weeks\" data-js=\"click\">\n\t\t\t\t<div class=\"sub-record-content nav-link js-popover-tooltip ${active}\" title=\"${dateUser} > ${dateEndUser}\" data-js=\"class: active\">\n\t\t\t\t<div class=\"sub-date-name\">${app.vtranslate('JS_WEEK_SHORT')} ${prevWeeks.format('WW')}\n\t\t\t\t<div class=\"js-count-events count badge c-badge--md ml-1\" data-js=\"html\">0</div>\n\t\t\t\t</div></div></div>`;\n\t\t\tprevWeeks.add(1, 'weeks');\n\t\t}\n\t\tdatesView.find('.js-sub-date-list').html(html);\n\t}\n\t/**\n\t * Generate month bar list\n\t */\n\tgenerateMonthList() {\n\t\tconst datesView = this.container.find('.js-dates-row'),\n\t\t\tactiveMonth = this.fullCalendar.view.currentStart.getMonth(),\n\t\t\tactiveYear = this.fullCalendar.view.currentStart.getFullYear();\n\t\tlet html = '';\n\t\tfor (let month = 0; 12 > month; ++month) {\n\t\t\tlet m = month <= 8 ? '0' + (month + 1) : month + 1,\n\t\t\t\tlastDay = App.Fields.Date.getLastMonthDay(activeYear, m),\n\t\t\t\tdate = activeYear + '-' + m + '-01',\n\t\t\t\tdateEnd = activeYear + '-' + m + '-' + lastDay,\n\t\t\t\tdateUser = App.Fields.Date.dateToUserFormat(date),\n\t\t\t\tdateEndUser = App.Fields.Date.dateToUserFormat(dateEnd),\n\t\t\t\tactive = '';\n\t\t\tif (month === activeMonth) {\n\t\t\t\tactive = 'active';\n\t\t\t}\n\t\t\thtml += `<div data-date=\"${date}\" data-dates=\"${date}|${dateEnd}\"\n\t\t\t\tclass=\"js-sub-record sub-record nav-item col-1 px-0\" data-type=\"months\" data-js=\"click\">\n\t\t\t\t<div class=\"sub-record-content nav-link js-popover-tooltip ${active}\" title=\"${dateUser} > ${dateEndUser}\" data-js=\"class: active\">\n\t\t\t\t<div class=\"sub-date-name\">${App.Fields.Date.monthsTranslated[month]}\n\t\t\t\t<div class=\"js-count-events count badge c-badge--md ml-1\" data-js=\"html\">0</div>\n\t\t\t\t</div></div></div>`;\n\t\t}\n\t\tdatesView.find('.js-sub-date-list').html(html);\n\t}\n\t/**\n\t * Generate year bar list\n\t */\n\tgenerateYearList() {\n\t\tconst datesView = this.container.find('.js-dates-row'),\n\t\t\tactiveYear = this.fullCalendar.view.currentStart.getFullYear(),\n\t\t\tnextYear = activeYear + 1;\n\t\tlet prevYear = activeYear - 1,\n\t\t\thtml = '';\n\t\twhile (prevYear <= nextYear) {\n\t\t\tlet date = prevYear + '-01-01',\n\t\t\t\tdateEnd = prevYear + '-12-31',\n\t\t\t\tactive = '';\n\t\t\tif (prevYear === activeYear) {\n\t\t\t\tactive = 'active';\n\t\t\t}\n\t\t\thtml += `<div data-date=\"${date}\" data-dates=\"${date}|${dateEnd}\"\n\t\t\t\tclass=\"js-sub-record sub-record col-4 nav-item\" data-type=\"years\" data-js=\"click\">\n\t\t\t\t<div class=\"sub-record-content nav-link ${active}\" data-js=\"class: active\">\n\t\t\t\t<div class=\"sub-date-name\">${prevYear}<div class=\"js-count-events count badge c-badge--md ml-1\" data-js=\"html\">0</div></div>\n\t\t\t\t</div></div>`;\n\t\t\tprevYear = prevYear + 1;\n\t\t}\n\t\tdatesView.find('.js-sub-date-list').html(html);\n\t}\n\t/**\n\t * Counting the number of events in the bar for the current view\n\t */\n\tupdateCountTaskCalendar() {\n\t\tconst datesView = this.container.find('.js-dates-row'),\n\t\t\tsubDatesElements = datesView.find('.js-sub-record');\n\t\tlet options = this.getDefaultParams(),\n\t\t\tdateArray = {};\n\t\tdelete options.start;\n\t\tdelete options.end;\n\t\tsubDatesElements.each(function (key) {\n\t\t\tdateArray[key] = $(this).data('dates').split('|');\n\t\t});\n\t\toptions.mode = 'getCountEventsGroup';\n\t\toptions.dates = dateArray;\n\t\tAppConnector.request(options).done(function (events) {\n\t\t\tsubDatesElements.each(function (key) {\n\t\t\t\t$(this).find('.js-count-events').removeClass('hide').html(events.result[key]);\n\t\t\t});\n\t\t});\n\t}\n\t/**\n\t * Registration of the date change in the counting the number of events bar\n\t */\n\tregisterDatesChange() {\n\t\tthis.container.find('.js-dates-row .js-sub-record').on('click', (e) => {\n\t\t\tlet currentTarget = $(e.currentTarget);\n\t\t\tcurrentTarget.addClass('active');\n\t\t\tthis.fullCalendar.gotoDate(currentTarget.data('date'));\n\t\t});\n\t}\n\t/**\n\t * Add header buttons\n\t */\n\taddHeaderButtons() {\n\t\tif (this.calendarView.find('.js-calendar__view-btn').length) {\n\t\t\treturn;\n\t\t}\n\t\tlet buttonsContainer = this.calendarView.prev('.js-calendar__header-buttons'),\n\t\t\tviewBtn = buttonsContainer.find('.js-calendar__view-btn').clone(),\n\t\t\tfilters = buttonsContainer.find('.js-calendar__filter-container').clone(),\n\t\t\ttoolbar = this.calendarView.find('.fc-toolbar-chunk');\n\t\ttoolbar.first().addClass('fc-left');\n\t\ttoolbar.eq(1).addClass('fc-center');\n\t\tthis.calendarView.find('.fc-left .fc-button-group').prepend(viewBtn);\n\t\tthis.calendarView.find('.fc-center').after(filters);\n\t\tthis.registerClearFilterButton();\n\t\tthis.registerFilterTabChange();\n\t}\n\t/**\n\t * Register clear filter button\n\t */\n\tregisterClearFilterButton() {\n\t\tconst sidebar = this.getSidebarView(),\n\t\t\tclearBtn = this.calendarView.find('.js-calendar__clear-filters');\n\t\tapp.showPopoverElementView(clearBtn);\n\t\tclearBtn.on('click', () => {\n\t\t\t$('.js-calendar__extended-filter-tab a').removeClass('active');\n\t\t\tapp.moduleCacheSet('CurrentCvId', null);\n\t\t\tapp.setMainParams('showType', 'current');\n\t\t\tapp.moduleCacheSet('defaultShowType', 'current');\n\t\t\tsidebar.find('input:checkbox').prop('checked', false);\n\t\t\tsidebar.find('option:selected').prop('selected', false).trigger('change.select2');\n\t\t\tsidebar.find('.js-sidebar-filter-container').each((_, e) => {\n\t\t\t\tlet element = $(e);\n\t\t\t\tlet cacheName = element.data('cache');\n\t\t\t\tif (element.data('name') && cacheName) {\n\t\t\t\t\tapp.moduleCacheSet(cacheName, '');\n\t\t\t\t}\n\t\t\t});\n\t\t\tlet calendarSwitch = sidebar.find('.js-switch--showType [class*=\"js-switch--label\"]'),\n\t\t\t\tactualUserCheckbox = sidebar.find('.js-input-user-owner-id[value=' + app.getMainParams('userId') + ']');\n\t\t\tcalendarSwitch.last().removeClass('active');\n\t\t\tcalendarSwitch.first().addClass('active');\n\t\t\t$('input[data-val=\"current\"]', calendarSwitch).prop('checked', true);\n\t\t\tif (actualUserCheckbox.length) {\n\t\t\t\tactualUserCheckbox.prop('checked', true);\n\t\t\t} else {\n\t\t\t\tapp.setMainParams('usersId', undefined);\n\t\t\t}\n\t\t\tthis.reloadCalendarData();\n\t\t});\n\t}\n\t/**\n\t * Register filter tab change\n\t */\n\tregisterFilterTabChange() {\n\t\tthis.calendarView.find('.js-calendar__extended-filter-tab').on('shown.bs.tab', () => {\n\t\t\tthis.reloadCalendarData();\n\t\t\tapp.moduleCacheSet('CurrentCvId', this.getCurrentCvId());\n\t\t});\n\t}\n\t/**\n\t * Function appends and shows today button's checkbox\n\t * @param {jQuery} toolbar\n\t */\n\tshowTodayButtonCheckbox(toolbar) {\n\t\tlet todayButton = toolbar.find('.fc-today-button'),\n\t\t\ttodyButtonIcon = todayButton.attr('disabled') ? 'fa-calendar-check' : 'fa-calendar',\n\t\t\tpopoverContent = todayButton.attr('title');\n\t\ttodayButton.html(`<div class=\"js-popover-tooltip\"><span class=\"far fa-lg ${todyButtonIcon}\"></span></div>`);\n\t\tapp.showPopoverElementView(todayButton.find('.js-popover-tooltip'), {\n\t\t\ttitle: popoverContent\n\t\t});\n\t}\n\t/**\n\t * Registration of the event being added to favorite users\n\t */\n\tregisterPinUser() {\n\t\tconst self = this;\n\t\tthis.getSidebarView()\n\t\t\t.find('.js-pin-user')\n\t\t\t.on('click', function () {\n\t\t\t\tconst element = $(this);\n\t\t\t\tAppConnector.request({\n\t\t\t\t\tmodule: self.module,\n\t\t\t\t\taction: 'Calendar',\n\t\t\t\t\tmode: 'pinOrUnpinUser',\n\t\t\t\t\telement_id: element.data('elementid')\n\t\t\t\t}).done((data) => {\n\t\t\t\t\tif (data.result === 'unpin') {\n\t\t\t\t\t\telement.find('.js-pin-icon').removeClass('fas').addClass('far');\n\t\t\t\t\t} else if (data.result === 'pin') {\n\t\t\t\t\t\telement.find('.js-pin-icon').removeClass('far').addClass('fas');\n\t\t\t\t\t} else {\n\t\t\t\t\t\tapp.showNotify({\n\t\t\t\t\t\t\ttext: app.vtranslate('JS_ERROR'),\n\t\t\t\t\t\t\ttype: 'error'\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t}\n\t/**\n\t * Register cache settings\n\t */\n\tregisterCacheSettings() {}\n\t/**\n\t * Register events\n\t */\n\tregisterEvents() {\n\t\tsuper.registerEvents();\n\t\tthis.registerCacheSettings();\n\t\tthis.registerSwitchEvents();\n\t\tthis.registerPinUser();\n\t\tElementQueries.listen();\n\t}\n};\n"],"names":["_typeof","obj","Symbol","iterator","constructor","prototype","_classCallCheck","instance","Constructor","TypeError","_defineProperties","target","props","descriptor","i","length","enumerable","configurable","writable","Object","defineProperty","_toPropertyKey","key","_createClass","protoProps","staticProps","arg","_toPrimitive","String","input","hint","prim","toPrimitive","res","call","Number","_get","Reflect","get","bind","property","receiver","base","_superPropBase","desc","getOwnPropertyDescriptor","arguments","value","apply","object","hasOwnProperty","_getPrototypeOf","_inherits","subClass","superClass","create","_setPrototypeOf","o","p","setPrototypeOf","__proto__","_createSuper","Derived","hasNativeReflectConstruct","_isNativeReflectConstruct","result","Super","NewTarget","construct","_possibleConstructorReturn","self","_assertThisInitialized","ReferenceError","sham","Proxy","Boolean","valueOf","e","getPrototypeOf","window","Vtiger_Calendar_Js","_Calendar_Js","_super","setCalendarModuleOptions","_this","allDaySlot","app","getMainParams","dateClick","args","eventCreate","registerDayClickEvent","selectable","eventClick","info","jsEvent","preventDefault","element","$","el","link","attr","find","inArray","event","classNames","showModalWindow","replace","setCalendarAdvancedOptions","assign","headerToolbar","left","concat","center","right","select","selectDays","datesSet","dateInfo","trigger","fullCalendar","view","loadCalendarData","container","tab","progressInstance","progressIndicator","blockInfo","enabled","options","getDefaultParams","removeAllEvents","clearFilterButton","user","historyUrl","module","type","start","end","time","JSON","stringify","extraSources","getOption","cvid","connectorMethod","AppConnector","request","browserHistory","calendarLoaded","requestPjax","browserHistoryConfig","keys","setMainParams","done","events","addEventSource","mode","reloadCalendarData","updateCountTaskCalendar","currentUser","parseInt","statement","selectedIds","getCurrentCvId","toggleClass","getSelectedUsersCalendar","activeEnd","add","getSidebarView","data","history","sidebar","selectedUsers","notSelectedUsers","selectedUsersAjax","selectedRolesAjax","checkboxSelectAll","excludedIds","ifSelectAllIsChecked","is","push","each","val","CONFIG","userId","userFormat","App","Fields","Date","dateToUserFormat","date","isQuickCreateSupported","getCalendarCreateView","Components","QuickCreate","showModal","callbackFunction","callbackBeforeRegister","modal","dateToDbFormat","callbackPostShown","dayCallbackCreateModal","openUrl","endTimeString","dateFormat","timeFormat","defaultTimeFormat","startTimeString","moment","format","now","registerSwitchEvents","isWorkDays","switchShowTypeVal","_this2","switchContainer","switchShowType","showTypeState","switchSwitchingDays","switchingDaysState","historyParams","moduleCacheGet","button","hiddenDays","on","currentTarget","moduleCacheSet","filter","setOption","setCalendarHeight","registerViewRenderEvents","_this3","toolbar","calendarView","showChangeDateButtons","appendSubDateRow","refreshDatesRowView","addHeaderButtons","showTodayButtonCheckbox","buttonText","calendarOptions","nextPrevButtons","yearButtons","first","html","year","last","Calendar_Js","viewsNamesLabels","viewType","hide","show","subDateRow","append","width","breakpoints","lg","showNewScrollbar","generateYearList","generateMonthList","generateWeekList","generateDaysList","registerDatesChange","datesView","activeDays","currentStart","nextDays","prevDays","subtract","daysToShow","diff","day","dateUser","active","fullDaysTranslated","vtranslate","activeWeek","nextWeeks","prevWeeks","dateEnd","dateEndUser","activeMonth","getMonth","activeYear","getFullYear","month","m","lastDay","getLastMonthDay","monthsTranslated","prevYear","subDatesElements","dateArray","split","dates","removeClass","_this4","addClass","gotoDate","buttonsContainer","prev","viewBtn","clone","filters","eq","prepend","after","registerClearFilterButton","registerFilterTabChange","_this5","clearBtn","showPopoverElementView","prop","_","cacheName","calendarSwitch","actualUserCheckbox","_this6","todayButton","todyButtonIcon","popoverContent","title","registerPinUser","action","element_id","showNotify","text","registerCacheSettings","registerEvents","ElementQueries","listen"],"mappings":"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"}